<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="在nignx中我们比较长使用的就是location，我们使用location来定位资源或者转发请求，使用不当经常就会遇到404错误，无法找到资源或者请求异常。下面我们来详细了解一下location的用法。 语法 location的具体语法如下： 语法规则很简单，一个location关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。"><title>nginx中location使用方法总结</title><link rel=canonical href=https://konghanghang.github.io/iminling-pages/2023/nginx-location-use-summary/><link rel=stylesheet href=/iminling-pages/scss/style.min.3d6a5ee04e8710bed041e927cc6e05e92f4112a233dbc27f5e305653fa21c8fe.css><meta property='og:title' content="nginx中location使用方法总结"><meta property='og:description' content="在nignx中我们比较长使用的就是location，我们使用location来定位资源或者转发请求，使用不当经常就会遇到404错误，无法找到资源或者请求异常。下面我们来详细了解一下location的用法。 语法 location的具体语法如下： 语法规则很简单，一个location关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。"><meta property='og:url' content='https://konghanghang.github.io/iminling-pages/2023/nginx-location-use-summary/'><meta property='og:site_name' content='记录点滴 - 分享'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='nginx'><meta property='article:published_time' content='2023-08-30T14:57:18+00:00'><meta property='article:modified_time' content='2023-08-30T14:57:18+00:00'><meta name=twitter:title content="nginx中location使用方法总结"><meta name=twitter:description content="在nignx中我们比较长使用的就是location，我们使用location来定位资源或者转发请求，使用不当经常就会遇到404错误，无法找到资源或者请求异常。下面我们来详细了解一下location的用法。 语法 location的具体语法如下： 语法规则很简单，一个location关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。"><script async src="https://www.googletagmanager.com/gtag/js?id=G-396775573"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-396775573")}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9431056359067158" crossorigin=anonymous></script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/iminling-pages/><img src=/iminling-pages/img/avatar_hu_b22a428fdb3aa6b9.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/iminling-pages>记录点滴 - 分享</a></h1><h2 class=site-description>记录点滴，分享生活</h2></div></header><ol class=menu id=main-menu><li><a href=/iminling-pages/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/iminling-pages/%E5%85%B3%E4%BA%8E/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/iminling-pages/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/iminling-pages/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/iminling-pages/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#语法>语法</a></li><li><a href=#修饰符>修饰符</a></li><li><a href=#匹配过程>匹配过程</a></li><li><a href=#路径匹配>路径匹配</a><ol><li><a href=#proxy_pass>proxy_pass</a><ol><li><a href=#不带uri方式相对路径>不带URI方式(相对路径)</a></li><li><a href=#带uri方式绝对路径>带URI方式(绝对路径)</a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/iminling-pages/categories/nginx/>Nginx</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/iminling-pages/2023/nginx-location-use-summary/>nginx中location使用方法总结</a></h2><h3 class=article-subtitle>在nignx中我们比较长使用的就是location，我们使用location来定位资源或者转发请求，使用不当经常就会遇到404错误，无法找到资源或者请求异常。下面我们来详细了解一下location的用法。 语法 location的具体语法如下： 语法规则很简单，一个location关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 30, 2023</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>5 minute read</time></div></footer></div></header><section class=article-content><p>在nignx中我们比较长使用的就是location，我们使用location来定位资源或者转发请求，使用不当经常就会遇到404错误，无法找到资源或者请求异常。下面我们来详细了解一下location的用法。</p><h2 id=语法>语法</h2><p>location的具体语法如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>location [ = | ~ | ~* | ^~ ] uri { ... }
</span></span><span class=line><span class=cl>location @name { ... }
</span></span></code></pre></td></tr></table></div></div><p><span class="md-plain md-expand">语法规则很简单，一个</span><span class=md-pair-s spellcheck=false><code>location</code></span><span class="md-plain md-expand">关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。</span></p><h2 id=修饰符>修饰符</h2><p>在语法中可以看到location有四中修饰符，其实还有一种就是修饰符就是什么也没有，location后边直接跟uri，下边来详细了解一下各种修饰符的作用：</p><p><code>=</code> 表示精确匹配。只有请求的url路径与后面的字符串完全相等时，才会命中。</span>
<code>~</code> 表示该规则是使用正则定义的，区分大小写。</span>
<code>~*</code> 表示该规则是使用正则定义的，不区分大小写。</span>
<code>^~</code> 表示如果该符号后面的字符是最佳匹配，采用该规则，不再进行后续的查找。</span>
<code>无修饰符</code> 表示前缀匹配</p><p><code>=</code>、<code>~</code>和<code>^~</code>是非正则匹配，<code>~</code>和<code>~*</code>是正则匹配。</p><p>location匹配还有一个特点：**非正则匹配优先！**非正则>正则</p><h2 id=匹配过程>匹配过程</h2><p>总共5种修饰符，如果一个url请求过来可以匹配到多种，那nginx会如何选择呢？下边来看一下完整的匹配过程：</p><ol><li><p>用所有的前缀字符串去匹配URI(这里说的前缀字符串，是除<del>和</del>*修饰的字符串外的所有字符串，包括=、^~及无修饰符三种都算是前缀字符串)；</p></li><li><p>如果找到=号修饰的字符串与URI匹配(无论它在哪个位置)，则终止匹配过程，并进入该location内部执行具体操作；</p></li><li><p>如果不找到=号修饰的字符串，则继续匹配普通前缀字符串(即用^~修饰的或无修饰符的字符串)；</p></li><li><p>在^~修饰的或无修饰符的字符串中如果有多个规则能匹配上URI，则会查看最长的那一个是否用^~修饰；</p></li><li><p>如果最长的那个有用^~修饰，则终止匹配，这个用^~修饰的“最长”的匹配就是最终被选用的location，但是如果这个“最长”的匹配没有用^~修饰(说明它是无修饰符的)，则会暂时把它存储下来，但不会终止匹配，而是继续进行后面的正则匹配；</p></li><li><p>开始正则匹配，匹配所有用<del>或</del>*修饰的字符串</p></li><li><p>匹配到第一个正则表达式后终止匹配，使用对应的location；</p></li><li><p>如果没有匹配到正则表达式，则使用之前存储的前缀字符串对应的location，至此，整个匹配过程结束。</p></li></ol><h2 id=路径匹配>路径匹配</h2><p>使用location的时候，代码块里一般会使用<code>root</code>或者<code>alias</code>或者<code>proxy_pass</code>下边详细说一下proxy_pass的用法。</p><h3 id=proxy_pass>proxy_pass</h3><p>Nginx的<a class=link href=http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass target=_blank rel=noopener>官网</a>将proxy_pass分为两种类型：</p><ol><li><p>种是只包含IP和端口号的（连端口之后的/也没有，这里要特别注意），比如proxy_pass http://localhost:8080，这种方式称为不带URI方式；</p></li><li><p>另一种是在端口号之后有其他路径的，包含了只有单个/的，如proxy_pass http://localhost:8080/，以及其他路径，比如proxy_pass http://localhost:8080/abc。</p></li></ol><h4 id=不带uri方式相对路径>不带URI方式(相对路径)</h4><p>对于不带URI方式，Nginx将会保留location中路径部分，比如：&lt;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>location /api1/ {
</span></span><span class=line><span class=cl>  proxy_pass http://localhost:8080;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>在访问<code>http://localhost/api1/xxx</code>时，会代理到`http://localhost:8080/api1/xxx</p><h4 id=带uri方式绝对路径>带URI方式(绝对路径)</h4><p>对于带URI方式，nginx将使用诸如alias的替换方式对URL进行替换，并且这种替换只是字面上的替换，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>location /api2/ {
</span></span><span class=line><span class=cl>  proxy_pass http://localhost:8080/;
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>当访问<code>http://localhost/api2/xxx</code>时，<code>http://localhost/api2/</code>（注意最后的/）被替换成了<code>http://localhost:8080/</code>，然后再加上剩下的<code>xxx</code>，于是变成了<code>http://localhost:8080/xxx</code>。
下面再给一些例子来帮助大家理解相对路径和绝对路径：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>server {
</span></span><span class=line><span class=cl>  listen       80;
</span></span><span class=line><span class=cl>  server_name  localhost;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是相对路径，所以会带上location中的路径
</span></span><span class=line><span class=cl>  location /api1/ {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api1/xxx -&gt; http://localhost:8080/api1/xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api2/ {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api2/xxx -&gt; http://localhost:8080/xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是相对路径，所以会带上location中的路径
</span></span><span class=line><span class=cl>  location /api3 {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api3/xxx -&gt; http://localhost:8080/api3/xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api4 {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api4/xxx -&gt; http://localhost:8080//xxx，匹配到/api4/xxx,location中是/api4需去掉剩下/xxx，加上proxy_pass则是//xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api5/ {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/haha;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api5/xxx -&gt; http://localhost:8080/hahaxxx，匹配到/api5/xxx, 去掉location中的/api5/剩下xxx，加上proxy_pass则是hahaxxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api6/ {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/haha/;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api6/xxx -&gt; http://localhost:8080/haha/xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api7 {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/haha;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api7/xxx -&gt; http://localhost:8080/haha/xxx
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  # proxy_pass中的域名是绝对路径，所以不会带上location中的路径
</span></span><span class=line><span class=cl>  location /api8 {
</span></span><span class=line><span class=cl>    proxy_pass http://localhost:8080/haha/;
</span></span><span class=line><span class=cl>  }
</span></span><span class=line><span class=cl>  # http://localhost/api8/xxx -&gt; http://localhost:8080/haha//xxx，匹配到/api8/xxx,去掉location中的/api8剩下/xxx,加上proxy_pass则是/haha//xxx
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div><p>以上就是nginx中location的使用方法，匹配规则，以及代码块中proxy_pass的使用方法，希望可以帮到大家。</p></section><footer class=article-footer><section class=article-tags><a href=/iminling-pages/tags/nginx/>Nginx</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Aug 30, 2023 14:57 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/iminling-pages/2023/custom-nginx-log-output-json/><div class=article-image><img src="https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9" loading=lazy data-key data-hash="https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9"></div><div class=article-details><h2 class=article-title>自定义Nginx日志属性并设置日志以JSON输出</h2></div></a></article><article class=has-image><a href=/iminling-pages/2023/nginx-hides-version-number/><div class=article-image><img src="https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9" loading=lazy data-key data-hash="https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9"></div><div class=article-details><h2 class=article-title>nginx配置隐藏版本号提升安全</h2></div></a></article></div></div></aside><script src=//unpkg.com/@waline/client@v2/dist/waline.js></script><link href=//unpkg.com/@waline/client@v2/dist/waline.css rel=stylesheet><div id=waline class=waline-container></div><style>.waline-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding);--waline-font-size:var(--article-font-size)}.waline-container .wl-count{color:var(--card-text-color-main)}</style><script>Waline.init({copyright:!1,dark:'html[data-scheme="dark"]',el:"#waline",emoji:["https://unpkg.com/@waline/emojis@1.0.1/weibo","https://unpkg.com/@waline/emojis@1.0.1/alus","https://unpkg.com/@waline/emojis@1.0.1/bilibili"],lang:"zh-CN",locale:{admin:"博主",cancelreply:"取消回复",comment:"评论",days:"天前",emoji:"表情",hours:"小时前",minutes:"分钟前",more:"加载更多...",now:"刚刚",placeholder:"欢迎留言交流，支持Markdown语法",preview:"预览",refresh:"刷新",reply:"回复",seconds:"秒前",sofa:"来发评论吧~",submit:"提交",uploadimage:"上传图片"},login:"enable",meta:["nick","mail","link"],pageSize:10,pageview:!0,requiredMeta:["nick","mail"],serverURL:"https://waline.iminling.com",wordLimit:[0,1e3]})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 iminling.com</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/iminling-pages/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>