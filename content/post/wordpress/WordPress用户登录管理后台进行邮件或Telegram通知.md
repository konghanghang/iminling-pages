---
title: WordPressç”¨æˆ·ç™»å½•ç®¡ç†åå°è¿›è¡Œé‚®ä»¶æˆ–Telegramé€šçŸ¥
author: è¦åä¿—æ°”
type: post
date: 2023-09-29T08:46:00+00:00
url: /2023/wordpress-login-use-mail-telegram-notice
description: å‰æ®µé‡åˆ°äº†ä¸€ä¸ªå¤§éº»çƒ¦ï¼Œæˆ‘çš„ç½‘ç«™ä¸»é¡µå‘å¸ƒäº†ä¸¤ç¯‡éæˆ‘è‡ªå·±å†™çš„æ–‡ç« ï¼Œåœ¨ç™»å½•äº†worpressåå°åï¼Œå‘ç°çš„ç¡®æ˜¯æœ‰ä¸¤ç¯‡æ–‡ç« ï¼Œéšåèµ¶ç´§åˆ é™¤äº†é‚£ä¸¤ç¯‡æ–‡ç« ã€‚
featured_image: /wp-content/uploads/2023/09/5b936c4101fb2b204daf36d0c1457d48.jpeg
categories:
  - wordpress
tags:
  - telegram
  - wordpress
---
![](https://www.iminling.com/wp-content/uploads/2023/09/5b936c4101fb2b204daf36d0c1457d48.jpeg)

å‰æ®µé‡åˆ°äº†ä¸€ä¸ªå¤§éº»çƒ¦ï¼Œæˆ‘çš„ç½‘ç«™ä¸»é¡µå‘å¸ƒäº†ä¸¤ç¯‡éæˆ‘è‡ªå·±å†™çš„æ–‡ç« ï¼Œåœ¨ç™»å½•äº†worpressåå°åï¼Œå‘ç°çš„ç¡®æ˜¯æœ‰ä¸¤ç¯‡æ–‡ç« ï¼Œéšåèµ¶ç´§åˆ é™¤äº†é‚£ä¸¤ç¯‡æ–‡ç« ã€‚ç»è¿‡æ’æŸ¥å‘ç°æ˜¯xmlrpcåŠŸèƒ½æ²¡æœ‰å…³é—­å¯¼è‡´çš„ï¼Œæ‰€ä»¥å°±æœ‰äº†æˆ‘çš„ä¸Šç¯‡æ–‡ç« ï¼š[ç¦ç”¨xmlrpc.phpé˜²æ­¢wordpressè¢«æš´åŠ›ç ´è§£](https://www.iminling.com/2023/09/03/241.html "ç¦ç”¨xmlrpc.phpé˜²æ­¢wordpressè¢«æš´åŠ›ç ´è§£")ï¼Œäº‹ååŠæ—¶å…³é—­äº†è¯¥åŠŸèƒ½ï¼Œç„¶åå°±æƒ³ç€ï¼Œæ—¢ç„¶è¦å‘å¸ƒæ–‡ç« ï¼Œæ˜¯ä¸æ˜¯è¦ç™»å½•æˆ‘çš„ç®¡ç†åå°ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è®¾ç½®åœ¨ç”¨æˆ·ç™»å½•wordpressç®¡ç†åå°çš„æ—¶å€™è¿›è¡Œé€šçŸ¥æˆ‘å‘¢ï¼Œç„¶åå°±å»æœç´¢äº†ä¸€ä¸‹ç›¸å…³åŠŸèƒ½ï¼Œæœç„¶è¿˜æ˜¯æœ‰åŠæ³•é€šçŸ¥åˆ°æˆ‘çš„ã€‚ä¸‹è¾¹ç®€å•çš„åˆ†äº«ä¸€ä¸‹è¯¥åŠŸèƒ½ã€‚

## é‚®ä»¶é…ç½®

é‚®ä»¶çš„é…ç½®ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œæ¯”å¦‚ä½¿ç”¨WP Mail SMTPæ’ä»¶ï¼Œè¿™é‡Œå°±è·³è¿‡äº†ã€‚

## Telegramé…ç½®

å…¶å®ä½¿ç”¨é‚®ä»¶é…ç½®å°±å¯ä»¥äº†ï¼Œå½“æœ‰ç™»å½•çš„æ—¶å€™å°±ä¼šé€šè¿‡é‚®ä»¶æ¥é€šçŸ¥æˆ‘ä»¬ã€‚æˆ‘è¿™é‡Œå¹¶ä¸æƒ³åœ¨è‡ªå·±çš„é‚®ç®±é‡Œç•™å­˜å¤ªå¤šçš„é‚®ä»¶ï¼Œè€Œä¸”è‡ªå·±ç”¨Telegramæ¯”è¾ƒå¤šï¼Œå°±æƒ³ç€æŠŠé€šçŸ¥å‘é€Telegramä¼šæ›´å¥½ï¼Œæˆ‘å°±å®‰è£…äº†æ’ä»¶ï¼šWP Telegramã€‚åŠŸèƒ½ä¹Ÿå¾ˆå¼ºï¼Œå®ƒèƒ½åœ¨è¦å‘é‚®ä»¶çš„æ—¶å€™åŠ«æŒé‚®ä»¶å†…å®¹åˆ°telegram:![](https://www.iminling.com/wp-content/uploads/2023/09/aef44f2535eb8f68f09d56ddfc002c94.png)

åªéœ€è¦åœ¨Telegramç”³è¯·å¥½æœºå™¨äººå°±å¯ä»¥äº†ï¼Œæ’ä»¶ä¸­ä¹Ÿæœ‰ç”³è¯·æ­¥éª¤ã€‚

## å‘é€é…ç½®

ç¼–è¾‘ä¸»é¢˜æ–‡ä»¶ä¸­çš„functions.phpæ–‡ä»¶[å¤–è§‚-ä¸»é¢˜æ–‡ä»¶ç¼–è¾‘å™¨]ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç å°±å¯ä»¥å®ç°äº†ï¼š

```
/*****************************************************
 å‡½æ•°åç§°ï¼šwp_login_notify v1.0 by DH.huahua.
 å‡½æ•°ä½œç”¨ï¼šæœ‰ç™»å½•wpåå°å°±ä¼šemailé€šçŸ¥åšä¸»
******************************************************/
function wp_login_notify()
{
    date_default_timezone_set('PRC');
    $admin_email = get_bloginfo ('admin_email');
    $to = $admin_email;
  $subject = 'ä½ çš„åšå®¢ç©ºé—´ç™»å½•æé†’';
  $message = '<p>ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(' . get_option("blogname") . ')æœ‰ç™»å½•ï¼</p>' .
  '<p>è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š</p>' .
  '<p>ç™»å½•åï¼š' . $_POST['username'] . '<p>' .
  '<p>ç™»å½•å¯†ç ï¼š' . $_POST['password'] .  '<p>' .
  '<p>ç™»å½•æ—¶é—´ï¼š' . date("Y-m-d H:i:s") .  '<p>' .
  '<p>ç™»å½•IPï¼š' . $_SERVER['REMOTE_ADDR'] . '<p>';
  $wp_email = 'no-reply@' . preg_replace('#^www\.#', '', strtolower($_SERVER['SERVER_NAME']));
  $from = "From: \"" . get_option('blogname') . "\" <$wp_email>";
  $headers = "$from\nContent-Type: text/html; charset=" . get_option('blog_charset') . "\n";
  wp_mail( $to, $subject, $message, $headers );
}
add_action('wp_login', 'wp_login_notify');

/*****************************************************
 å‡½æ•°åç§°ï¼šwp_login_failed_notify v1.0 by DH.huahua.
 å‡½æ•°ä½œç”¨ï¼šæœ‰é”™è¯¯ç™»å½•wpåå°å°±ä¼šemailé€šçŸ¥åšä¸»
******************************************************/
function wp_login_failed_notify()
{
    date_default_timezone_set('PRC');
    $admin_email = get_bloginfo ('admin_email');
    $to = $admin_email;
  $subject = 'ä½ çš„åšå®¢ç©ºé—´ç™»å½•é”™è¯¯è­¦å‘Š';
  $message = '<p>ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(' . get_option("blogname") . ')æœ‰ç™»å½•é”™è¯¯ï¼</p>' .
  '<p>è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•å¤±è¯¯ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š</p>' .
  '<p>ç™»å½•åï¼š' . $_POST['username'] . '<p>' .
  '<p>ç™»å½•å¯†ç ï¼š' . $_POST['password'] .  '<p>' .
  '<p>ç™»å½•æ—¶é—´ï¼š' . date("Y-m-d H:i:s") .  '<p>' .
  '<p>ç™»å½•IPï¼š' . $_SERVER['REMOTE_ADDR'] . '<p>';
  $wp_email = 'no-reply@' . preg_replace('#^www\.#', '', strtolower($_SERVER['SERVER_NAME']));
  $from = "From: \"" . get_option('blogname') . "\" <$wp_email>";
  $headers = "$from\nContent-Type: text/html; charset=" . get_option('blog_charset') . "\n";
  wp_mail( $to, $subject, $message, $headers );
}
add_action('wp_login_failed', 'wp_login_failed_notify');
```

ä¸€ä¸ªæ˜¯ç™»å½•æˆåŠŸçš„æé†’ï¼Œä¸€ä¸ªæ˜¯ç™»å½•å¤±è´¥çš„æé†’ï¼Œå¦‚æœæœ‰äººç™»å½•wordpressåå°çš„æ—¶å€™å°±ä¼šåœ¨telegramçš„æœºå™¨äººä¸­è¿›è¡Œé€šçŸ¥ï¼š

```
ğŸ””â€Œä½ çš„åšå®¢ç©ºé—´ç™»å½•æé†’ğŸ””

ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(åˆ†äº«)æœ‰ç™»å½•ï¼

è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š

ç™»å½•åï¼š

ç™»å½•å¯†ç ï¼š

ç™»å½•æ—¶é—´ï¼š2023-09-29 16:02:40

ç™»å½•IPï¼š24:4:2::
```

ç»è¿‡ä¸Šè¾¹çš„é…ç½®ï¼Œå°±å¯ä»¥åœ¨æœ‰äººç™»å½•worpressåå°çš„æ—¶å€™åŠæ—¶çš„é€šçŸ¥æˆ‘ä»¬ï¼Œé¿å…å‡ºç°æˆ‘ä¸Šæ¬¡é‡åˆ°çš„æƒ…å†µï¼Œç›¸å¯¹æ¥è¯´é¿å…å‘ç”Ÿä¸€äº›è‡ªå·±é¢„æƒ³ä»¥å¤–çš„äº‹æƒ…ã€‚
