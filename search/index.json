[{"content":"Hugoæ–‡ç« å¼•ç”¨å®Œæ•´æŒ‡å— åœ¨Hugoä¸­ï¼Œæ–‡ç« ä¹‹é—´çš„ç›¸äº’å¼•ç”¨æ˜¯æé«˜ç”¨æˆ·ä½“éªŒå’ŒSEOçš„é‡è¦åŠŸèƒ½ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å„ç§æ–‡ç« å¼•ç”¨æ–¹æ³•ã€‚\n1. åŸºç¡€å¼•ç”¨æ–¹æ³• 1.1 ä½¿ç”¨ ref shortcodeï¼ˆæ¨èï¼‰ ref shortcode æ˜¯Hugoå†…ç½®çš„å¼•ç”¨åŠŸèƒ½ï¼Œä¼šç”Ÿæˆç»å¯¹é“¾æ¥ï¼š\n1 {{\u0026lt; ref \u0026#34;/post/path/to/article.md\u0026#34; \u0026gt;}} ä¼˜ç‚¹ï¼š\nè‡ªåŠ¨ç”Ÿæˆæ­£ç¡®çš„é“¾æ¥ æ„å»ºæ—¶ä¼šæ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§ æ”¯æŒå¤šè¯­è¨€ æ”¯æŒé”šç‚¹å¼•ç”¨ ç¤ºä¾‹ï¼š\n1 æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š[WordPressä½¿ç”¨git-it-writeæ’ä»¶](/post/wordpress/wordpressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdown/) 1.2 ä½¿ç”¨ relref shortcode relref ç”Ÿæˆç›¸å¯¹é“¾æ¥ï¼Œé€‚åˆç«™ç‚¹è¿ç§»ï¼š\n1 {{\u0026lt; relref \u0026#34;/post/path/to/article.md\u0026#34; \u0026gt;}} 1.3 ç›´æ¥ä½¿ç”¨ Markdown é“¾æ¥ 1 [æ–‡ç« æ ‡é¢˜](/post/article-slug/) 2. é«˜çº§å¼•ç”¨æŠ€å·§ 2.1 å¼•ç”¨ç‰¹å®šç« èŠ‚ å¯ä»¥å¼•ç”¨æ–‡ç« ä¸­çš„ç‰¹å®šç« èŠ‚ï¼š\n1 {{\u0026lt; ref \u0026#34;/post/article.md#section-title\u0026#34; \u0026gt;}} 2.2 å¼•ç”¨æ–‡ç« å¹¶æ˜¾ç¤ºé“¾æ¥æ–‡æœ¬ 1 [æ˜¾ç¤ºçš„æ–‡æœ¬]({{\u0026lt; ref \u0026#34;/post/article.md\u0026#34; \u0026gt;}}) 2.3 åœ¨é“¾æ¥ä¸­ä½¿ç”¨å˜é‡ 1 {{\u0026lt; ref \u0026#34;/post/article.md\u0026#34; \u0026gt;}} 3. è‡ªå®šä¹‰å¼•ç”¨å¡ç‰‡ æˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„å¼•ç”¨å¡ç‰‡æ¥ç¾åŒ–æ–‡ç« å¼•ç”¨ï¼š\n3.1 åˆ›å»º shortcode åˆ›å»º layouts/shortcodes/post-ref.htmlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 {{- $ref := .Get 0 -}} {{- $page := .Site.GetPage $ref -}} {{- if $page -}} \u0026lt;div class=\u0026#34;post-reference-card\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ $page.RelPermalink }}\u0026#34; class=\u0026#34;post-ref-link\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-ref-content\u0026#34;\u0026gt; \u0026lt;h3 class=\u0026#34;post-ref-title\u0026#34;\u0026gt;{{ $page.Title }}\u0026lt;/h3\u0026gt; \u0026lt;p class=\u0026#34;post-ref-summary\u0026#34;\u0026gt;{{ $page.Summary | truncate 150 }}\u0026lt;/p\u0026gt; \u0026lt;div class=\u0026#34;post-ref-meta\u0026#34;\u0026gt; \u0026lt;span class=\u0026#34;post-ref-date\u0026#34;\u0026gt;{{ $page.Date.Format \u0026#34;2006-01-02\u0026#34; }}\u0026lt;/span\u0026gt; {{- if $page.Params.categories -}} \u0026lt;span class=\u0026#34;post-ref-category\u0026#34;\u0026gt;{{ delimit $page.Params.categories \u0026#34;, \u0026#34; }}\u0026lt;/span\u0026gt; {{- end -}} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; {{- end -}} 3.2 ä½¿ç”¨è‡ªå®šä¹‰å¼•ç”¨å¡ç‰‡ 1 {{\u0026lt; post-ref \u0026#34;/post/wordpress/WordPressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdown.md\u0026#34; \u0026gt;}} 4. ç›¸å…³æ–‡ç« åŠŸèƒ½ Hugo Stack ä¸»é¢˜å·²ç»å†…ç½®äº†ç›¸å…³æ–‡ç« åŠŸèƒ½ï¼Œä¼šè‡ªåŠ¨åœ¨æ–‡ç« æœ«å°¾æ˜¾ç¤ºç›¸å…³æ–‡ç« ï¼š\n4.1 é…ç½®ç›¸å…³æ–‡ç«  åœ¨ hugo.yaml ä¸­é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 related: includeNewer: true threshold: 60 toLower: false indices: - name: tags weight: 100 - name: categories weight: 200 4.2 åœ¨æ–‡ç« ä¸­æ‰‹åŠ¨æŒ‡å®šç›¸å…³æ–‡ç«  åœ¨Front Matterä¸­æ·»åŠ ï¼š\n1 2 3 related: - \u0026#34;/post/article-1.md\u0026#34; - \u0026#34;/post/article-2.md\u0026#34; 5. æœ€ä½³å®è·µ 5.1 æ–‡ä»¶ç»„ç»‡ å»ºè®®æŒ‰åˆ†ç±»ç»„ç»‡æ–‡ç« ï¼š\n1 2 3 4 5 6 7 8 content/post/ â”œâ”€â”€ hugo/ â”‚ â”œâ”€â”€ hugoåŸºç¡€æ•™ç¨‹.md â”‚ â””â”€â”€ hugoé«˜çº§æŠ€å·§.md â”œâ”€â”€ wordpress/ â”‚ â””â”€â”€ wordpressæ’ä»¶æ¨è.md â””â”€â”€ tools/ â””â”€â”€ å¼€å‘å·¥å…·æ¨è.md 5.2 å¼•ç”¨è§„èŒƒ ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼šå§‹ç»ˆä½¿ç”¨ /post/ å¼€å¤´çš„è·¯å¾„ æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§ï¼šæ„å»ºæ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥ ref å’Œ relref çš„æœ‰æ•ˆæ€§ ç»Ÿä¸€å‘½åè§„èŒƒï¼šä½¿ç”¨ä¸€è‡´çš„æ–‡ä»¶å‘½åè§„èŒƒ æ·»åŠ æè¿°æ€§æ–‡æœ¬ï¼šä¸è¦ç›´æ¥æš´éœ²é“¾æ¥ï¼Œæ·»åŠ æœ‰æ„ä¹‰çš„æè¿° 5.3 æ€§èƒ½ä¼˜åŒ– ä½¿ç”¨ç¼“å­˜ï¼šHugoä¼šç¼“å­˜å¼•ç”¨ç»“æœ é¿å…å¾ªç¯å¼•ç”¨ï¼šä¸è¦åˆ›å»ºæ–‡ç« é—´çš„å¾ªç¯å¼•ç”¨ æ‰¹é‡å¼•ç”¨ï¼šåœ¨ä¸€ç¯‡æ–‡ç« ä¸­å¼•ç”¨å¤šä¸ªç›¸å…³æ–‡ç«  6. å¸¸è§é—®é¢˜ 6.1 å¼•ç”¨å¤±è´¥ é”™è¯¯ä¿¡æ¯ï¼š\n1 ERROR REF_NOT_FOUND: Ref \u0026#34;article.md\u0026#34;: page not found è§£å†³æ–¹æ³•ï¼š\næ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡® ç¡®è®¤æ–‡ä»¶æ˜¯å¦å­˜åœ¨ ä½¿ç”¨ç»å¯¹è·¯å¾„ /post/... 6.2 ä¸­æ–‡æ–‡ä»¶åé—®é¢˜ å¯¹äºä¸­æ–‡æ–‡ä»¶åï¼ŒHugoä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½†å»ºè®®åœ¨é“¾æ¥ä¸­ä½¿ç”¨è‹±æ–‡slugï¼š\n1 2 3 # Front Matter title: \u0026#34;ä¸­æ–‡æ ‡é¢˜\u0026#34; slug: \u0026#34;english-slug\u0026#34; 6.3 å¤šè¯­è¨€æ”¯æŒ å¦‚æœä½¿ç”¨å¤šè¯­è¨€ï¼Œå¼•ç”¨æ—¶éœ€è¦æŒ‡å®šè¯­è¨€ï¼š\n1 {{\u0026lt; ref \u0026#34;/post/article.zh-cn.md\u0026#34; \u0026gt;}} æ€»ç»“ Hugoæä¾›äº†å¤šç§æ–‡ç« å¼•ç”¨æ–¹å¼ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹æ³•å¯ä»¥æé«˜ç”¨æˆ·ä½“éªŒå’Œç»´æŠ¤æ•ˆç‡ï¼š\næ—¥å¸¸å¼•ç”¨ï¼šä½¿ç”¨ ref shortcode ç¾è§‚å±•ç¤ºï¼šä½¿ç”¨è‡ªå®šä¹‰å¼•ç”¨å¡ç‰‡ è‡ªåŠ¨æ¨èï¼šé…ç½®ç›¸å…³æ–‡ç« åŠŸèƒ½ æ€§èƒ½ä¼˜åŒ–ï¼šéµå¾ªæœ€ä½³å®è·µ é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›å¼•ç”¨åŠŸèƒ½ï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªäº’è”äº’é€šçš„çŸ¥è¯†ä½“ç³»ï¼Œæé«˜è¯»è€…çš„é˜…è¯»ä½“éªŒã€‚\nç›¸å…³æ–‡ç«  WordPressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdown ä»¥å‰å‘å¸ƒæ–‡ç« éƒ½æ˜¯ç›´æ¥åœ¨wordpressåå°æ‰‹åŠ¨ç¼–è¾‘ï¼Œæ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶ï¼Œç¡®è®¤æ— è¯¯åå†å‘å¸ƒï¼Œæ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”æœ‰ç‚¹éº»çƒ¦ã€‚æœ€è¿‘è¿™ä¸¤å¤©å¿½ç„¶æœ‰ä¸€ä¸ªæƒ³æ³•ï¼šæˆ‘ç›´æ¥å†™markdownç„¶åï¼Œç„¶ååœ¨wordpressä¸­æ‰¾æ”¯æŒmarkdownçš„ç¼–è¾‘å™¨æ’ä»¶ï¼ŒæŠŠæˆ‘çš„å†…å®¹ç›´æ¥ç²˜è´´è¿›å»ï¼Œè¿™æ ·å­ä¸å°±æ–¹ä¾¿å¾ˆå¤šäº†å—ï¼Ÿ â€¦\n2025-04-06wordpress Typoraä½¿ç”¨picgo-coreé…ç½®ä¸Šä¼ å›¾ç‰‡åˆ°easyimageå›¾åºŠ typoraæ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„markdownç¼–è¾‘å™¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸åšé…ç½®ï¼Œå›¾ç‰‡ä»…ä»…åªæ˜¯å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜ï¼Œå¦‚æœæœ¬åœ°ç£ç›˜å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆå›¾ç‰‡å°±å…¨æ²¡äº†ï¼Œæ‰€ä»¥ä»Šå¤©å°±ç ”ç©¶ä¸€ä¸‹æ­é…picgo-coreæ¥æŠŠæ’å…¥çš„å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯easyimageå›¾åºŠã€‚\n2025-04-05tools ","date":"2025-07-05T00:00:00Z","permalink":"https://konghanghang.github.io/iminling-pages/p/hugo%E6%96%87%E7%AB%A0%E5%BC%95%E7%94%A8%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/","title":"Hugoæ–‡ç« å¼•ç”¨å®Œæ•´æŒ‡å—"},{"content":"Hugoæ–‡ç« SEOé…ç½®å®Œæ•´æŒ‡å— åœ¨Hugoä¸­ï¼Œæ­£ç¡®é…ç½®SEOå…ƒæ•°æ®å¯¹æé«˜æœç´¢å¼•æ“æ”¶å½•å’Œæ’åè‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½®æ–‡ç« çš„å„ç§SEOå­—æ®µã€‚\nğŸ“‹ Front Matterä¸­çš„SEOå­—æ®µ 1. description å­—æ®µï¼ˆé‡è¦ï¼‰ description å­—æ®µæ˜¯SEOä¸­æœ€é‡è¦çš„å…ƒæ•°æ®ä¹‹ä¸€ï¼š\n1 2 3 4 --- title: \u0026#34;æ–‡ç« æ ‡é¢˜\u0026#34; description: \u0026#34;è¿™æ˜¯ä¸€æ®µç²¾å¿ƒç¼–å†™çš„æ–‡ç« æè¿°ï¼Œé•¿åº¦æ§åˆ¶åœ¨150-160å­—ç¬¦å†…ï¼Œå‡†ç¡®æ¦‚æ‹¬æ–‡ç« å†…å®¹ï¼ŒåŒ…å«å…³é”®è¯ã€‚\u0026#34; --- æœ€ä½³å®è·µï¼š\né•¿åº¦ï¼š150-160å­—ç¬¦ï¼ˆä¸­æ–‡çº¦75-80å­—ï¼‰ åŒ…å«ä¸»è¦å…³é”®è¯ å‡†ç¡®æè¿°æ–‡ç« å†…å®¹ å¸å¼•ç”¨æˆ·ç‚¹å‡» 2. excerpt å­—æ®µ excerpt ç”¨äºæ–‡ç« æ‘˜è¦æ˜¾ç¤ºï¼š\n1 excerpt: \u0026#34;æ–‡ç« æ‘˜è¦å†…å®¹ï¼Œç”¨äºåœ¨æ–‡ç« åˆ—è¡¨ä¸­æ˜¾ç¤ºã€‚\u0026#34; 3. keywords å­—æ®µ 1 keywords: [\u0026#34;å…³é”®è¯1\u0026#34;, \u0026#34;å…³é”®è¯2\u0026#34;, \u0026#34;å…³é”®è¯3\u0026#34;] ğŸ” Hugoçš„Descriptionç”Ÿæˆé€»è¾‘ HugoæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§ç”Ÿæˆmeta descriptionï¼š\nFront Matterä¸­çš„ descriptionï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ è‡ªåŠ¨ç”Ÿæˆçš„ .Summaryï¼ˆä»æ–‡ç« å†…å®¹æå–ï¼‰ ç«™ç‚¹é»˜è®¤æè¿° æŸ¥çœ‹ç”Ÿæˆé€»è¾‘çš„æ¨¡æ¿ä»£ç ï¼š 1 2 3 4 5 6 7 8 \u0026lt;!-- themes/hugo-theme-stack/layouts/partials/data/description.html --\u0026gt; {{ if .Description }} \u0026lt;!-- ä½¿ç”¨Front Matterä¸­çš„description --\u0026gt; {{ $description = .Description }} {{ else if .IsPage }} \u0026lt;!-- ä½¿ç”¨æ–‡ç« æ‘˜è¦ --\u0026gt; {{ $description = .Summary }} {{ end }} ğŸ¯ SEOä¼˜åŒ–çš„æ­£ç¡®é…ç½® ç¤ºä¾‹1ï¼šä½¿ç”¨è‡ªå®šä¹‰description 1 2 3 4 5 6 7 8 9 10 11 --- title: \u0026#34;Dockerå®‰è£…WordPresså®Œæ•´æ•™ç¨‹\u0026#34; description: \u0026#34;è¯¦ç»†ä»‹ç»ä½¿ç”¨Dockerå¿«é€Ÿå®‰è£…WordPressçš„æ­¥éª¤ï¼ŒåŒ…æ‹¬ç¯å¢ƒé…ç½®ã€å®¹å™¨éƒ¨ç½²ã€æ•°æ®åº“è®¾ç½®ç­‰å®ç”¨æŠ€å·§ã€‚\u0026#34; keywords: [\u0026#34;Docker\u0026#34;, \u0026#34;WordPress\u0026#34;, \u0026#34;å®‰è£…æ•™ç¨‹\u0026#34;, \u0026#34;å®¹å™¨éƒ¨ç½²\u0026#34;] categories: - æ•™ç¨‹ tags: - docker - wordpress - éƒ¨ç½² --- ç¤ºä¾‹2ï¼šä¾èµ–è‡ªåŠ¨æ‘˜è¦ 1 2 3 4 5 6 7 8 --- title: \u0026#34;Hugoä¸»é¢˜å¼€å‘æŒ‡å—\u0026#34; # æ²¡æœ‰descriptionå­—æ®µï¼ŒHugoä¼šè‡ªåŠ¨æå–æ–‡ç« å¼€å¤´ä½œä¸ºæ‘˜è¦ categories: - å¼€å‘ --- Hugoæ˜¯ä¸€ä¸ªå¼ºå¤§çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œæ”¯æŒå¤šç§ä¸»é¢˜å®šåˆ¶ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å¼€å‘è‡ªå®šä¹‰Hugoä¸»é¢˜ï¼ŒåŒ…æ‹¬æ¨¡æ¿ç»“æ„ã€æ ·å¼é…ç½®ç­‰å†…å®¹ã€‚ ğŸ“Š éªŒè¯SEOæ•ˆæœ 1. æŸ¥çœ‹ç”Ÿæˆçš„HTML 1 2 3 4 5 # æ„å»ºç«™ç‚¹ hugo --cleanDestinationDir # æŸ¥çœ‹metaæ ‡ç­¾ grep -E \u0026#34;(meta.*description|og:description)\u0026#34; public/path/to/article/index.html 2. ä½¿ç”¨SEOå·¥å…· Google Search Console ç™¾åº¦ç«™é•¿å·¥å…· SEOæ£€æµ‹å·¥å…· ğŸš€ é«˜çº§SEOé…ç½® 1. ç»“æ„åŒ–æ•°æ® 1 2 3 4 5 6 7 --- schema: type: \u0026#34;Article\u0026#34; author: \u0026#34;ä½œè€…åç§°\u0026#34; datePublished: \u0026#34;2025-01-07\u0026#34; dateModified: \u0026#34;2025-01-07\u0026#34; --- 2. Open Graphé…ç½® 1 2 3 4 5 6 --- og: title: \u0026#34;è‡ªå®šä¹‰OGæ ‡é¢˜\u0026#34; description: \u0026#34;è‡ªå®šä¹‰OGæè¿°\u0026#34; image: \u0026#34;featured-image.jpg\u0026#34; --- 3. Twitter Cards 1 2 3 4 5 6 7 --- twitter: card: \u0026#34;summary_large_image\u0026#34; title: \u0026#34;Twitterå¡ç‰‡æ ‡é¢˜\u0026#34; description: \u0026#34;Twitterå¡ç‰‡æè¿°\u0026#34; image: \u0026#34;twitter-image.jpg\u0026#34; --- ğŸ“ æœ€ä½³å®è·µæ€»ç»“ 1. Descriptionå†™ä½œæŠ€å·§ å…³é”®è¯å‰ç½®ï¼šé‡è¦å…³é”®è¯æ”¾åœ¨å‰é¢ åŠ¨ä½œå¯¼å‘ï¼šä½¿ç”¨åŠ¨è¯ï¼Œå¦‚\u0026quot;äº†è§£\u0026quot;ã€\u0026ldquo;å­¦ä¹ \u0026rdquo;ã€\u0026ldquo;æŒæ¡\u0026rdquo; è§£å†³é—®é¢˜ï¼šæ˜ç¡®è¯´æ˜æ–‡ç« èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ é¿å…é‡å¤ï¼šä¸è¦ä¸titleå®Œå…¨é‡å¤ 2. å¸¸è§é”™è¯¯ âŒ é”™è¯¯ç¤ºä¾‹ï¼š\n1 2 3 description: \u0026#34;è¿™ç¯‡æ–‡ç« å¾ˆå¥½ï¼Œå¤§å®¶å¿«æ¥çœ‹çœ‹ã€‚\u0026#34; # å¤ªæ¨¡ç³Š description: \u0026#34;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\u0026#34; # å¤ªé•¿ description: \u0026#34;\u0026#34; # ç©ºæè¿° âœ… æ­£ç¡®ç¤ºä¾‹ï¼š\n1 description: \u0026#34;è¯¦ç»†ä»‹ç»Hugoé™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„å®‰è£…é…ç½®æ–¹æ³•ï¼ŒåŒ…æ‹¬ä¸»é¢˜é€‰æ‹©ã€å†…å®¹ç®¡ç†ã€éƒ¨ç½²æµç¨‹ç­‰å®ç”¨æŠ€å·§ã€‚\u0026#34; 3. å·¥å…·æ¨è å­—ç¬¦è®¡æ•°å™¨ï¼šç¡®ä¿æè¿°é•¿åº¦åˆé€‚ å…³é”®è¯å·¥å…·ï¼šGoogle Keyword Planner SEOæ£€æµ‹ï¼šScreaming Frog SEO Spider ğŸ”§ å®é™…åº”ç”¨ç¤ºä¾‹ è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªå®Œæ•´çš„æ–‡ç« é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 --- title: \u0026#34;LinuxæœåŠ¡å™¨å®‰å…¨é…ç½®æŒ‡å—\u0026#34; description: \u0026#34;LinuxæœåŠ¡å™¨å®‰å…¨é…ç½®çš„å®Œæ•´æ•™ç¨‹ï¼ŒåŒ…æ‹¬é˜²ç«å¢™è®¾ç½®ã€SSHåŠ å›ºã€ç”¨æˆ·æƒé™ç®¡ç†ç­‰å®‰å…¨é˜²æŠ¤æªæ–½ï¼Œä¿æŠ¤æœåŠ¡å™¨å…å—æ”»å‡»ã€‚\u0026#34; excerpt: \u0026#34;ç³»ç»ŸåŒ–ä»‹ç»LinuxæœåŠ¡å™¨çš„å®‰å…¨é…ç½®æ–¹æ³•å’Œæœ€ä½³å®è·µã€‚\u0026#34; keywords: [\u0026#34;Linux\u0026#34;, \u0026#34;æœåŠ¡å™¨å®‰å…¨\u0026#34;, \u0026#34;é˜²ç«å¢™\u0026#34;, \u0026#34;SSHé…ç½®\u0026#34;, \u0026#34;å®‰å…¨é˜²æŠ¤\u0026#34;] date: 2025-01-07 lastmod: 2025-01-07 categories: - è¿ç»´ - å®‰å…¨ tags: - linux - å®‰å…¨ - æœåŠ¡å™¨ - è¿ç»´ author: \u0026#34;æŠ€æœ¯åšä¸»\u0026#34; --- ğŸ“ˆ SEOæ•ˆæœç›‘æ§ 1. æœç´¢è¡¨ç° ç‚¹å‡»ç‡ï¼ˆCTRï¼‰ å±•ç°æ¬¡æ•° å¹³å‡æ’å å…³é”®è¯è¦†ç›– 2. ä¼˜åŒ–å»ºè®® å®šæœŸæ›´æ–°description åˆ†ææœç´¢æŸ¥è¯¢ ä¼˜åŒ–å…³é”®è¯ ç›‘æ§ç«äº‰å¯¹æ‰‹ é€šè¿‡æ­£ç¡®é…ç½®è¿™äº›SEOå­—æ®µï¼Œæ‚¨çš„Hugoåšå®¢å°†åœ¨æœç´¢å¼•æ“ä¸­è·å¾—æ›´å¥½çš„è¡¨ç°ï¼\n","date":"2025-07-04T00:00:00Z","permalink":"https://konghanghang.github.io/iminling-pages/p/hugo%E6%96%87%E7%AB%A0seo%E9%85%8D%E7%BD%AE%E5%AE%8C%E6%95%B4%E6%8C%87%E5%8D%97/","title":"Hugoæ–‡ç« SEOé…ç½®å®Œæ•´æŒ‡å—"},{"content":"ä»¥å‰å‘å¸ƒæ–‡ç« éƒ½æ˜¯ç›´æ¥åœ¨wordpressåå°æ‰‹åŠ¨ç¼–è¾‘ï¼Œæ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶ï¼Œç¡®è®¤æ— è¯¯åå†å‘å¸ƒï¼Œæ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”æœ‰ç‚¹éº»çƒ¦ã€‚æœ€è¿‘è¿™ä¸¤å¤©å¿½ç„¶æœ‰ä¸€ä¸ªæƒ³æ³•ï¼šæˆ‘ç›´æ¥å†™markdownç„¶åï¼Œç„¶ååœ¨wordpressä¸­æ‰¾æ”¯æŒmarkdownçš„ç¼–è¾‘å™¨æ’ä»¶ï¼ŒæŠŠæˆ‘çš„å†…å®¹ç›´æ¥ç²˜è´´è¿›å»ï¼Œè¿™æ ·å­ä¸å°±æ–¹ä¾¿å¾ˆå¤šäº†å—ï¼Ÿäºæ˜¯å°±æ‰¾åˆ°äº†WP-Githuber-MDè¿™ä¸ªæ’ä»¶ï¼Œå†æ¢ç´¢çš„è¿‡ç¨‹ä¸­æ— æ„åˆå‘ç°äº†git-it-writeè¿™ä¸ªå¯ä»¥è‡ªåŠ¨åŒ–çš„æ’ä»¶ï¼Œäºæ˜¯å°±å¼€å§‹äº†æŠ˜è…¾ä¹‹æ—…è¡Œã€‚\næ’ä»¶å®‰è£…å’Œé…ç½® Git-it-writeæ’ä»¶åœ¨Wordpressçš„æ’ä»¶åº“æ˜¯å¯ä»¥æ‰¾åˆ°çš„ï¼Œç›´æ¥æœç´¢å®‰è£…å°±å¯ä»¥äº†ã€‚å®‰è£…åå¯ä»¥åœ¨è®¾ç½®ä¸­æ‰¾åˆ°å¯¹è¿™ä¸ªæ’ä»¶çš„é…ç½®ã€‚\nä»“åº“é…ç½® æƒ³è¦é…åˆgithubè¿›è¡Œè‡ªåŠ¨å‘å¸ƒï¼Œé¦–å…ˆè¦è§£å†³çš„å°±æ˜¯ä»ä»“åº“é‡Œæ‹‰å»åˆ°.mdçš„æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å»é…ç½®ä¸€ä¸ªgitä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåˆ›å»ºå¥½è¿™ä¸ªgitä»“åº“ï¼Œç„¶åå†æ¥è¿›è¡Œé…ç½®ã€‚\nç‚¹å‡»å·¦ä¸Šçš„add a new repository to publish posts formæŒ‰é’®æ¥æ·»åŠ ä¸€ä¸ªæ–°çš„ä»“åº“ï¼š\næœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦è®¾ç½®ä¸€ä¸‹ï¼š\né…ç½®é¡¹ è¯´æ˜ Github username/owner è¿™ä¸ªè‡ªå·±çš„githubç”¨æˆ·å Repository name ä»“åº“åç§°ï¼Œæ–°å»ºæˆ–è€…å·²å­˜åœ¨çš„ä¸€ä¸ªä»“åº“åç§° Branch to publish from ä»“åº“çš„åˆ†æ”¯ï¼Œæ ¹æ®è‡ªå·±çš„ä»“åº“æ¥è®¾ç½®ï¼Œmaster, mainç­‰ Folder to publish from æˆ‘æ•´ä¸ªä»“åº“éƒ½æ˜¯éœ€è¦å‘å¸ƒçš„ï¼Œè€Œä¸æ˜¯åªå‘å¸ƒå…¶ä¸­ä¸€ä¸ªç›®å½•ï¼Œæ‰€ä»¥è¿™é‡Œç•™ç©ºã€‚ Post type to publish to æˆ‘è¦å‘å¸ƒçš„æ˜¯æ–‡ç« ï¼Œè‡ªå·±æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é€‰æ‹©ã€‚ å…¶ä»–çš„é€‰é¡¹å°±é»˜è®¤äº†ã€‚\nå› ä¸ºæˆ‘è¿™é‡Œå»ºçš„æ˜¯ä¸€ä¸ªç§æœ‰çš„ä»“åº“ï¼Œæƒ³è¦æ‹‰å–åˆ°ä»“åº“é‡Œçš„å†…å®¹ï¼Œæˆ‘è¿™é‡Œéœ€è¦é…ç½®ä¸€ä¸‹github access token,å¡«åœ¨General settingsçš„ä½ç½®ã€‚å¦‚æœæ˜¯publicç±»å‹çš„ä»“åº“ï¼Œå¯ä»¥å°è¯•ä¸€ä¸‹ä¸é…ç½®æˆ–è€…ä¹Ÿé…ç½®ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä¸æ˜¯è¿™ç§æƒ…å†µï¼Œæ‰€ä»¥æ²¡æœ‰è¿›è¡Œè¯¦ç»†çš„ç ”ç©¶ã€‚ä¸‹è¾¹å°±æ¥çœ‹ä¸€ä¸‹å¦‚ä½•è·å–github access token.\nè·å–github access token æ¥åˆ°githubçš„settingsé¡µé¢ï¼šç™»å½•githubåï¼Œç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒï¼Œå°±ä¼šçœ‹åˆ°æœ‰settingsé€‰é¡¹ã€‚è¿›å…¥settingsåï¼Œæ‹‰åˆ°æœ€ä¸‹è¾¹æ‰¾åˆ°developer settingsé€‰é¡¹ï¼Œå¦‚ä¸‹å›¾ï¼š\nç‚¹å‡»åœ¨personal access tokensä¸­è¿›è¡Œæ·»åŠ å’Œåˆ é™¤ç­‰æ“ä½œï¼š\nç‚¹å‡»å³ä¸Šè§’çš„Generate new tokenæ¥æ–°å»ºä¸€ä¸ªtokenï¼Œè®¾ç½®é¡µé¢å¦‚ä¸‹ï¼š\nç›¸å…³çš„é…ç½®é¡¹è¯´æ˜ï¼š\né…ç½®é¡¹ è¯´æ˜ Token name è‡ªå®šä¹‰çš„ä¸€ä¸ªè¯´æ˜åç§°ï¼Œå¯ä»¥éšæ„é…ç½® Description è¯´æ˜ï¼Œå¯ä»¥ç•™ç©º Resource owner æ­£å¸¸æƒ…å†µä¸‹ï¼Œé€‰æ‹©è‡ªå·±çš„githubç”¨æˆ·å°±å¯ä»¥äº† Expiration tokençš„è¿‡æœŸæ—¶é—´ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µè®¾ç½®ï¼Œæˆ‘è¿™é‡Œè®¾ç½®æ°¸ä¸è¿‡æœŸ Repository access ä»“åº“è®¿é—®æƒï¼Œæˆ‘è¿™é‡Œé€‰æ‹©åªç»™ä»–è®¿é—®ç‰¹å®šçš„ä»“åº“ Permissions è¿™é‡Œéœ€è¦æ³¨æ„äº†ï¼ŒRepository permissionä¸€å®šè¦ç‚¹å¼€ï¼Œç„¶åå¯¹æ¯é¡¹è¿›è¡Œè®¾ç½®ï¼Œæˆ‘è¿™é‡Œæ¯é¡¹éƒ½åªç»™accessæƒé™ã€‚ è®¾ç½®å®Œæˆåå°±å¯ä»¥ç”Ÿæˆtokenäº†ï¼ŒæŠŠç”Ÿæˆçš„tokentå¡«å†™åœ¨General settingså¤„äº†ï¼š\nGithub usernameå°±æ˜¯è‡ªå·±çš„githubç”¨æˆ·åã€‚\nè‡³æ­¤git it writeæ’ä»¶å°±é…ç½®å®Œæˆäº†ã€‚ç°åœ¨è¦åšçš„å°±æ˜¯åœ¨ä»“åº“é‡Œå†™ä¸€ç¯‡markdownæ ¼å¼çš„æ–‡æ¡£æ¥è¿›è¡Œå‘å¸ƒäº†ã€‚\nå‘å¸ƒ åœ¨æˆ‘ä»¬å†™å®Œmarkdownæ–‡ä»¶åï¼Œpushåˆ°ä¸Šè¾¹é…ç½®çš„gitä»“åº“ä¸­ï¼Œä¸‹è¾¹å°±å¯ä»¥æ¥è¿›è¡Œå‘å¸ƒæ“ä½œäº†ã€‚\nåœ¨wordpressæ’ä»¶git it writeæ’ä»¶ä¸­æ·»åŠ ä»“åº“åï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸Šå›¾æ‰€ç¤ºçš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»pull postsä¸­gitä»“åº“ä¸­æ‹‰å–markdownæ–‡ä»¶è¿›è¡Œå‘å¸ƒã€‚ç‚¹å‡»åæœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œä¸€ä¸ªæ˜¯åªpullæ›´æ–°ï¼Œå¦ä¸€ä¸ªæ˜¯pullæ‰€æœ‰æ–‡ä»¶ã€‚å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ‹‰å–ä»“åº“å†…å®¹ï¼Œå°±ä½¿ç”¨pull all the filesæ‹‰å–å·¦å³çš„å†…å®¹ï¼Œåç»­å°±å¯ä»¥ä½¿ç”¨pull only changesåªæ‹‰å–å˜æ›´çš„å†…å®¹ã€‚\nå¦‚æœæ‹‰å–æœ‰é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»ä¸Šè¾¹å›¾ç‰‡ä¸­çš„Logsæ¥æŸ¥çœ‹æ’ä»¶çš„æ—¥å¿—æ¥æ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚æˆªæ­¢åˆ°ä¸Šè¾¹å°±å·²ç»å·®ä¸å¤šå®Œæˆæ’ä»¶é…ç½®äº†ã€‚é‚£ä¹ˆæ­¤æ—¶å°±éœ€è¦æˆ‘ä»¬æ¯å†™å®Œä¸€ç¯‡æ–‡ç« å°±éœ€è¦åˆ°wordpressçš„åå°æ¥è¿›è¡Œæ‰‹åŠ¨pullä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿæœ‰ç‚¹éº»çƒ¦å‘¢ï¼Ÿæ¥ä¸‹æ¥å°±è®²ä¸€ä¸‹å¦‚æœæ¥è‡ªåŠ¨åŒ–å‘å¸ƒã€‚\nWebbook é…ç½® åœ¨git it writeçš„é…ç½®é¡µé¢å¯ä»¥çœ‹åˆ°webhook secretçš„é…ç½®é€‰é¡¹ï¼Œæ²¡é”™ï¼Œè¿™ä¸ªå°±æ˜¯å’Œgithubçš„webhookè¿›è¡Œè”åŠ¨çš„ï¼Œéœ€è¦æˆ‘ä»¬åœ¨githubä¸­è¿›è¡Œç›¸å…³çš„é…ç½®ã€‚\nåœ¨githubä»“åº“çš„è®¾ç½®é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œwebbookçš„é…ç½®ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªwebhook,å…·ä½“çš„webhookåœ°å€å¯ä»¥çœ‹git it writeæ’ä»¶é¡µé¢ç»™çš„æç¤ºï¼Œé‚£é‡Œä¼šè¯¦ç»†è¯´æ˜å®Œæ•´çš„webhookåœ°å€æ˜¯ä»€ä¹ˆã€‚å¦‚ä¸‹å›¾æ˜¯æˆ‘çš„å®Œæ•´webhookåœ°å€ï¼Œå½“æ—¶åªæœ‰åœ°å€è¿˜æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ªå¯†é’¥ï¼Œè¿™ä¸ªå°±è‡ªå·±æ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥è¿›è¡Œé…ç½®ï¼Œé˜²æ­¢è¢«åˆ«äººçŒœåˆ°ã€‚\ngithubä¸­æ·»åŠ webhookå¦‚ä¸‹ï¼Œéœ€è¦å¡«å†™urlï¼Œcontent typeä»¥åŠsecretï¼Œè¿™é‡Œçš„secretå’Œgit it writeä¸­çš„æ˜¯åŒä¸€ä¸ªã€‚å¦å¤–éœ€è¦ä»€ä¹ˆæ—¶å€™æ¥è§¦å‘è¿™ä¸ªwebhook,æˆ‘è¿™é‡Œé€‰æ‹©Just the push event.å…¶ä»–çš„å¤§å®¶æ ¹æ®éœ€æ±‚æ¥è¿›è¡Œå¡«å†™ã€‚\nç»è¿‡ä¸Šè¾¹çš„é…ç½®ï¼Œæˆ‘ä»¬åœ¨å†™å¥½markdownæ–‡ä»¶åï¼Œåªéœ€è¦pushåˆ°gitä»“åº“ä¸­ï¼Œé‚£ä¹ˆgithubå°±ä¼šè§¦å‘webhooké€šçŸ¥åˆ°wordpressä¸­çš„git it writeæ’ä»¶ï¼Œæ’ä»¶å°±ä¼šæ¥ä»“åº“ä¸­æ‹‰å–markdownæ–‡ä»¶ï¼Œç„¶åè¿›è¡Œå‘å¸ƒã€‚åšåˆ°è‡ªåŠ¨åŒ–å¤„ç†å‘å¸ƒåŠ¨ä½œã€‚\nMarkdown æ–‡ä»¶ ç»è¿‡ä¸Šè¾¹çš„æ­¥éª¤åŸºæœ¬å·²ç»å¯ä»¥æ­£å¸¸çš„å‘å¸ƒæ–‡ç« äº†ï¼Œä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„é—®é¢˜å°±æ˜¯å‘å¸ƒåçš„æ–‡ç« çš„åˆ†ç±»ã€urlä»¥åŠæ ‡ç­¾è¿™äº›ä¿¡æ¯æ˜¯æ€ä¹ˆå¤„ç†çš„ï¼Ÿæˆ‘ä»¬è¦æ€ä¹ˆç»™æŒ‡å®šå‘¢ï¼Ÿä¸‹è¾¹å°±æ¥ç»™å¤§å®¶ä»‹ç»ã€‚\nåœ¨markdownæ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶çš„é¡¶éƒ¨å¯ä»¥ä½¿ç”¨yamlæ¥è®¾ç½®ä¸€äº›å±æ€§ä¿¡æ¯ï¼Œè¿™äº›å±æ€§ä¿¡æ¯å°±å¯ä»¥æ¥è®¾ç½®æˆ‘ä»¬å‘å¸ƒæ–‡ç« çš„ä¸€äº›å±æ€§ä¿¡æ¯ã€‚è®¾ç½®çš„æ ¼å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 --- title: \u0026#34;Wordpressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdown\u0026#34; date: 2025-04-06 post_excerpt: ä»¥å‰å‘å¸ƒæ–‡ç« éƒ½æ˜¯ç›´æ¥åœ¨wordpressåå°æ‰‹åŠ¨ç¼–è¾‘ï¼Œæ‰‹åŠ¨ä¸Šä¼ æ–‡ä»¶ï¼Œç¡®è®¤æ— è¯¯åå†å‘å¸ƒï¼Œæ•´ä¸ªè¿‡ç¨‹æ¯”è¾ƒè€—æ—¶ï¼Œå¹¶ä¸”æœ‰ç‚¹éº»çƒ¦ã€‚æœ€è¿‘è¿™ä¸¤å¤©å¿½ç„¶æœ‰ä¸€ä¸ªæƒ³æ³•ï¼šæˆ‘ç›´æ¥å†™markdownç„¶åï¼Œç„¶ååœ¨wordpressä¸­æ‰¾æ”¯æŒmarkdownçš„ç¼–è¾‘å™¨æ’ä»¶ï¼ŒæŠŠæˆ‘çš„å†…å®¹ç›´æ¥ç²˜è´´è¿›å»ï¼Œè¿™æ ·å­ä¸å°±æ–¹ä¾¿å¾ˆå¤šäº†å—ï¼Ÿäºæ˜¯å°±æ‰¾åˆ°äº†WP-Githuber-MDè¿™ä¸ªæ’ä»¶ï¼Œå†æ¢ç´¢çš„è¿‡ç¨‹ä¸­æ— æ„åˆå‘ç°äº†git-it-writeè¿™ä¸ªå¯ä»¥è‡ªåŠ¨åŒ–çš„æ’ä»¶ï¼Œäºæ˜¯å°±å¼€å§‹äº†æŠ˜è…¾ä¹‹æ—…è¡Œã€‚ post_status: publish comment_status: open taxonomy: category: - wordpress post_tag: - wordpress - github - git-it-write - markdown slug: \u0026#34;wordpress-use-git-it-write-and-github-publish-markdown-file\u0026#34; --- æ˜¯ä»¥---å¼€å§‹ï¼Œç„¶åè®¾ç½®ä¸€äº›ç‰¹æ®Šçš„å±æ€§ã€‚æˆ‘è¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘ä¸Šè¾¹ä½¿ç”¨åˆ°çš„ä¸€äº›ä¿¡æ¯ã€‚\nå±æ€§ è¯´æ˜ Titile å‘å¸ƒæ–‡ç« çš„æ ‡é¢˜ date å‘å¸ƒæ–‡ç« çš„æ—¥å¿— post_excerpt å¸–å­æ‘˜å½• Post_status å‘å¸ƒæ–‡ç« çš„çŠ¶æ€ï¼Œå¯ä»¥é€‰æ‹©ï¼špublish, draft, pending, future. Comment_status è¯„è®ºçš„çŠ¶æ€ï¼Œè¿™ä¸ªé»˜è®¤å€¼æ˜¯closed.æ‰€ä»¥å¦‚æœæƒ³è¦æ‰“å¼€æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ï¼Œè¿™ä¸ªå€¼è¦ç»™open Taxonmy è¿™é‡Œè®¾ç½®æ–‡ç« çš„ä¸€äº›å±æ€§ Category Taxonmy çš„ä¸‹çº§ï¼Œæ–‡ç« çš„åˆ†ç±»ï¼Œè¿™ä¸ªæ˜¯å®é™…å‘å¸ƒæ–‡ç« åçš„åˆ†ç±» post_tag Taxonmy çš„ä¸‹çº§ï¼Œæ–‡ç« çš„æ ‡ç­¾ï¼Œä¹Ÿæ˜¯å®é™…å‘å¸ƒåæ–‡ç« çš„æ ‡ç­¾ slug æš‚æ—¶ä¹Ÿæ²¡å‘ç°æœ‰ä»€ä¹ˆç”¨å¤„ï¼Œæœ¬æ¥ä»¥ä¸ºæ˜¯æ–‡ç« çš„è‡ªå®šä¹‰urlï¼Œå®é™…ä¸Šä¸æ˜¯ã€‚ æˆ‘æ‰€ä½¿ç”¨åˆ°çš„å°±æ˜¯ä¸Šè¾¹è¿™äº›å±æ€§ï¼Œå…¶ä»–çš„å±æ€§æš‚æ—¶è¿˜æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œå¦‚æœæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹å®˜æ–¹çš„æ–‡ç« ï¼Œè‡ªè¡Œç ”ç©¶ä½¿ç”¨æ–¹æ³•ï¼šGetting started.\nå¦å¤–æ–‡ç« çš„è‡ªå®šä¹‰urlæ˜¯è¯»å–çš„mdæ–‡ä»¶çš„æ–‡ä»¶åã€‚\nå¦å¤–ï¼Œå¦‚æœgithubä»“åº“ä¸­çš„æ–‡ç« æ˜¯æœ‰ç›®å½•çš„ï¼Œé‚£ä¹ˆä»–ä¼šå‘å¸ƒä¸€ä¸ªä»¥æ–‡ä»¶å¤¹å‘½åçš„æ–‡ç« ï¼Œæš‚æ—¶æ²¡æœ‰å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä»–åªä¼šå‘å¸ƒä¸€æ¬¡ï¼Œå‘å¸ƒåæ”¹åç§æœ‰çš„è§£å†³é—®é¢˜ã€‚\nä»¥ä¸Šå°±æ˜¯Wordpressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdownæ–‡ç« çš„æŠ˜è…¾è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚\n","date":"2025-04-06T09:20:36Z","image":"https://images.iminling.com/app/hide.php?key=SlBudmJhK1kyNkJ5NGtnVm53c1kwOUpBdFNJd1I2dHR5NXk5VjM1QkNsN1VtWm9DVWNJdi9jdEEyL0o0eTZDTXJPNUhlT3c9","permalink":"https://konghanghang.github.io/iminling-pages/2025/wordpress-use-git-it-write-and-github-publish-markdown-file/","title":"WordPressä½¿ç”¨git-it-writeæ’ä»¶é…åˆgithubè‡ªåŠ¨å‘å¸ƒmarkdown"},{"content":"typoraæ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„markdownç¼–è¾‘å™¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸åšé…ç½®ï¼Œå›¾ç‰‡ä»…ä»…åªæ˜¯å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜ï¼Œå¦‚æœæœ¬åœ°ç£ç›˜å‡ºç°é—®é¢˜ï¼Œé‚£ä¹ˆå›¾ç‰‡å°±å…¨æ²¡äº†ï¼Œæ‰€ä»¥ä»Šå¤©å°±ç ”ç©¶ä¸€ä¸‹æ­é…picgo-coreæ¥æŠŠæ’å…¥çš„å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯easyimageå›¾åºŠã€‚\npicgoå¯ä»¥ç›´æ¥å®‰è£…å®˜æ–¹appï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨nodeå‘½ä»¤å»è¿›è¡Œé…ç½®ï¼Œæˆ‘è¿™é‡Œä¸ºäº†ç®€å•ç›´æ¥ä½¿ç”¨nodeçš„æ–¹å¼å»é…ç½®ï¼Œåœ¨æ­¤ä¹‹å‰è¯·ç¡®å®šåœ¨æœ¬æœºå·²æ­£ç¡®å®‰è£…äº†nodeçš„ç¯å¢ƒã€‚æˆ‘ä½¿ç”¨çš„æ˜¯macï¼Œä¸”ä¹Ÿå·²é…ç½®å¥½brewç¯å¢ƒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨brewæ¥è¿›è¡Œå®‰è£…ã€‚\nå®‰è£…node æœç´¢å¯ä½¿ç”¨çš„nodeç‰ˆæœ¬å¹¶å®‰è£…ï¼Œè¿™é‡Œå®‰è£…18ç‰ˆæœ¬ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # aaa @ Mac-mini-m4 in ~ [10:35:56] $ brew search nodejs ==\u0026gt; Formulae node nodenv node@22 node@20 node@18 node@16 node@14 ==\u0026gt; Casks nodeclipse # aaa @ Mac-mini-m4 in ~ [10:36:04] $ brew install node@18 ==\u0026gt; node@18 node@18 is keg-only, which means it was not symlinked into /opt/homebrew, because this is an alternate version of another formula. If you need to have node@18 first in your PATH, run: echo \u0026#39;export PATH=\u0026#34;/opt/homebrew/opt/node@18/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc For compilers to find node@18 you may need to set: export LDFLAGS=\u0026#34;-L/opt/homebrew/opt/node@18/lib\u0026#34; export CPPFLAGS=\u0026#34;-I/opt/homebrew/opt/node@18/include\u0026#34; å®‰è£…åè¿˜éœ€è¦æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œé€šè¿‡ä¸Šé¢ç»™çš„å‘½ä»¤æ¥æ‰§è¡Œecho 'export PATH=\u0026quot;/opt/homebrew/opt/node@18/bin:$PATH\u0026quot;' \u0026gt;\u0026gt; ~/.zshrcï¼Œæœ€åå†åˆ·æ–°ç¯å¢ƒå˜é‡\n1 2 3 4 5 6 # aaa @ Mac-mini-m4 in ~ [10:38:36] $ source .zshrc # aaa @ Mac-mini-m4 in ~ [10:38:43] $ node -v v18.20.8 æœ€åé€šè¿‡npmæ¥å®‰è£…picgo:\n1 2 # aaa @ Mac-mini-m4 in ~ [10:38:48] $ npm install picgo -g å®‰è£…æƒ…å†µåå¯ä»¥ä½¿ç”¨picgo set uploaderæ¥è®¾ç½®ä¸Šä¼ é…ç½®ï¼Œä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ä¸æ”¯æŒè‡ªå®šä¹‰å›¾åºŠï¼Œåªèƒ½é€‰å®šä»–ç»™çš„å‡ ç§ï¼š\n1 2 3 4 5 6 7 8 9 10 # aaa @ Mac-mini-m4 in ~ [10:39:06] $ picgo set uploader ? Choose a(n) uploader aliyun tcyun smms github qiniu imgur â¯ upyun å®‰è£…web-uploader é€šè¿‡easyimageå®˜æ–¹çš„æ–‡æ¡£æ¥çœ‹ï¼Œåº”è¯¥æ˜¯æœ‰ä¸€ä¸ªæ’ä»¶å¯ä»¥å®‰è£…æ¥æ”¯æŒè‡ªå®šä¹‰å›¾åºŠä¸Šä¼ çš„ï¼šä½¿ç”¨PicGoä¸Šä¼ .md, æ’ä»¶çš„åç§°æ˜¯web-uploaderï¼Œé‚£æ€ä¹ˆå®‰è£…å‘¢ï¼Ÿé€šè¿‡picgoçš„å‘½ä»¤æ¥æŸ¥çœ‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 # aaa @ Mac-mini-m4 in ~ [10:54:19] $ picgo -h Usage: picgo [options] [command] Options: -v, --version output the version number -d, --debug debug mode -h, --help display help for command Commands: install|add [options] \u0026lt;plugins...\u0026gt; install picgo plugin uninstall|rm \u0026lt;plugins...\u0026gt; uninstall picgo plugin å¯ä»¥çœ‹åˆ°å¯ä»¥ä½¿ç”¨installæˆ–addå‘½ä»¤æ¥å®‰è£…ã€‚\n1 2 3 4 5 6 7 # aaa @ Mac-mini-m4 in ~ [11:10:45] $ picgo install web-uploader added 1 package, and audited 2 packages in 2s found 0 vulnerabilities [PicGo SUCCESS]: æ’ä»¶å®‰è£…æˆåŠŸ picgoçš„é…ç½®æ–‡ä»¶æ‰€åœ¨ä½ç½®å¦‚ä¸‹ï¼š\nLinux / macOS â†’ ~/.picgo/config.json. Windows â†’ C:\\Users\\[your user name]\\.picgo\\config.json. æŸ¥çœ‹é‡Œè¾¹çš„ç›®å½•æƒ…å†µï¼š\n1 2 3 4 5 6 7 8 9 # aaa @ Mac-mini-m4 in ~ [11:17:34] $ tree .picgo .picgo â”œâ”€â”€ config.json â”œâ”€â”€ i18n-cli â”œâ”€â”€ node_modules â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â””â”€â”€ picgo.log åœ¨packageé‡Œè®°å½•äº†æ‰€æœ‰çš„æ’ä»¶ä¿¡æ¯ï¼š\n1 2 3 # aaa @ Mac-mini-m4 in ~ [11:11:14] C:1 $ cat .picgo/package.json {\u0026#34;name\u0026#34;:\u0026#34;picgo-plugins\u0026#34;,\u0026#34;description\u0026#34;:\u0026#34;picgo-plugins\u0026#34;,\u0026#34;repository\u0026#34;:\u0026#34;https://github.com/PicGo/PicGo-Core\u0026#34;,\u0026#34;license\u0026#34;:\u0026#34;MIT\u0026#34;,\u0026#34;dependencies\u0026#34;:{\u0026#34;picgo-plugin-web-uploader\u0026#34;:\u0026#34;^1.1.1\u0026#34;}}% é…ç½®è‡ªå®šä¹‰å›¾åºŠ å®‰è£…web-uploaderåï¼Œå†æ¬¡æ‰§è¡Œset uploaderå‘½ä»¤æŸ¥çœ‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 # aaa @ Mac-mini-m4 in ~ [11:21:32] $ picgo set uploader ? Choose a(n) uploader smms github qiniu â¯ imgur upyun web-uploader aliyun (Move up and down to reveal more choices) å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªweb-uploaderé€‰é¡¹ï¼Œä¸‹è¾¹è¿›è¡Œæ¥è®¾ç½®ï¼š\n1 2 3 4 5 6 7 8 # aaa @ Mac-mini-m4 in ~ [11:21:32] $ picgo set uploader ? Choose a(n) uploader web-uploader ? APIåœ°å€ https://images.xxx.com/api/index.php ? POSTå‚æ•°å image ? å›¾ç‰‡URL JSONè·¯å¾„(eg: data.url) url ? è‡ªå®šä¹‰è¯·æ±‚å¤´ æ ‡å‡†JSON(eg: {\u0026#34;key\u0026#34;:\u0026#34;value\u0026#34;}) ? è‡ªå®šä¹‰Body æ ‡å‡†JSON(eg: {\u0026#34;key\u0026#34;:\u0026#34;value\u0026#34;}) {\u0026#34;token\u0026#34;:\u0026#34;aaaaaa\u0026#34;} æ¯ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆæ„ä¹‰å¯ä»¥å‚è€ƒä½¿ç”¨PicGoä¸Šä¼ .md,å…¶ä¸­apiåœ°å€æ˜¯è‡ªå·±ç½‘ç«™çš„åœ°å€ï¼Œpostå‚æ•°å’Œå›¾ç‰‡URL JSONè·¯å¾„æ˜¯å›ºå®šï¼Œè‡ªå®šä¹‰è¯·æ±‚å¤´æ ‡å‡†JSONå¯ä»¥ç½®ç©ºï¼Œè‡ªå®šä¹‰bodyæ ‡å‡†JSONåˆ™æ˜¯åœ¨easyimageåå°è·å–åˆ°çš„tokenæ›¿æ¢æˆ‘ä¸Šè¾¹çš„aaaaaa;\nå¦å¤–éœ€è¦è‡ªå·±å¼€å¯æ”¯æŒAPIä¸Šä¼ ï¼š\nTyporaé…ç½® åœ¨typoraçš„è®¾ç½®ä¸­ï¼Œé€‰æ‹©æ’å…¥å›¾ç‰‡æ—¶çš„åŠ¨ä½œï¼Œè¿™é‡Œé€‰æ‹©ä¸Šä¼ å›¾ç‰‡ã€‚\nä¸»è¦æ˜¯ä¸Šä¼ æœåŠ¡è®¾ç½®ï¼Œå› ä¸ºæˆ‘è¿™é‡Œæ²¡æœ‰å®‰è£…picgoçš„å®¢æˆ·æ®µï¼Œè€Œæ˜¯ä½¿ç”¨çš„picgo-coreæ¥æ­é…nodeä½¿ç”¨ï¼Œæ‰€ä»¥ä¸Šä¼ æœåŠ¡é€‰æ‹©è‡ªå®šä¹‰å‘½ä»¤ï¼Œå‘½ä»¤çš„å†…å®¹æ˜¯ï¼š\n{nodeä½ç½®} {picgoä½ç½®} u.\nnodeçš„ä½ç½®åœ¨å®‰è£…nodeçš„æ—¶å€™å°±å·²ç»çŸ¥é“äº†ï¼Œæˆ‘ä»¬è¿˜æŠŠbinæ·»åŠ è¿›äº†PATHä¸­ï¼Œå…·ä½“ä½ç½®ï¼š/opt/homebrew/opt/node@18/bin/node,é‚£ä¹ˆå®‰è£…çš„picgoåœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ï¼š\n1 2 3 4 5 6 7 8 9 10 # aaa @ Mac-mini-m4 in ~/.npm [12:01:34] $ npm list --depath=0 /Users/hangkong/.npm â””â”€â”€ (empty) # aaa @ Mac-mini-m4 in ~/.npm [12:02:54] $ npm list --depath=0 --global /opt/homebrew/lib â””â”€â”€ picgo@1.5.8 å¯ä»¥çœ‹åˆ°ä½ç½®åœ¨/opt/homebrew/libç›®å½•ä¸‹ï¼Œå®Œæ•´çš„è·¯å¾„ä¸ºï¼š/opt/homebrew/lib/node_modules/picgo/bin/picgoã€‚\né‚£ä¹ˆè®¾ç½®çš„å®Œæ•´å‘½ä»¤å°±æ˜¯ï¼š/opt/homebrew/opt/node@18/bin/node /opt/homebrew/lib/node_modules/picgo/bin/picgo uã€‚\nç»è¿‡ä¸Šè¾¹çš„é…ç½®ï¼Œå°±å¯ä»¥åœ¨ä½¿ç”¨typoraæ’å…¥å›¾ç‰‡çš„æ—¶å€™ç›´æ¥ä¸Šä¼ çš„easyimageå›¾åºŠäº†ã€‚\n","date":"2025-04-05T02:38:24Z","image":"https://images.iminling.com/app/hide.php?key=ZXNZbUNpQ1NObTUvdVJuVFlEa0xZcURTZmgzM2FISnV5MHVGQjR4OVRGSXJSWHRORmFkSTFZdkRWaEd2UFI5bDh0VWttZTQ9","permalink":"https://konghanghang.github.io/iminling-pages/2025/typora-how-to-use-picgo-upload-image-to-easyimage/","title":"Typoraä½¿ç”¨picgo-coreé…ç½®ä¸Šä¼ å›¾ç‰‡åˆ°easyimageå›¾åºŠ"},{"content":"é£ç‰›nasç³»ç»Ÿå‡ºæ¥ä¹Ÿæœ‰æ®µæ—¶é—´äº†ï¼Œä¸€ä¸ªå¾ˆä¸é”™çš„nasç³»ç»Ÿï¼Œåœ¨ä»¥å‰çš„æ–‡ç« ä¸­ä¹Ÿä»‹ç»è¿‡ç¾¤æ™–nasç³»ç»Ÿçš„å®‰è£…ï¼Œä»Šå¤©å°±æ¥ä¸€æ¬¡å°é²œï¼Œå®‰è£…ä¸€ä¸‹fnOSï¼Œçœ‹ä¸€ä¸‹ç¾¤æ™–çš„ç³»ç»Ÿå’Œé£ç‰›çš„ç³»ç»Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚æ¥ä¸‹æ¥å°±å¼€å§‹å®‰è£…æŠ˜è…¾ä¹‹è·¯ - é£ç‰›ç§æœ‰äº‘fnOS naså®‰è£…ã€‚\nPVEé…ç½® é¦–å…ˆè¦å…ˆå»é£ç‰›å®˜ç½‘æŠŠå®˜æ–¹é•œåƒISOæ–‡ä»¶ç»™ä¸‹è½½ä¸‹æ¥ï¼Œä¸Šä¼ åˆ°pveä¸­ï¼Œè¿™ä¸ªè¿˜æœ‰ä¸æ¸…æ¥šçš„å¯ä»¥å‚è€ƒProxmox VE(PVE)8.0å®‰è£…çˆ±å¿«ikuaiè™šæ‹Ÿæœºå¹¶ç›´é€šç½‘å¡ä¸­å¯¹çˆ±å¿«ISOæ–‡ä»¶ä¸Šä¼ çš„æ­¥éª¤ã€‚\nå¸¸è§„ ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„vmid ä»¥åŠ åç§°ï¼Œæˆ‘è¿™é‡Œåç§°å¡«äº†103ï¼Œå¯ä»¥ä¿®æ”¹è‡ªå·±å–œæ¬¢çš„ï¼Œæ¯”å¦‚é£ç‰›NASç­‰ã€‚å…¶ä»–é»˜è®¤ã€‚\n[][5]\næ“ä½œç³»ç»Ÿ æ“ä½œç³»ç»Ÿé€‰æ‹©åœ¨é£ç‰›å®˜ç½‘ä¸‹è½½çš„isoæ–‡ä»¶ã€‚å…¶ä»–çš„é»˜è®¤\n[][6]\nç³»ç»Ÿ æœºå‹è¿™é‡Œé€‰æ‹©q35ï¼Œå…¶ä»–ä¸å˜ã€‚\n[][7]\nç£ç›˜ è¿™é‡Œæ²¡æœ‰æˆªå›¾åˆ°ï¼Œå®é™…æ˜¯å’Œå®‰è£…ç¾¤ç¾¤ä¸€æ ·ï¼ŒæŠŠç£ç›˜åˆ é™¤äº†ï¼Œä»€ä¹ˆéƒ½ä¸ç•™ã€‚å¦‚æœåªæ˜¯æƒ³ä½“éªŒåˆ™å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥åˆ†é…ç¡¬ç›˜å¤§å°ã€‚\næˆ‘è¿™é‡Œæ˜¯è¦æŠŠä¸€ä¸ªç¡¬ç›˜ç›´é€šç»™é£ç‰›çš„ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±æŠŠç¡¬ç›˜éƒ½ç»™åˆ é™¤äº† ã€‚\nå¦‚æœåªæ˜¯ç”¨æ¥ä½“éªŒï¼Œåˆ™å¯ä»¥ç»™ä¸€ä¸ª30Gçš„ç£ç›˜ã€‚\ncpu cpuæ ¸å¿ƒæ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥ï¼Œæˆ‘çš„J4125åªæœ‰4ä¸ªæ ¸å¿ƒï¼Œæ‰€ä»¥å…¨ç»™äº†ã€‚ç±»åˆ«é€‰hostã€‚\n[][8]\nå†…å­˜é…ç½® å†…å­˜æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥ç»™ï¼Œå»ºè®®2Gä»¥ä¸Šï¼Œæˆ‘è¿™é‡Œç»™4G.\n[][9]\nç½‘ç»œ ç½‘ç»œæˆ‘è¿™é‡Œç›´æ¥é»˜è®¤ï¼Œä½¿ç”¨pveçš„ç½‘æ¡¥vmbr0å°±å¯ä»¥äº†ã€‚\n[][10]\nç¡®è®¤ éƒ½è®¾ç½®å®Œæˆåå¯¹å·²è®¾ç½®çš„ä¿¡æ¯è¿›è¡Œç¡®è®¤ï¼ŒåŸºæœ¬ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®Œæˆã€‚\n[][11]\nç¡¬ç›˜ç›´é€š ç»è¿‡ä¸Šè¾¹è®¾ç½®åï¼Œéœ€è¦å†ç»™nasç³»ç»Ÿä¸€ä¸ªç£ç›˜ï¼Œå¯ä»¥å‚è€ƒæˆ‘åœ¨Proxmox VE(PVE)8.0å®‰è£…é»‘ç¾¤æ™–NASå¹¶ç›´é€šç¡¬ç›˜æ—¶çš„ç›´é€šæ“ä½œï¼ŒåŸºæœ¬æ˜¯ä¸€æ ·çš„ã€‚\nç¡¬ç›˜ç›´é€šåï¼Œè¦çœ‹ä¸€ä¸‹å¯åŠ¨é¡ºåºï¼Œéœ€è¦å…ˆä»æˆ‘ä»¬ä¸Šä¼ çš„isoé•œåƒå¯åŠ¨ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜å°±å¯ä»¥å¯åŠ¨äº†ã€‚\nFnOSå®‰è£… ç»è¿‡ä¸Šè¾¹çš„æ­¥éª¤ï¼Œå·²ç»åˆ›å»ºå¥½äº†ä¸€ä¸ªè™šæ‹Ÿæœºã€‚æ¥ä¸‹æ¥å°±æ˜¯å¯¹ç³»ç»Ÿè¿›è¡Œé…ç½®å¯åŠ¨äº†ã€‚ç‚¹å‡»æ§åˆ¶å°æŸ¥çœ‹å¯åŠ¨ã€‚é»˜è®¤å›¾å½¢å®‰è£…ã€‚\né€‰æ‹©å®‰è£…ä½ç½®ï¼Œæœ¬æ–‡è¿™é‡Œæ˜¯é€‰æ‹©ç›´é€šçš„ç¡¬ç›˜ï¼š\nä¸‹ä¸€æ­¥é€‰æ‹©ç³»ç»Ÿåˆ†åŒºå¤§å°,å®˜æ–¹é»˜è®¤ç»™çš„æ˜¯64Gï¼Œè¿™é‡Œç›´æ¥æŒ‰å®˜æ–¹å»ºè®®æ¥ï¼š\næ¥ä¸‹æ¥å°±æ˜¯å®‰è£…äº†ï¼Œç­‰å¾…å®‰è£…æˆåŠŸå°±å¯ä»¥äº†ã€‚\nä¸‹ä¸€æ­¥å°±ä¼šå‡ºç°é‡å¯äº†ï¼Œé‡å¯åæ§åˆ¶å°ä¼šæ˜¾ç¤ºä¸€ä¸‹å†…å®¹ï¼š\nä¼šå‘Šè¯‰ç™»å½•çš„ipå’Œç«¯å£ï¼Œè¿™é‡Œæ˜¯http://192.168.1.47:5666,ç­‰ä¸‹æ¥æµè§ˆå™¨ç›´æ¥è¾“å…¥è¿™ä¸ªåœ°å€æ¥è¿›è¡Œè®¿é—®ã€‚\nåˆå§‹åŒ–FnOS ç³»ç»Ÿè®¾ç½® æ¥ä¸‹æ¥å¯¹fnosè¿›è¡Œåˆå§‹åŒ–ï¼Œè®¿é—®ä¸Šè¾¹çš„åœ°å€ï¼š\nåˆæ¬¡è¿›å…¥åéœ€è¦è®¾ç½®è®¾å¤‡åç§°ä»¥åŠç®¡ç†å‘˜ä¿¡æ¯ã€‚\nå­˜å‚¨ç©ºé—´åˆ›å»º è®¾ç½®åä¼šè¿›å…¥ç³»ç»Ÿï¼Œå› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥ç³»ç»Ÿï¼Œç³»ç»Ÿä¼šæç¤ºåˆ›å»ºå­˜å‚¨ç©ºé—´ï¼š\nç‚¹å‡»ç«‹å³åˆ›å»ºï¼Œé€‰æ‹©ç£ç›˜ä»¥åŠæ•°æ®ä¿æŠ¤é»˜è®¤ï¼Œæˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨é»˜è®¤basicæ–¹å¼ã€‚\nä¸‹ä¸€æ­¥è®¾ç½®å­˜å‚¨ç©ºé—´å¯ä»¥ä½¿ç”¨çš„ç”¨æˆ·ä»¥åŠå¯ä»¥ä½¿ç”¨çš„å¤§å°ï¼Œæˆ‘è¿™é‡Œåªæœ‰è‡ªå·±ä½¿ç”¨ï¼Œå®¹é‡ä¸é™åˆ¶ï¼š\nä¸‹ä¸€æ­¥åˆ›å»ºç¡®è®¤ï¼š\nå¯¹ç£ç›˜è¿›è¡Œæ ¼å¼åŒ–ï¼š\næ ¼å¼åŒ–å®Œå°±åˆ›å»ºæˆåŠŸäº†ï¼š\næŸ¥çœ‹åˆ›å»ºçš„å­˜å‚¨ç©ºé—´ï¼š\nFnOSæ–‡ä»¶ç³»ç»Ÿ ä¸Šè¾¹å°±å·²ç»å®Œå…¨å®‰è£…å¥½äº†é£ç‰›NSAï¼Œé£ç‰›çš„ç£ç›˜å­˜å‚¨ä½ç½®å’Œç¾¤æ™–è¿˜æ˜¯æœ‰ä¸€ç‚¹ä¸ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡sshç™»å½•è¿›ç³»ç»Ÿè¿›è¡ŒæŸ¥çœ‹ä»–çš„ç£ç›˜ä¿¡æ¯ã€‚\nsshç™»å½•ä¿¡æ¯ä¸ºè®¿é—®ç½‘é¡µç‰ˆçš„ç”¨æˆ·åå’Œå¯†ç ã€‚ä½¿ç”¨è®¿é—®ç½‘é¡µçš„ipå’Œ22ç«¯å£+ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œç™»å½•ã€‚\n1 2 3 4 5 6 7 8 9 10 aa@FnOS:/$ df -h Filesystem Size Used Avail Use% Mounted on udev 1.9G 0 1.9G 0% /dev tmpfs 394M 7.7M 386M 2% /run /dev/sda2 63G 9.1G 51G 16% / tmpfs 2.0G 1.4M 2.0G 1% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock trimafs 1.8T 1.7T 58G 97% /fs /dev/mapper/trim_f9cc7969_89e3_4c0b_9857_bcec3a1144d7-0 1.8T 1.7T 58G 97% /vol1 tmpfs 394M 0 394M 0% /run/user/1000 å¯ä»¥çœ‹åˆ°é£ç‰›çš„ç³»ç»Ÿæ˜¯æ”¾åœ¨/ç›®å½•ä¸‹çš„ï¼Œ63G, è€Œæˆ‘ç›´é€šçš„ç¡¬ç›˜æœ‰ä¸¤ä¸ªç›®å½•/fså’Œ/vol1ã€‚\nåœ¨æˆ‘çš„æ–‡ä»¶è‡ªå·±åˆ›å»ºçš„ç›®å½•åœ¨/fsç›®å½•ä¸‹ï¼š ```bash aa@FnOS:/fs/1000/ftp$ ls docker download ``` ç›´æ¥ä½¿ç”¨åº”ç”¨å•†åº—å®‰è£…çš„qbä¸‹è½½ç›®å½•å¯ä»¥åœ¨qbçš„è®¾ç½®é‡Œçœ‹åˆ°ï¼Œå®é™…æ˜¯åœ¨/vol1ä¸‹ã€‚ aa@FnOS:/var/apps/qBittorrent/shares$ ls -alh total 8.0K drwxr-xr-x 2 root root 4.0K Jan 7 23:05 . drwxr-xr-x 6 root root 4.0K Jan 7 23:05 .. lrwxrwxrwx 1 root root 27 Jan 7 23:05 qBittorrent -\u003e /vol1/@appshare/qBittorrent å…¶ä»–çš„ç›®å½•ä¿¡æ¯å¤§å®¶æ ¹æ®æƒ…å†µå†å»ç ”ç©¶ã€‚ qbä¸‹è½½ é»˜è®¤qbåªèƒ½è®¿é—®å®‰è£…åè®¾ç½®é‡Œé…ç½®çš„ç›®å½•ï¼Œå¦‚æœæƒ³è¦æ”¹å˜qbä¸‹è½½çš„ç›®å½•ï¼Œåˆ™éœ€è¦å»ç³»ç»Ÿè®¾ç½®-åº”ç”¨æ‰¾åˆ°qbï¼Œæ·»åŠ ä¸€ä¸‹å…è®¸å®ƒè®¿é—®çš„æ–‡ä»¶ç›®å½•ã€‚\nä¸‹è¾¹æ˜¯å®Œæ•´åçš„æ¡Œé¢é¢„è§ˆå›¾ ![fnos complete](https://images.iminling.com/i/2025/01/08/3b89be1091025e546acd4224064abb0a.webp) ","date":"2025-02-09T03:15:47Z","image":"https://images.iminling.com/i/2025/01/08/d3c94bd7539929c05abffe55a8295ea2.webp","permalink":"https://konghanghang.github.io/iminling-pages/2025/install-fnos-nas/","title":"Proxmox VE(PVE)8.0å®‰è£…é£ç‰›ç§æœ‰äº‘fnOS â€“ NAS"},{"content":"å‰ä¸¤ç¯‡æ–‡ç« å…ˆè®²äº†å¦‚ä½•å®‰è£…alistå¹¶æ·»åŠ å¸¸è§ç½‘ç›˜ï¼Œä»¥åŠå¦‚ä½•æŠŠalisté€šè¿‡rcloneæŒ‚è½½åœ¨æœ¬åœ°ç¡¬ç›˜å®ç°åƒæœ¬åœ°æ–‡ä»¶ä¸€æ ·è¿›è¡Œæµè§ˆï¼Œæœ¬ç¯‡æ–‡ç« å’±ä»¬ç»§ç»­ï¼Œä»‹ç»å¦‚ä½•å®‰è£…embyå¹¶å¯¹åª’ä½“è¿›è¡Œæ·»åŠ è¿›emby.\nembyå®‰è£… è¦å®‰è£…embyé¦–å…ˆè¦é¢ä¸´çš„å°±æ˜¯embyç‰ˆæœ¬é€‰æ‹©é—®é¢˜ï¼Œembyæœ¬èº«æ˜¯ä¸€ä¸ªæ”¶è´¹è½¯ä»¶ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¤§ä½¬ä»¬çš„ç ´è§£ç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©amilys/embyserverÂ è¿™ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥å»docker hubå®˜æ–¹åœ°å€æŸ¥çœ‹ã€‚ç¡®è®¤é•œåƒåï¼Œä¸‹è¾¹ç»™å‡ºæˆ‘çš„docker-compose.yamlé…ç½®æ–‡ä»¶:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 networks: mynet: external: true services: emby: image: amilys/embyserver container_name: emby restart: unless-stopped volumes: - ./config:/config - /data/movies:/data/movies:rslave ports: - 8096:8096 extra_hosts: - host.docker.internal:host-gateway networks: - mynet networkä¸å†å¤šè¯´äº†ï¼Œè‡ªå·±åˆ›å»ºçš„ä¸€ä¸ªæ¡¥æ¥ç½‘ç»œã€‚\nç«¯å£æš´éœ²8096å‡ºå»ï¼Œ\nembyçš„é…ç½®æ–‡ä»¶åœ¨/configç›®å½•ï¼ŒæŠŠå®ƒæŒ‚è½½åˆ°æœ¬åœ°æ–¹ä¾¿åç»­è¿›è¡Œä¿®æ”¹ã€‚\nå¦å¤–ä¸€ä¸ªæŒ‚è½½è·¯å¾„å°±æ˜¯æœ¬åœ°çš„/data/moviesæŒ‚è½½åˆ°å®¹å™¨çš„/data/moviesç›®å½•ã€‚æœ¬åœ°çš„/data/movieså…¶å®å°±æ˜¯ä¸Šç¯‡æ–‡ç« é€šè¿‡rcloneå¤„ç†çš„alistä¸­æ‰€æœ‰çš„æ–‡ä»¶ã€‚è¿™é‡Œå»ºè®®è®¾ç½®ä¸ºä¸€æ ·çš„è·¯å¾„ï¼Œæ–¹ä¾¿åç»­åœ¨302æ’­æ”¾çš„æ—¶å€™æ›¿æ¢ï¼Œä¸ä¼šé‡åˆ°é‚£ä¹ˆå¤šéº»çƒ¦ã€‚\næ•´ä½“ç›®å½•å¦‚ä¸‹ï¼š\n1 2 3 4 root@docker:~/emby# tree -L 2 . â”œâ”€â”€ config â””â”€â”€ docker-compose.yaml ç„¶åå°±æ˜¯å¯åŠ¨å®¹å™¨docker compose up -dè¿›è¡Œembyçš„é…ç½®äº†ã€‚\nembyåˆå§‹åŒ– å¯åŠ¨å®¹å™¨åï¼Œå¯ä»¥é€šè¿‡ip:8096æ¥è®¿é—®åˆšå¯åŠ¨çš„å®¹å™¨ã€‚ä¸‹è¾¹æ¥è¿›è¡Œembyçš„ä¸€äº›åˆå§‹åŒ–é…ç½®ï¼Œé¦–å…ˆæ˜¯è¿›è¡Œè¯­è¨€é…ç½®ï¼Œé€‰æ‹©chinese simplified(ç®€ä½“ä¸­æ–‡)ï¼Œä¸‹ä¸€æ­¥\nè®¾ç½®å®Œè¯­è¨€åå°±ä¼šæç¤ºåˆ›å»ºç”¨æˆ·,æ ¹æ®è‡ªå·±çš„éœ€æ±‚åˆ›å»ºç”¨æˆ·ä»¥åŠè®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚ç„¶åç»§ç»­ä¸‹ä¸€æ­¥\nä¹‹åå°±ä¼šè®©æ·»åŠ ä¸€ä¸ªåª’ä½“åº“ï¼Œè¿™é‡Œå¯ä»¥å…ˆä¸æ·»åŠ ï¼Œç›´æ¥ä¸‹ä¸€æ­¥ï¼Œç­‰å®Œå…¨é…ç½®å¥½äº†ä¹‹åå†å»é…ç½®åª’ä½“åº“ç›¸å…³çš„ä¸œè¥¿\næ¥ä¸‹æ¥æ˜¯è®¾ç½®åª’ä½“åº“çš„åå¥½è¯­è¨€å’Œåœ°åŒºï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚è‹±æ–‡æˆ–è€…ä¸­æ–‡\nä¸‹è¾¹æ˜¯é…ç½®è¿œç¨‹è®¿é—®ï¼Œå¼€å¯å°±å¥½äº†\nä¸‹è¾¹æ˜¯ä½¿ç”¨æ¡ä¾‹ï¼Œæ¥æ”¶ç»§ç»­ä¸‹ä¸€æ­¥\nç»ˆäºå®Œæˆäº†,ç‚¹å‡»finishè·³è½¬ã€‚\nç»è¿‡ä¸Šè¾¹è®¾ç½®ï¼Œembyå°±ç®—æ˜¯åˆå§‹åŒ–å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œåª’ä½“åº“æ·»åŠ äº†ã€‚\nåª’ä½“åº“ è¿›å…¥åˆ°embyåå°ï¼Œæ‰¾åˆ°åª’ä½“åº“èœå•ï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œæ·»åŠ åª’ä½“åº“äº†ã€‚\næ·»åŠ åª’ä½“åº“æ—¶éœ€è¦æ•´ç†å¥½åˆ†ç±»,æ˜¯ç”µå½±ã€ç”µè§†èŠ‚ç›®è¿˜æ˜¯å…¶ä»–ï¼Œæ–¹ä¾¿embyæ­£ç¡®åˆ®å‰Šã€‚\næ ¹æ®æƒ…å†µé…ç½®ä¸Šè¾¹çš„é€‰é¡¹ï¼Œé…ç½®å¥½åembyå°±ä¼šå¼€å§‹è¿›è¡Œåˆ®å‰Šï¼Œå®Œæ•´åå°±å¯ä»¥åœ¨embyé¦–é¡µçœ‹åˆ°æ·»åŠ çš„ç›®å½•ä¸‹çš„æ‰€æœ‰ç”µå½±äº†ã€‚\næˆªæ­¢åˆ°ç°åœ¨embyå·²ç»å¯ä»¥æ­£ç¡®çš„æ’­æ”¾è§†é¢‘äº†ï¼Œä½†æ˜¯æ­¤æ—¶æ’­æ”¾ç½‘ç›˜çš„å†…å®¹æ˜¯ä¼šç»è¿‡æ­å»ºalisté‚£å°æœºå™¨ï¼Œç­‰äºæ˜¯é‚£å°æœºå™¨æŠŠåª’ä½“å†…å®¹ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åé€ç»™æˆ‘ä»¬çš„æ’­æ”¾å™¨è¿›è¡Œæ’­æ”¾ï¼Œå¦‚æœalistéƒ¨ç½²åœ¨æœ¬åœ°æ’­æ”¾å€’æ˜¯ä»€ä¹ˆæ²¡ä»€ä¹ˆï¼Œåæ­£éƒ½è¦ä¸‹è½½ä¸‹æ¥ã€‚å¦‚æœalistéƒ¨ç½²åœ¨å…¶ä»–vpsä¸Šï¼Œæµé‡æ¶ˆè€—æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜ã€‚å¦‚æœæ˜¯éƒ¨ç½²åœ¨å®¶é‡Œä½†æ˜¯éœ€è¦åœ¨å®¶åº­ä»¥å¤–çš„åœ°æ–¹æ’­æ”¾ï¼Œè¿™æ—¶å€™æµé‡ä¹Ÿä¼šç»è¿‡å®¶é‡Œç„¶åæ‰åˆ°ä½ åœ¨å¤–è¾¹çš„è®¾å¤‡ï¼Œæ’­æ”¾é€Ÿåº¦å°±å–å†³äºä½ çš„å®¶åº­å®½å¸¦çš„ä¸Šè¡Œäº†ï¼Œä¸€èˆ¬ä¸Šè¡Œæ‰€ä»¥éƒ½ä¸ä¼šå¤ªå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é…ç½®302é‡å®šå‘ï¼Œè®©æ’­æ”¾è®¾å¤‡ç›´æ¥å’Œç½‘ç›˜è¿›è¡Œäº¤äº’ï¼Œè€ŒalistæœåŠ¡å™¨åªæ˜¯è´Ÿè´£ç»™ä½ åˆ—å‡ºç›®å½•æ ‘ï¼Œä¾›æˆ‘ä»¬æµè§ˆä½¿ç”¨ã€‚ä¸‹è¾¹å°±æ¥è®²ä¸€ä¸‹å¦‚ä½•è¿›è¡Œ302æ’­æ”¾ã€‚\nembyExternalUrlå®ç°302æ’­æ”¾ æœ¬æ–‡ä¸»è¦ä»‹ç»ä½¿ç”¨embyExternalUrlå·¥å…·è¿›è¡Œ302æ’­æ”¾ã€‚æœ‰å¤§ä½¬åšäº†æ•´åˆï¼Œå¼„äº†ä¸€ä¸ªdockeré•œåƒï¼šMediaLinkerï¼Œé™ä½äº†æ“ä½œçš„å¤æ‚åº¦ï¼Œå¹¶ä¸”æ”¯æŒsslè¯ä¹¦ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œé…ç½®ã€‚docker composeæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 services: medialinker: container_name: medialinker image: thsrite/medialinker:latest restart: unless-stopped volumes: - ./data/:/opt/ environment: - AUTO_UPDATE=true - SERVER=emby - NGINX_PORT=8091 network_mode: host å…·ä½“ç¯å¢ƒä¿¡æ¯å¯ä»¥çœ‹å¤§ä½¬çš„ä»‹ç»ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨embyä¸”ä¹Ÿä¸éœ€è¦SSLï¼Œå¦‚ä¸Šæ˜¯æœ€ç®€å•çš„é…ç½®äº†ã€‚å¯åŠ¨åï¼Œåœ¨dataç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªconstant.jsæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å˜å…¶ä¸­embyã€alistçš„ä¸€äº›é…ç½®ï¼Œéœ€è¦é…ç½®çš„åœ°æ–¹å¦‚ä¸‹å›¾ï¼š\næ ¹æ®ä¸Šå›¾å¯ä»¥çœ‹åˆ°æœ‰7é¡¹ä¿¡æ¯éœ€è¦å¡«å†™ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ä¸ªå¤§é¡¹ï¼Œä¸€ä¸ªæ˜¯embyçš„é…ç½®ï¼Œä¸€ä¸ªæ˜¯alistçš„é…ç½®ã€‚ä¸‹è¾¹æ¥è¯¦ç»†è¯´ä¸€ä¸‹æ¯ä¸ªå‚æ•°çš„é…ç½®ã€‚\nembyé…ç½® embyéœ€è¦ä¸‰ä¸ªå‚æ•°ï¼Œembyhostè¿™ä¸ªç®€å•ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰“å¼€embyçš„åœ°å€ï¼Œå®‰è£…çš„æœºå™¨ipå’Œdocker-composeæ–‡ä»¶ä¸­çš„ç«¯å£å°±å¯ä»¥äº†ã€‚\nembyApiKeyéœ€è¦åœ¨embyçš„åå°å»è·å–ï¼Œè·¯å¾„å¦‚ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªapiå¯†é’¥ï¼Œç„¶åå¡«è¿›å»å°±å¯ä»¥äº†ã€‚\nmediaMountPathæ–‡ä»¶ä¸­ä»‹ç»çš„ä¹Ÿæ¯”è¾ƒæ¸…æ¥šï¼š\n// æŒ‚è½½å·¥å…· rclone/CD2 å¤šå‡ºæ¥çš„æŒ‚è½½ç›®å½•, ä¾‹å¦‚å°† od,gd æŒ‚è½½åˆ° /mnt ç›®å½•ä¸‹: /mnt/onedrive /mnt/gd ,é‚£ä¹ˆè¿™é‡Œå°±å¡«å†™ /mnt // é€šå¸¸é…ç½®ä¸€ä¸ªè¿œç¨‹æŒ‚è½½æ ¹è·¯å¾„å°±å¤Ÿäº†,é»˜è®¤éæ­¤è·¯å¾„å¼€å¤´æ–‡ä»¶å°†è½¬ç»™åŸå§‹ emby å¤„ç† // å¦‚æœæ²¡æœ‰æŒ‚è½½,å…¨éƒ¨ä½¿ç”¨ strm æ–‡ä»¶,æ­¤é¡¹å¡«[\u0026quot;\u0026quot;],å¿…é¡»è¦æ˜¯æ•°ç»„\næˆ‘ä»¬åœ¨ä¸Šè¾¹å®‰è£…aliså’Œembyçš„æ—¶å€™ï¼Œä¸¤ä¸ªå†…éƒ¨è·¯å¾„éƒ½æ˜¯/data/moviesï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„ä¸­å°±å¡«/data/movies.\nembyçš„é…ç½®å°±å®Œæˆäº†ã€‚\nalisté…ç½® hostä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬æ€ä¹ˆè®¿é—®alistçš„å°±æ€ä¹ˆå†™ï¼Œä¸€èˆ¬æ˜¯ip:5244.\nalist-tokençš„è·å–è·¯å¾„å¦‚ä¸‹ï¼š\nç„¶åæ˜¯å¦å¯ç”¨äº†signï¼Œè¿™ä¸ªåœ¨å¾€alisté…ç½®æ¯ä¸ªç½‘ç›˜çš„æ—¶å€™ï¼Œæˆ‘è¿™è¾¹éƒ½æ˜¯æœ‰å¼€å¯çš„ï¼Œæ‰€ä»¥è¿™ä¸ªå‚æ•°æˆ‘éœ€è¦è®¾ç½®ä¸ºtrue.\nç­¾åæœ‰æ•ˆæœŸï¼ŒæŒ‰ç…§ä»–æä¾›çš„è·¯å¾„ä¹Ÿå¾ˆå®¹æ˜“æ‰¾åˆ°ï¼Œé»˜è®¤æ˜¯0ï¼Œæˆ‘è¿™é‡Œä¹ŸæŠŠä»–æ”¹æˆ12ï¼Œä¸¤è¾¹åŒæ­¥ã€‚\nç„¶åä¿å­˜constant.jsæ–‡ä»¶ï¼Œæ­¤æ—¶éœ€è¦å†å¯¹medialinkerå®¹å™¨è¿›è¡Œä¸€æ¬¡é‡å¯ï¼Œå¦‚æœä¸é‡å¯ï¼ŒmediaMountPathä¸ç”Ÿæ•ˆã€‚\nå¦‚ä½•åˆ¤æ–­æ˜¯å¦æˆåŠŸäº†å‘¢ï¼Ÿå¯ä»¥æŸ¥çœ‹medialinkerçš„æ—¥å¿—ï¼Œdocker compose logs -tf æ¥æŸ¥çœ‹ã€‚å¦‚ä¸‹æˆ‘åœ¨ç¬¬ä¸€æ¬¡æ²¡æœ‰é‡å¯çš„æƒ…å†µå»æ’­æ”¾è§†é¢‘ï¼Œçœ‹åˆ°æœ‰ä»¥ä¸‹æ—¥å¿—ï¼Œæ‰¾çš„è¿˜æ˜¯é»˜è®¤çš„/mntè·¯å¾„ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°æˆ‘çš„æœåŠ¡å™¨æµé‡åœ¨ç–¯ç‹‚çš„è·‘ä¸‹è¡Œæµé‡ï¼Œè¯´æ˜æ˜¯é€šè¿‡æœåŠ¡å™¨ä¸‹è½½åè½¬ç»™æˆ‘çš„ã€‚\nç»è¿‡å¯¹å®¹å™¨è¿›è¡Œé‡å¯åï¼Œå†æ¬¡å»æ’­æ”¾è§†é¢‘ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼Œè¯»å–åˆ°äº†æˆ‘é…ç½®çš„/data/movies.\nç»è¿‡ä»¥ä¸Šå°±å¯ä»¥æ„‰å¿«çš„302ç›´æ¥æ’­æ”¾äº‘ç›˜ä¸­çš„è§†é¢‘äº†ã€‚å¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2025-01-04T09:48:58Z","image":"https://images.iminling.com/app/hide.php?key=QStIZ0I0Y3k4RmJmL1lZY3lLbjZDS0hqVkcxQjRVU21iZnlwaTJqRk83cm9VTE1EZzg2bmp6b2ErcmM4RkpsVUJDa3h4TEk9","permalink":"https://konghanghang.github.io/iminling-pages/2025/emby-install-and-configuration/","title":"ç§äººå½±é™¢ä¹‹embyå®‰è£…é…ç½®ä»¥åŠé€šè¿‡embyExternalUrlå®ç°302æ’­æ”¾"},{"content":"æœ€è¿‘è´­ä¹°äº†ä¸¤ä¸ªæœåŠ¡å™¨ï¼Œå…¶ä¸­ä¸€ä¸ªå¸¦äº†ä¸€ä¸ª1Tçš„ç£ç›˜ï¼Œå¦ä¸€ä¸ªå¸¦äº†ä¸€ä¸ª3Tçš„ç£ç›˜ï¼Œé»˜è®¤è¿™ä¸¤ä¸ªç£ç›˜éƒ½æ˜¯æ²¡æœ‰æŒ‚è½½çŠ¶æ€çš„ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨è¿›è¡ŒæŒ‚è½½ï¼Œäºæ˜¯å°±å¼€å§‹äº†ç ”ç©¶å¦‚ä½•åœ¨linuxä¸­è¿›è¡Œç£ç›˜åˆ†åŒºä»¥åŠç£ç›˜æŒ‚è½½ï¼Œæ¥ä¸‹æ¥è®°å½•ä¸€ä¸‹æŠ˜è…¾è¿‡ç¨‹ã€‚\n3Tç›˜æŒ‚è½½ ç£ç›˜æŸ¥çœ‹ å…ˆä½¿ç”¨fdiskæŸ¥çœ‹ç£ç›˜\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 root@host:~# fdisk -l Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors Disk model: QEMU HARDDISK Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: gpt Disk identifier: 0DA7595A-DE2A-1042-8C4F-3C883C4D7BA6 Device Start End Sectors Size Type /dev/sda1 262144 41943006 41680863 19.9G Linux filesystem /dev/sda14 2048 8191 6144 3M BIOS boot /dev/sda15 8192 262143 253952 124M EFI System Partition table entries are not in disk order. Disk /dev/sdb: 2.93 TiB, 3221225472000 bytes, 6291456000 sectors Disk model: QEMU HARDDISK Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes å¯ä»¥çœ‹åˆ°/dev/sdbæœ‰ä¸€ä¸ª2.93TBçš„ç¡¬ç›˜ï¼Œä¸‹è¾¹æ¥å¯¹è¿™ä¸ªç£ç›˜è¿›è¡Œåˆ†åŒºå¹¶æ·»åŠ ã€‚\nç£ç›˜åˆ†åŒº ä¼ ç»Ÿçš„MBRï¼ˆä¸»å¼•å¯¼è®°å½•ï¼‰åˆ†åŒºè¡¨åªèƒ½æ”¯æŒæœ€å¤š2TBçš„ç£ç›˜ï¼Œè€Œæˆ‘è¿™ä¸ªç›˜æ˜¯3Tçš„ï¼Œéœ€è¦ä½¿ç”¨GPTï¼Œè¿™ä¸ªæ ¼å¼æ”¯æŒè¶…è¿‡2TBçš„ç£ç›˜ï¼ŒLinuxæ”¯æŒGPTï¼ˆGUIDåˆ†åŒºè¡¨ï¼‰æ ¼å¼ã€‚å¯¹äºå¤§äº2Tçš„ç¡¬ç›˜ä½¿ç”¨partedå‘½ä»¤æ¥è¿›è¡Œå¤„ç†ã€‚\né¦–å…ˆè¦ç¡®è®¤æ˜¯å¦å·²å®‰è£…parted,å¦‚æœæ²¡æœ‰å®‰è£…ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š\n1 2 3 4 root@host:~# apt install parted Reading package lists... Done Building dependency tree... Done Reading state information... Done ç„¶åæ‰§è¡Œparted /dev/sdbå¯¹/dev/sdbè¿™ä¸ªç›˜è¿›è¡Œå¤„ç†ï¼Œè¾“å…¥å‘½ä»¤åä¼šè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œéœ€è¦ç»è¿‡å‡ ä¸ªæ­¥éª¤\nmklabel gpt ï¼Œåˆ›å»ºGPTåˆ†åŒºè¡¨ mkpart primary ext4 0% 100% ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ†åŒºï¼Œä½¿ç”¨100%çš„ç£ç›˜ç©ºé—´ print ï¼Œæ˜¾ç¤ºè®¾ç½®çš„åˆ†åŒº(å¯é€‰æ“ä½œ) quit ï¼Œé€€å‡º å®Œæ•´çš„æ“ä½œå‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 root@host:~# parted /dev/sdb GNU Parted 3.5 Using /dev/sdb Welcome to GNU Parted! Type \u0026#39;help\u0026#39; to view a list of commands. (parted) mklabel gpt (parted) mkpart primary ext4 0% 100% (parted) print Model: QEMU QEMU HARDDISK (scsi) Disk /dev/sdb: 3221GB Sector size (logical/physical): 512B/512B Partition Table: gpt Disk Flags: Number Start End Size File system Name Flags 1 1049kB 3221GB 3221GB ext4 primary (parted) quit Information: You may need to update /etc/fstab. åˆ†åŒºå®Œæˆã€‚\nç£ç›˜æ ¼å¼åŒ– åˆ›å»ºåˆ†åŒºåï¼Œéœ€è¦æ ¼å¼åŒ–ä¸ºæ–‡ä»¶ç³»ç»Ÿã€‚æˆ‘è¿™é‡Œä½¿ç”¨ext4æ ¼å¼ï¼Œå› ä¸ºæˆ‘åªåˆ†äº†ä¸€ä¸ªç›˜ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯sdb1,å¦‚æœæœ‰å¤šä¸ªç›˜ï¼Œéœ€è¦åˆ†åˆ«å¯¹æ¯ä¸ªè¿›è¡Œæ ¼å¼åŒ–ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 root@host:~# mkfs.ext4 /dev/sdb1 mke2fs 1.47.0 (5-Feb-2023) Discarding device blocks: done Creating filesystem with 786431488 4k blocks and 196608000 inodes Filesystem UUID: f2275364-6fa6-4ae0-a214-5bd98552f5b1 Superblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968, 102400000, 214990848, 512000000, 550731776, 644972544 Allocating group tables: done Writing inode tables: done Creating journal (262144 blocks): done Writing superblocks and filesystem accounting information: done ç»è¿‡ä¸Šè¾¹å°±å·²ç»å¯¹åˆšåˆ†çš„é‚£ä¸ªç›˜è¿›è¡Œäº†æ ¼å¼åŒ–ã€‚\nç£ç›˜æŒ‚è½½ æ¥ä¸‹æ¥å°±æ˜¯å¯¹è¿™ä¸ªç›˜è¿›è¡ŒæŒ‚è½½ï¼Œæˆ‘è¿™é‡ŒæŒ‚è½½åˆ°/dataç›®å½•ä¸‹ï¼Œéœ€è¦å…ˆåˆ›å»º/dataè¿™ä¸ªç›®å½•ï¼Œç„¶åé€šè¿‡mount /dev/sdb1 /dataå‘½ä»¤ï¼ŒæŠŠ/dev/sdb1æŒ‚è½½åˆ°/dataç›®å½•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 root@host:~# mkdir /data root@host:~# df -h Filesystem Size Used Avail Use% Mounted on udev 979M 0 979M 0% /dev tmpfs 198M 732K 198M 1% /run /dev/sda1 20G 2.1G 17G 12% / tmpfs 990M 0 990M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock /dev/sda15 124M 12M 113M 10% /boot/efi tmpfs 198M 0 198M 0% /run/user/0 root@host:~# mount /dev/sdb1 /data root@host:~# df -h Filesystem Size Used Avail Use% Mounted on udev 979M 0 979M 0% /dev tmpfs 198M 732K 198M 1% /run /dev/sda1 20G 2.1G 17G 12% / tmpfs 990M 0 990M 0% /dev/shm tmpfs 5.0M 0 5.0M 0% /run/lock /dev/sda15 124M 12M 113M 10% /boot/efi tmpfs 198M 0 198M 0% /run/user/0 /dev/sdb1 2.9T 28K 2.8T 1% /data å¯ä»¥é€šè¿‡å‘½ä»¤df -hæŸ¥çœ‹ç£ç›˜æŒ‚è½½æƒ…å†µï¼Œå¦‚ä¸Šæ˜¯å·²ç»æˆåŠŸæŒ‚è½½äº†ã€‚\nç£ç›˜å¼€æœºè‡ªåŠ¨æŒ‚è½½ ç»è¿‡ä¸Šé¢çš„æŒ‚è½½åï¼Œå¦‚æœç³»ç»Ÿé‡å¯ï¼Œé‚£ä¹ˆæŒ‚è½½å°±ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥å¦‚æœä½ å¸Œæœ›ç£ç›˜åœ¨ç³»ç»Ÿé‡å¯æ—¶è‡ªåŠ¨æŒ‚è½½ï¼Œå¯ä»¥ç¼–è¾‘/etc/fstabæ–‡ä»¶ï¼š\n1 2 root@host-c:~# vim /etc/fstab /dev/sdb1 /data ext4 defaults 0 2 å¦‚ä¸Šæ·»åŠ ä¸€è¡Œ/dev/sdb1 /data ext4 defaults 0 2å°±å¯ä»¥é‡å¯åè‡ªåŠ¨å®ç°æŒ‚è½½ã€‚\n1Tç›˜æŒ‚è½½ åœ¨3tç›˜æŒ‚è½½çš„æ•™ç¨‹ä¸­å¯ä»¥çœ‹å‡ºæ•´ä¸ªæŒ‚è½½è¿‡ç¨‹åˆ†ä¸ºï¼šç£ç›˜æŸ¥çœ‹-ç£ç›˜åˆ†åŒº-ç£ç›˜æ ¼å¼åŒ–-ç£ç›˜æŒ‚è½½-ç£ç›˜å¼€æœºè‡ªåŠ¨æŒ‚è½½å…±5ä¸ªæ­¥éª¤ï¼Œå¤„ç†1Tç›˜è¿‡ç¨‹åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åœ¨ç£ç›˜åˆ†åŒºçš„æ—¶å€™æœ‰ä¸¤ç§é€‰æ‹©ï¼Œç¬¬ä¸€ç§å°±è¿˜æ˜¯ä½¿ç”¨åˆ°partedå‘½ä»¤ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨fdiskå‘½ä»¤ã€‚\nå…ˆæ¥æŸ¥çœ‹ç£ç›˜çš„åˆ†å¸ƒ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 root@host:~# fdisk -l Disk /dev/sdb: 1000 GiB, 1073741824000 bytes, 2097152000 sectors Disk model: QEMU HARDDISK Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk /dev/sda: 20 GiB, 21474836480 bytes, 41943040 sectors Disk model: QEMU HARDDISK Units: sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disklabel type: gpt Disk identifier: 0DA7595A-DE2A-1042-8C4F-3C883C4D7BA6 Device Start End Sectors Size Type /dev/sda1 262144 41943006 41680863 19.9G Linux filesystem /dev/sda14 2048 8191 6144 3M BIOS boot /dev/sda15 8192 262143 253952 124M EFI System Partition table entries are not in disk order. å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª/dev/sdb: 1000 GiBçš„ç£ç›˜ã€‚\nfdiskå‘½ä»¤ å…ˆæ¥ä»‹ç»ä¸€ä¸‹fdiskå‘½ä»¤ï¼Œè¾“å…¥/dev/sdbå¼€å§‹è¿›è¡Œåˆ†åŒºï¼Œé»˜è®¤æ˜¯åˆ›å»ºMBRåˆ†åŒºï¼Œä¸‹è¾¹æ¯ä¸ªCommand (m for help)éƒ½æ˜¯éœ€è¦è¿›è¡Œè¾“å…¥çš„åœ°æ–¹ã€‚é¦–å…ˆæ˜¯è¾“å…¥o,åˆ›å»ºä¸€ä¸ªMBRåˆ†åŒºï¼Œç„¶åæ˜¯è¾“å…¥næ¥åˆ›å»ºåˆ†åŒºï¼Œpartition typeé€‰æ‹©ä¸»åˆ†åŒºpï¼Œåˆ†åŒºå·ç æˆ‘è¿™é‡Œåªéœ€è¦ä¸€ä¸ªåˆ†åŒºï¼Œæ‰€ä»¥è¾“å…¥1ï¼Œç„¶åå°±æ˜¯first sectorå’Œlast sectoré»˜è®¤ç›´æ¥å›è½¦å°±æ˜¯æ•´ä¸ªç›˜ã€‚æœ€åè¾“å…¥wæ¥å†™å…¥ä¿®æ”¹ï¼Œå°±å®Œæˆäº†åˆ†åŒºã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 root@host:~# fdisk /dev/sdb Welcome to fdisk (util-linux 2.38.1). Changes will remain in memory only, until you decide to write them. Be careful before using the write command. Device does not contain a recognized partition table. Created a new DOS (MBR) disklabel with disk identifier 0x17afed0e. Command (m for help): o Created a new DOS (MBR) disklabel with disk identifier 0xa7272020. Command (m for help): n Partition type p primary (0 primary, 0 extended, 4 free) e extended (container for logical partitions) Select (default p): p Partition number (1-4, default 1): 1 First sector (2048-2097151999, default 2048): Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-2097151999, default 2097151999): Created a new partition 1 of type \u0026#39;Linux\u0026#39; and of size 1000 GiB. Command (m for help): w The partition table has been altered. Calling ioctl() to re-read partition table. Syncing disks. ç„¶åå°±æ˜¯å¯¹æ–°å»ºçš„åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–å’ŒæŒ‚è½½äº†ã€‚å’Œ3Tç›˜æ“ä½œä¸€æ ·ã€‚\npartedå‘½ä»¤ partedä¸ä»…å¯ä»¥å¤„ç†å¤§äº2Tçš„ï¼Œå°äº2Tçš„ä¹Ÿæ˜¯å¯ä»¥å¤„ç†çš„ï¼Œä¸‹è¾¹å°±æ¥çœ‹çœ‹å…·ä½“æ€ä¹ˆå¤„ç†ã€‚\n1 2 3 4 5 6 7 8 root@host:~# parted /dev/sdb GNU Parted 3.5 Using /dev/sdb Welcome to GNU Parted! Type \u0026#39;help\u0026#39; to view a list of commands. (parted) mklabel msdos (parted) mkpart primary ext4 0% 100% (parted) quit Information: You may need to update /etc/fstab. å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯mklableå‘½ä»¤ï¼ŒåŸæ¥æ˜¯gptï¼ˆGPTåˆ†åŒºï¼‰ï¼Œç°åœ¨æ”¹æˆmsdosï¼ˆMBRåˆ†åŒºï¼‰ï¼Œå…¶ä»–å‘½ä»¤éƒ½ä¸€æ ·ã€‚åˆ†åŒºå®Œæˆåè¿›è¡Œæ ¼å¼åŒ–ï¼ŒæŒ‚è½½ç­‰ä¸€ç³»åˆ—æ“ä½œã€‚\nä»¥ä¸Šå°±æ˜¯é’ˆå¯¹å°äº2Tä»¥åŠå¤§äº2Tçš„ç›˜çš„æŒ‚è½½æ•™ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2024-12-04T15:04:19Z","image":"https://images.iminling.com/app/hide.php?key=STRHaU84cVVtSm1LSEZrWHVLdDhqbzZPUURSR0EzWDB5a3RJL2RIdWgwZUVHWTFNQjV6WEtndkhQQUcxb3VlQjNGNzg5eWc9","permalink":"https://konghanghang.github.io/iminling-pages/2024/linux-mount-new-disk/","title":"Linuxç®¡ç†ç£ç›˜åˆ†åŒº-æŒ‚è½½æ–°çš„ç£ç›˜åˆ°ç³»ç»Ÿ"},{"content":"ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†å¯¹alistçš„å®‰è£…ï¼Œæœ¬ç¯‡æ–‡ç« åˆ™æ¥ä»‹ç»ä¸€ä¸‹rcloneæŠŠalisté‡ŒæŒ‚è½½çš„ç½‘ç›˜å†å¥—å¨ƒæŒ‚è½½åˆ°æœ¬åœ°ç£ç›˜ï¼Œä¸ºåç»­embyç›´æ¥è¯»å–æœ¬åœ°çš„æŒ‚è½½æ–‡ä»¶åšå‡†å¤‡ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥å°±å¼€å§‹æŠ˜è…¾rclone.\né…ç½®æ–‡ä»¶ æœ¬æ–‡ä½¿ç”¨docker composeæ¥è¿›è¡Œå®‰è£…ï¼Œå¯ä»¥docker-hubæ‰¾åˆ°rcloneçš„å®˜æ–¹é•œåƒåœ°å€ï¼Œå®‰è£…å¯ä»¥å‚è€ƒrcloneçš„å®˜æ–¹å®‰è£…æ•™ç¨‹ã€‚\nå…ˆè¦æŠŠrcloneçš„é…ç½®æ–‡ä»¶ç»™é…ç½®å¥½ï¼Œæˆ‘è¿™é‡Œåªé…ç½®alistï¼Œæ‰€ä»¥ç›´æ¥ç»™å‡ºé…ç½®æ–‡ä»¶å†…å®¹æ–¹ä¾¿å¤§å®¶å¿«é€Ÿä½¿ç”¨:\n1 2 3 4 5 6 [alist] type = webdav url = http://alist:5244/dav vendor = other user = admin pass = x9WN7skj6o7_fqjd4F å¦‚ä¸Šé…ç½®ï¼Œ\n[]ä¸­çš„åç§°è‡ªå·±å®šä¹‰ä¸€ä¸ªï¼Œ\ntypeå›ºå®šä¸ºwebdavï¼Œ\nurlä¸ºalistçš„webdavçš„urlï¼Œurlåœ°å€åœ¨alistçš„æ–‡æ¡£ä¸­ä¹Ÿæœ‰è¯´æ˜ï¼Œå°±æ˜¯è‡ªå·±alistçš„ip+ç«¯å£ç„¶åæ‹¼ä¸Š/davå°±å¯ä»¥äº†ã€‚\nvendorå€¼ä¸ºother\nuserä¸ºè‡ªå·±çš„alistçš„ç”¨æˆ·å\npassä¸ºè‡ªå·±çš„alistçš„ç”¨æˆ·åå¯†ç ï¼Œä½†æ˜¯å¯†ç éœ€è¦è¿›è¡ŒåŠ å¯†æ‰è¡Œï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸‹è¾¹çš„å‘½ä»¤æ¥ç”Ÿæˆè‡ªå·±å¯†ç çš„å¯†æ–‡ï¼Œ\nç”ŸæˆåŠ å¯†å¯†ç ï¼š\n1 2 3 docker run --rm -it \\ rclone/rclone \\ obscure [æ›¿æ¢ä¸ºå…·ä½“çš„å¯†ç ] æ‰§è¡Œå‘½ä»¤åå°±ä¼šç”Ÿæˆä¸€ä¸ªä½ å¯†ç çš„å¯†æ–‡ï¼Œç„¶åæ›¿æ¢åœ¨é…ç½®æ–‡ä»¶ä¸­å°±å¯ä»¥äº†ã€‚\nç»è¿‡ä¸Šè¾¹å¤„ç†é…ç½®æ–‡ä»¶å°±å¤„ç†å¥½äº†ï¼Œå¯ä»¥å‘½åä¸ºrclone.confï¼Œrcloneçš„é»˜è®¤é…ç½®æ–‡ä»¶åå°±æ˜¯è¿™ä¸ªï¼Œå¦‚æœåå­—æ”¹åŠ¨äº†ï¼Œåˆ™éœ€è¦åœ¨ä¸‹è¾¹docker-composeé…ç½®æ–‡ä»¶çš„æŒ‚è½½æ—¶ç‰¹æ®Šé…ç½®ã€‚æ–¹ä¾¿ä¸‹è¾¹docker-composeæ–‡ä»¶ä½¿ç”¨ã€‚\ndocker compose è€è§„çŸ©ï¼Œæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½ä½¿ç”¨docker composeå®‰è£…ï¼Œä¸‹è¾¹æ˜¯docker-compose.yamlçš„å®Œæ•´é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 networks: mynet: external: true services: rclone: image: rclone/rclone:latest container_name: rclone restart: always cap_add: - SYS_ADMIN devices: - /dev/fuse security_opt: - apparmor:unconfined volumes: - ./config:/config/rclone - /data/movies:/data:shared - /tmp:/tmp command: [ \u0026#34;mount alist:/ /data --cache-dir /tmp --allow-other --vfs-cache-mode writes --allow-non-empty\u0026#34; ] networks: - mynet networkç½‘ç»œé…ç½®æˆ‘è¿™é‡Œå°±ä¸è®²äº†ï¼Œæ˜¯æˆ‘è‡ªå·±åˆ›å»ºçš„ä¸€ä¸ªæ¡¥æ¥ç½‘ç»œã€‚\nè¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹volumeså’Œcommand, å…¶ä¸­cap_addï¼Œdeviceså’Œsecurity_optæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å»ç ”ç©¶ä»–çš„å«ä¹‰ï¼Œè¿™é‡Œç›´æ¥æŒ‰ç…§æˆ‘ç»™çš„é…ç½®æ–‡ä»¶å°±è¡Œäº†ã€‚\nvolumesä¸­/tmpï¼Œä¸´æ—¶æ–‡ä»¶å­˜æ”¾åœ¨ç›®å½•ï¼Œåœ¨commandä¸­æŒ‡å‡ºäº†cache-dirçš„ä½ç½®ï¼Œç„¶åæŒ‚è½½åˆ°å®¿ä½æœºçš„/tmp.\nrcloneçš„é…ç½®åœ¨å®¹å™¨çš„/config/rcloneç›®å½•ä¸‹ï¼Œæˆ‘æŒ‚è½½åˆ°æœ¬åœ°çš„configç›®å½•ï¼ŒæŠŠä¸Šè¾¹å’±ä»¬ç”Ÿæˆçš„é…ç½®æ–‡ä»¶æ”¾åœ¨é‡Œè¾¹ã€‚\n/data/movies:/dataåˆ™æ˜¯ç›®å½•çš„é…ç½®ï¼Œå…ˆæ˜¯åœ¨commandä¸­æŠŠå’±ä»¬çš„è¿œç¨‹alistä¸­çš„/ç›®å½•(alist:/)å’Œrcloneå®¹å™¨ä¸­çš„/dataç›®å½•å…³è”åœ¨ä¸€èµ·ï¼Œç„¶åå†é€šè¿‡volumesæŠŠå®¹å™¨ä¸­çš„/dataæŒ‚è½½åœ¨å®¿ä¸»æœºçš„/data/moviesä¸‹ã€‚é€šè¿‡è¿™ä¸ªç›®å½•æŒ‚è½½ï¼Œå’±ä»¬å°±å¯ä»¥åœ¨å®¿ä¸»æœºä¸‹/data/moviesä¸­æµè§ˆalistä¸­æ‰€æœ‰æŒ‚è½½çš„æ–‡ä»¶ä¿¡æ¯ï¼Œä¸ºåè¾¹embyæ·»åŠ å½±è§†åº“åšå‡†å¤‡ã€‚\nå®¹å™¨å¯åŠ¨ ä¸Šè¾¹çš„é…ç½®ä¿¡æ¯å®Œæˆåï¼Œæ–‡ä»¶æ”¾åˆ°å¯¹åº”çš„ç›®å½•ä¸‹ï¼Œæˆ‘è¿™è¾¹çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 root@docker:~/rclone# tree . â”œâ”€â”€ config â”‚ â””â”€â”€ rclone.conf â””â”€â”€ docker-compose.yaml ç„¶ååœ¨rcloneç›®å½•ä¸‹æ‰§è¡Œdocker compose up -då¯åŠ¨å®¹å™¨å°±å¯ä»¥äº†ã€‚\nå¦‚æœé…ç½®æ²¡é—®é¢˜åº”è¯¥å°±å¯ä»¥åœ¨å®¿ä¸»æœº/data/moviesç›®å½•ä¸‹çœ‹åˆ°alistä¸­çš„ç½‘ç›˜å’Œæ‰€æœ‰æ–‡ä»¶äº†ã€‚\nä»¥ä¸Šå°±æ˜¯æŠ˜è…¾rcloneå’Œalistçš„è¿‡ç¨‹ï¼ŒæŠŠalistæŒ‚è½½åˆ°æœ¬åœ°ï¼Œæƒ³æœ¬åœ°ç›®å½•æ–‡ä»¶ä¸€æ ·æ¥è¿›è¡Œæµè§ˆï¼Œæ–¹ä¾¿åç»­embyè¿›è¡Œå½±è§†åº“çš„æ·»åŠ ã€‚\n","date":"2024-10-13T02:04:10Z","image":"https://images.iminling.com/app/hide.php?key=bEt3WUtUZk13dFI3Z0FyckVUZGdnQS94cHhoaHlzMVdsNGp1c0tHVG0vVjhLRHZYbzE2Unl1VlVPdWpFUjdqMllSZE5jVGc9","permalink":"https://konghanghang.github.io/iminling-pages/2024/install-rclone-and-configuration/","title":"ç§äººå½±é™¢ä¹‹rcloneå®‰è£…ä»¥åŠé€šè¿‡WebDavé…ç½®alist"},{"content":"å‰æ®µæ—¶é—´å†™äº†ä¸€ç¯‡å¦‚ä½•æ­å»ºå°é›…alistçš„æ–‡ç« ï¼Œä½¿ç”¨å°é›…çš„åª’ä½“åº“æ¥è¿›è¡Œè§‚å½±ï¼Œä½†æ˜¯è¿™ç§æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å°é›…çš„åº“æ›´æ–°çš„ä¸æ˜¯å¾ˆå¿«ï¼Œè€Œä¸”å¦‚æœæˆ‘æƒ³åœ¨ç”µè§†ä¸Šè§‚çœ‹æ¯”è¾ƒéº»çƒ¦ï¼Œå°±ç®—æ­é…emby,ä¹Ÿæ— æ³•é¿å…èµ„æºæ›´æ–°æ…¢çš„é—®é¢˜ã€‚æ‰€ä»¥å°±æƒ³ç€ä½¿ç”¨è‡ªå·±çš„ç½‘ç›˜é…åˆè‡ªå·±æ­å»ºçš„alistæœåŠ¡ç«¯ï¼Œæ¥è¿›è¡Œèµ„æºå¿«é€Ÿå…¥åº“ï¼Œæ–¹ä¾¿è‡ªå·±å¿«é€Ÿè§‚çœ‹ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¯¦ç»†è¯´æ˜ä¸€ä¸‹è‡ªå·±çš„æ­å»ºè¿‡ç¨‹ã€‚\nalistæœåŠ¡ç«¯ æˆ‘è¿™é‡Œä½¿ç”¨docker composeæ¥æ­å»ºalist server,alistæä¾›äº†ä¸¤ä¸ªç‰ˆæœ¬çš„é•œåƒï¼Œä¸€ä¸ªæ˜¯æ™®é€šçš„ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯å¸¦aria2ä¸‹è½½çš„ç‰ˆæœ¬ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå®‰è£…ï¼Œå®‰è£…æ–‡æ¡£å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\næˆ‘çš„docker-compose.yamlå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 networks: mynet: external: true services: alist: image: xhofe/alist-aria2:latest container_name: alist restart: unless-stopped volumes: - ./data:/opt/alist/data networks: - mynet ports: - 15244:5244 extra_hosts: - host.docker.internal:host-gateway environment: - PUID=0 - PGID=0 - UMASK=022 - TZ=Asia/Shanghai æˆ‘çš„ç›®å½•åˆ†é…å¦‚ä¸‹ï¼š\n1 2 3 . â”œâ”€â”€ data â””â”€â”€ docker-compose.yaml æ•´ä½“é…ç½®æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæˆ‘ä½¿ç”¨äº†è‡ªå·±çš„ç½‘ç»œmynetï¼Œè€Œä¸æ˜¯è®©dockerè‡ªå»ºä¸€ä¸ªç½‘ç»œï¼Œæ–¹ä¾¿åç»­å®¹å™¨ä¹‹é—´çš„é¡¹ç›®è®¿é—®ã€‚\næŒ‰ç…§ä¸Šè¾¹é…ç½®å¥½åç›´æ¥docker compose up -dè¿è¡Œèµ·æ¥å®¹å™¨ã€‚ä¹‹åé€šè¿‡è®¿é—®ip:15244(æˆ‘è¿™é‡Œæ˜ å°„åˆ°ä¸»æœºçš„15244ç«¯å£äº†)ï¼Œé»˜è®¤adminç”¨æˆ·å’Œå¯†ç ï¼Œè¿›è¡Œç™»å½•å¹¶ä¿®æ”¹å¯†ç ã€‚å®¹å™¨å¯åŠ¨æˆåŠŸï¼Œalistçš„æœåŠ¡ç«¯æ­å»ºå°±ç®—å®Œæˆäº†ã€‚\nç½‘ç›˜æ·»åŠ  æˆ‘è¿™é‡Œä¸»è¦æ·»åŠ ä¸‰ç§ç±»å‹ï¼Œå¤©ç¿¼äº‘ç›˜ï¼Œ115ç½‘ç›˜ï¼Œæœ¬åœ°smbï¼Œä¸‹è¾¹å°±çœ‹ä¸€ä¸‹æ¯ç§ç½‘ç›˜æ˜¯éœ€è¦æ€ä¹ˆæ¥æ·»åŠ ã€‚\nå¤©ç¿¼äº‘ç›˜ æˆ‘å®¶é‡Œä½¿ç”¨çš„æ˜¯ç”µä¿¡çš„å®½å¸¦ï¼Œé€äº†å¤©ç¿¼ç½‘ç›˜çš„ä¼šå‘˜ï¼Œä¸ªäººå’Œå®¶åº­åˆ†åˆ«æ˜¯4TBï¼Œæ•´ä½“ä¹Ÿä¸ç®—å°‘ã€‚\nè¿›å…¥åˆ°alistçš„ç®¡ç†ç•Œé¢\nç‚¹å‡»å­˜å‚¨-æ·»åŠ ,ç„¶åé€‰æ‹©å¤©ç¿¼äº‘ç›˜å®¢æˆ·ç«¯(å®˜æ–¹å»ºè®®çš„ç±»å‹)ã€‚ç„¶åå°±å¯ä»¥çœ‹åˆ°å¾ˆå¤šé€‰é¡¹éœ€è¦å¡«å†™ï¼Œå…·ä½“çš„å¡«å†™æ“ä½œæ­¥éª¤å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\næŒ‚è½½è·¯å¾„æ˜¯æœ€ç»ˆæ˜¾ç¤ºåœ¨alistä¸»é¡µçš„åç§°ï¼Œéœ€è¦å”¯ä¸€ã€‚\nç¼“å­˜è¿‡æœŸæ—¶é—´æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å®šä¹‰ï¼Œæ¯”å¦‚æˆ‘æ·»åŠ äº†ä¸€ä¸ªæ–‡ä»¶æƒ³è¦å¿«ä¸€ç‚¹èƒ½åˆ·æ–°å‡ºæ¥ï¼Œé‚£ä¹ˆæˆ‘å°±å®šä¹‰çŸ­ä¸€ç‚¹(æ¯”å¦‚1åˆ†é’Ÿ)ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±éœ€æ±‚æ¥å®šã€‚\nWebDAVç­–ç•¥å»ºè®®éƒ½ä½¿ç”¨302é‡å®šå‘ï¼Œè¿™æ ·å­åœ¨é€šè¿‡WebDAVè®¿é—®alistæœåŠ¡ç«¯çš„å†…å®¹çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¼šé‡å®šå‘åˆ°ç½‘ç›˜å†…çœŸå®çš„è·¯å¾„ï¼Œç­‰äºç›´æ¥è®¿é—®ç½‘ç›˜ã€‚\nå¯ç”¨ç­¾åé€‰é¡¹å¦‚æœåç»­æ˜¯éœ€è¦é…åˆembyå®ç°302æ’­æ”¾ï¼Œä¸€å®šè¦æ‰“å¼€ï¼Œä¸€å®šè¦æ‰“å¼€ï¼Œä¸€å®šè¦æ‰“å¼€ã€‚\nç”¨æˆ·åå°±æ˜¯å¤©ç¿¼äº‘ç›˜ç™»å½•çš„æ‰‹æœºå·ã€‚\nå¯†ç æ˜¯å¤©ç¿¼äº‘ç›˜ç™»å½•çš„å¯†ç ã€‚\næ ¹æ–‡ä»¶çš„idæ ¹æ®è‡ªå·±éœ€æ±‚ï¼Œå¦‚æœåªæ˜¯æƒ³æŠŠç½‘ç›˜å†…çš„æŸä¸€ä¸ªç›®å½•æ·»åŠ åˆ°alistä¸­ï¼Œé‚£å°±æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é‡Œçš„æ–¹æ³•æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹idã€‚\nç±»å‹æœ‰å®¶åº­äº‘å’Œä¸ªäººäº‘ï¼Œfamily idåœ¨æ˜¯é€‰æ‹©å®¶åº­äº‘çš„æ—¶å€™éœ€è¦å¡«å†™ï¼Œå®˜ç½‘é‡Œéƒ½æœ‰ä»‹ç»ã€‚æˆ‘è¿™é‡Œå°±æ˜¯å®¶åº­äº‘ã€‚\nåŸºæœ¬ä¸Šè¿°æå®šå°±å¯ä»¥æ·»åŠ æˆåŠŸäº†ã€‚\n115ç½‘ç›˜ åŸºæœ¬å’Œå¤©ç¿¼äº‘ç›˜æ·»åŠ æµç¨‹å·®ä¸å¤šï¼Œé©±åŠ¨ç±»å‹é€‰æ‹©115ç½‘ç›˜,æŒ‚è½½è·¯å¾„ã€ç¼“å­˜è¿‡æœŸæ—¶é—´ã€WebDAVç­–ç•¥ã€å¯ç”¨ç­¾åå››ä¸ªé€‰é¡¹å’Œå¤©ç¿¼äº‘ç›˜æ„å‘é€»è¾‘ï¼Œè¿›è¡Œå¤„ç†å°±è¡Œäº†ã€‚æœ‰ä¸æ˜ç™½çš„å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\ncookieå’ŒQrcodeäºŒé€‰ä¸€ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰è¯¦ç»†çš„ä»‹ç»ï¼ŒåŒ…æ‹¬æ ¹æ–‡ä»¶å¤¹IDï¼Œéƒ½æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œå‚è€ƒæ–‡æ¡£å°±å¯ä»¥äº†ã€‚æ„Ÿè§‰Qrcodeä¼šç®€å•ä¸€ç‚¹ã€‚æˆ‘æ˜¯ç›´æ¥ä½¿ç”¨çš„æŠ“åŒ…è½¯ä»¶æŠ“çš„åº”ç”¨çš„cookieã€‚è¿™é‡Œæœ‰ä¸€ä¸ªäº‹é¡¹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¦‚æœä½¿ç”¨äº†æ‰‹æœºç«¯è½¯ä»¶ï¼Œåç»­åœ¨ç½‘é¡µç™»å½•çš„æ—¶å€™æœ€å¥½é€‰æ‹©ç”¨æ‰‹æœºæ‰«ç ç™»å½•ï¼Œè¦ä¸ç„¶å¯èƒ½ä¼šæŠŠæ‰‹æœºåº”ç”¨ç«¯æŒ¤æ‰å¯¼è‡´cookieå¤±æ•ˆã€‚\nSMBæ·»åŠ  æœ‰äº›æ–‡ä»¶æ²¡æœ‰æ”¾åœ¨ç½‘ç›˜ï¼Œè€Œæ˜¯æ”¾åœ¨è‡ªå·±æœ¬åœ°æˆ–è€…æ”¾åœ¨æœ¬åœ°nasä¸­ï¼Œæ¯”å¦‚æˆ‘ä¸Šç¯‡æ–‡æ¡£ä¹Ÿä»‹ç»äº†Proxmox VE(PVE)8.0å®‰è£…é»‘ç¾¤æ™–NASå¹¶ç›´é€šç¡¬ç›˜ï¼Œè¿™æ ·å­æƒ³è¦åœ¨alistä¸­æŠŠnasä¸­çš„èµ„æºæ·»åŠ è¿›å»ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ°SMBä¸€äº›äº†ï¼Œnasä¸­æ˜¯æœ‰å¼€å¯è¿™ä¸ªåŠŸèƒ½çš„ã€‚\næ·»åŠ é©±åŠ¨ç±»å‹é€‰æ‹©SMB\nsmbæ˜¯æœ¬åœ°æ–‡ä»¶ï¼Œå¯ç”¨ç­¾åå°±å¯ä»¥ä¸ç”¨å¼€äº†ã€‚åœ°å€ã€ç”¨æˆ·åã€å¯†ç å’Œåˆ†äº«åç§°(smbä¸­çš„ç›®å½•)æ ¹æ®è‡ªå·±çš„éœ€æ±‚å¡«å†™å°±å¯ä»¥äº†ã€‚\næ€»ç»“ æˆ‘è¿™é‡Œä»‹ç»äº†ä¸‰ç§ç½‘ç›˜çš„æ·»åŠ æ–¹å¼ï¼Œå…¶ä»–çš„ç½‘ç›˜ä¹Ÿéƒ½å¤§åŒå°å¼‚ï¼Œæ¯”å¦‚æ·»åŠ é˜¿é‡Œäº‘ç›˜ç­‰ã€‚é‚£ä¹ˆæ­å»ºalistæœåŠ¡ç«¯å¹¶æ·»åŠ ç½‘ç›˜ï¼Œå°±ä»‹ç»åˆ°è¿™é‡Œã€‚å¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\næ¥ä¸‹æ¥è¿˜ä¼šä»‹ç»åˆ©ç”¨rcloneæŒ‚è½½alistï¼Œç„¶åè®©embyæ¥ä½¿ç”¨å¹¶å®ç°302æ’­æ”¾ã€‚\n","date":"2024-09-21T09:56:03Z","image":"https://images.iminling.com/app/hide.php?key=ZVpuQ3crbnpMRHc2N2lQQktsMm93TkVobGtsOXZrV2ZsUUYyajMxd1FuSlFXSW5iK0wxRUxPcEYvcEhDU0NkSnJJQzdnT289","permalink":"https://konghanghang.github.io/iminling-pages/2024/build-alist-server/","title":"ç§äººå½±é™¢ä¹‹æ­å»ºè‡ªå·±çš„alistæœåŠ¡ç«¯å¹¶æ·»åŠ å¸¸è§ç½‘ç›˜"},{"content":"ç”³è¯·aeä¿¡ç”¨å¡æœ‰æ®µæ—¶é—´äº†ï¼Œä¸­é—´ä¹Ÿæƒ³è¿‡è¦å»ç”³è¯·aeçš„checkingè´¦æˆ·ï¼Œç½‘ä¸Šæœåˆ°åŸæ¥æ˜¯æœ‰å¼€æˆ·å¥–åŠ±çš„ï¼Œä½†æ˜¯æˆ‘æƒ³ç”³è¯·çš„æ—¶å€™æ˜¯æ²¡æœ‰å¼€æˆ·å¥–åŠ±çš„ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ‹–ç€ã€‚æœ€è¿‘æ”¶åˆ°äº†ae checkingè´¦æˆ·çš„å¼€æˆ·å¥–åŠ±é‚€è¯·ï¼Œæ˜¯å‘é‚®ä»¶è¿‡æ¥é‚€è¯·è¯´å¼€æˆ·å3ä¸ªæœˆå†…å­˜1000åˆ€æˆ–æ›´å¤šï¼Œå°±å¯ä»¥æ‹¿åˆ°200åˆ€å¥–åŠ±ï¼Œäºæ˜¯å°±å¼€å¯äº†ç”³è¯·ä¹‹è·¯ã€‚\næ”¶åˆ°çš„é‚®ä»¶ä¿¡æ¯å¦‚ä¸‹ï¼š\nè¿˜æ²¡æœ‰ç”³è¯·aeä¿¡ç”¨å¡çš„åŒå­¦å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ä¸ªæ–‡ç« ï¼šä½¿ç”¨ITINç”³è¯·American Express(ç¾å›½è¿é€š)ä¿¡ç”¨å¡è¿›è¡Œç”³è¯·ã€‚\nç”³è¯· æŒ‰ä¸Šè¾¹é‚®ä»¶é‡Œçš„æç¤ºï¼Œç›´æ¥ç‚¹å‡»Explore Nowè¿›è¡Œè·³è½¬æµè§ˆå™¨è¿›è¡Œç”³è¯·ï¼Œç‚¹å‡»åè·³è½¬åˆ°ä»‹ç»é¡µï¼š\nå¯ä»¥çœ‹åˆ°Apply Nowä¸‹è¾¹æœ‰ä¸€è¡Œå°å­—ä»‹ç»:ç°åœ¨æ¥å—è‡³å°‘35å¤©çš„ä¼šå‘˜ç”³è¯·ã€‚ç›´æ¥ç‚¹å‡»ç”³è¯·è·³è½¬ä¸‹ä¸€æ­¥ï¼š\nå¦‚ä¸Šï¼Œå…¶ä¸­é‚®ç®±ï¼Œæ‰‹æœºå·å’Œå®¶åº­ä½å€æ˜¯å·²ç»é»˜è®¤å¡«å…¥ä¸”ä¸å¯æ›´æ”¹ï¼Œæˆ‘ä»¬åªéœ€è¦é€‰æ‹©èŒä¸šå’Œå¡«å†™SSNæˆ–è€…ITINå°±å¯ä»¥äº†ï¼Œä¸‹è¾¹è¿˜æœ‰ä¸€ä¸ªW-9ç¨æ”¶é¢„æ‰£çŠ¶æ€è¯æ˜ï¼Œé—®ç¾å›½å›½ç¨å±€æ˜¯å¦å·²é€šçŸ¥æ‚¨éœ€è¦ç¼´çº³å¤‡ç”¨é¢„æ‰£ç¨,é€‰æ‹©NOï¼Œé€‰åˆ™NOåä¼šæœ‰ä¸‹è¾¹çš„ä¸€äº›é€‰é¡¹è®©ç¡®è®¤ï¼Œå¤§æ¦‚å†…å®¹å¦‚ä¸‹ï¼š\nIRS ç¨æ”¶é¢„æ‰£è¯æ˜ é€šè¿‡é€‰æ‹©æ­¤é€‰é¡¹ï¼Œæˆ‘æ ¹æ®ä¼ªè¯å¤„ç½šè§„å®šè¯æ˜ï¼š\néšæ­¤ç”³è¯·æäº¤çš„çº³ç¨äººè¯†åˆ«å· (TIN) æ˜¯æˆ‘çš„æ­£ç¡® TINï¼Œå¹¶ä¸” æˆ‘æ— éœ€ç¼´çº³å¤‡ç”¨é¢„æ‰£ç¨ï¼Œå› ä¸ºï¼š(a) æˆ‘å…äºç¼´çº³å¤‡ç”¨é¢„æ‰£ç¨ï¼Œæˆ– (b) æˆ‘å°šæœªæ”¶åˆ°ç¾å›½å›½ç¨å±€ (IRS) çš„é€šçŸ¥ï¼Œå‘ŠçŸ¥æˆ‘ç”±äºæœªæŠ¥å‘Šæ‰€æœ‰åˆ©æ¯æˆ–è‚¡æ¯è€Œéœ€è¦ç¼´çº³å¤‡ç”¨é¢„æ‰£ç¨ï¼Œæˆ– (c) IRS å·²é€šçŸ¥æˆ‘ï¼Œæˆ‘ä¸å†éœ€è¦ç¼´çº³å¤‡ç”¨é¢„æ‰£ç¨ï¼Œå¹¶ä¸” æˆ‘æ˜¯ç¾å›½å…¬æ°‘æˆ–å…¶ä»–ç¾å›½äººï¼Œå¹¶ä¸” æ­¤è¡¨æ ¼ä¸­è¾“å…¥çš„è¡¨æ˜æˆ‘å…äºç¼´çº³ FATCAï¼ˆæµ·å¤–è´¦æˆ·ç¨æ”¶åˆè§„æ³•æ¡ˆï¼‰ä»£ç ï¼ˆå¦‚æœæœ‰ï¼‰æ˜¯æ­£ç¡®çš„ã€‚ ç»§ç»­å¾€ä¸‹å¡«å†™ï¼ŒElectronic Deliveryç”µå­äº¤ä»˜ï¼ŒåŒæ„ï¼Œåç»­é“¶è¡Œä¼šä½¿ç”¨ç”µå­æ–¹å¼(é‚®ä»¶)æ¥é€šçŸ¥ä¸€äº›è´¦æˆ·ç­‰ä¿¡æ¯ã€‚\nç”³è¯·è¿‡ç¨‹è¦å¡«å†™çš„å†…å®¹ä¸æ˜¯å¾ˆå¤šï¼Œç»è¿‡ä¸Šè¾¹çš„å¡«å†™ï¼Œéœ€è¦æˆ‘ä»¬å¤„ç†çš„å†…å®¹å·²ç»ç»“æŸäº†ã€‚æ¥ä¸‹æ¥å°±æ˜¯Agree \u0026amp; Submit.\nç”³è¯·ç»“æœ å½“æˆ‘ä»¬æäº¤åï¼ŒåŸºæœ¬ä¸Šä¼šç«‹é©¬å¾—åˆ°ç»“æœï¼Œ\næ­¤æ—¶é‚®ä»¶ä¹Ÿä¼šæ”¶åˆ°ä¸€å°é€šè¿‡çš„é‚®ä»¶ï¼š\nå¯ä»¥çœ‹åˆ°5-7ä¸ªå·¥ä½œæ—¥ä¼šæ”¶åˆ°debit card,å¹¶ä¸”å¦‚æœ60ä¸ªæ—¥å†æ—¥æ²¡æœ‰å¾€é‡Œè¾¹å­˜æ¬¾ï¼Œè¿™ä¸ªè´¦æˆ·å°±ä¼šè¢«å…³é—­ã€‚è‡³æ­¤ç”³è¯·åŸºæœ¬å°±å®Œæˆäº†ã€‚æ¥ä¸‹æ¥å°±æ˜¯ç­‰å¾…æˆ¿ä¸œé€šçŸ¥æ”¶åˆ°é‚®ä»¶äº†ã€‚\næ”¶åˆ°é‚®ä»¶ è¯´çš„æ˜¯5-7ä¸ªå·¥ä½œæ—¥ï¼Œå®é™…ä¸Šé€Ÿåº¦å¾ˆå¿«ï¼Œç¬¬äºŒå¤©å°±å‘é‚®ä»¶é€šçŸ¥è¯´å·²ç»å‘å‡ºã€‚\nåˆç­‰å¾…äº†ä¸€å¤©æˆ¿ä¸œé€šçŸ¥æ”¶åˆ°äº†é‚®ä»¶,ç„¶åå°±æ˜¯è®©æˆ¿ä¸œè¿›è¡Œè½¬å¯„ï¼Œç›®å‰å·²ç»è½¬å¯„å‡ºäº†ï¼ŒæŒ‰DHLçš„é€Ÿåº¦ï¼Œåº”è¯¥å¾ˆå¿«å°±å¯ä»¥æ”¶åˆ°é‚®ä»¶äº†ã€‚ç­‰åˆ°æ”¶åˆ°é‚®ä»¶åå†çœ‹åç»­å¦‚ä½•è¿›è¡Œå­˜æ¬¾æ“ä½œã€‚\n","date":"2024-09-21T08:02:37Z","image":"https://images.iminling.com/app/hide.php?key=SkV2Smk4MEFjeVZ4K1NKZTlPS24vZG1XbVZ3eXUxYm1HVEVZdnIrbGI0TjJZVWhsNnN6VEFtZWtvTHBwYmtoOXUxMzZlRlU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/apply-american-express-checking/","title":"American express checkingè´¦æˆ·ç”³è¯·"},{"content":"å‰æ®µæ—¶é—´é€šè¿‡pveå®‰è£…ikuai,openwrtä»¥åŠä½¿ç”¨lxcå®‰è£…äº†docker,ä¹‹åå°±ä¸€ç›´ç¨³å®šä½¿ç”¨ï¼ŒJ4125ä¸Šæœ‰ä¸€ä¸ª2Tçš„ç¡¬ç›˜ï¼Œäºæ˜¯å°±æƒ³ç€æŠ˜è…¾ä¸€ä¸‹åœ¨ä¸Šè¾¹å®‰è£…ä¸€ä¸‹é»‘ç¾¤æ™–ï¼Œä½“éªŒä¸€ä¸‹nasç³»ç»Ÿã€‚äºæ˜¯å°±åˆå¼€å§‹äº†æŠ˜è…¾ä¹‹è·¯ï¼Œåˆå­¦ä¹ äº†å¾ˆå¤šçŸ¥è¯†ã€‚ä¸‹è¾¹å°±è®°å½•ä¸€ä¸‹æˆ‘æŠ˜è…¾çš„è¿‡ç¨‹ã€‚\nå‡†å¤‡ å…¶å®åœ¨å¼€å§‹è£…nasä¹‹å‰æˆ‘çœ‹äº†å¾ˆå¤šæ•™ç¨‹ï¼Œé‡Œè¾¹åªæ˜¯æä¾›å®‰è£…è¿‡ç¨‹ï¼Œå¹¶æä¾›å¯¹åº”çš„å®‰è£…åŒ…ã€‚è¯´å®åœ¨çš„ï¼Œè™½ç„¶å¾ˆè´´å¿ƒï¼Œä½†æ˜¯æ¯ä¸ªäººçš„ä¸»æœºä¸å°½ç›¸åŒï¼Œé€‚åˆä»–çš„nasåŒ…ä¸ä¸€å®šé€‚åˆæˆ‘ï¼Œé‚£ä¹ˆè‡ªå·±åº”è¯¥é€‰æ‹©ä»€ä¹ˆnasåŒ…å‘¢ï¼Ÿä»–ä»¬åŸºæœ¬éƒ½æ²¡æœ‰è¯´æ˜ï¼Œä½†æ˜¯åŸºæœ¬éƒ½æ˜¯å®‰è£…DS918+ã€‚äºæ˜¯åœ¨bç«™æ‰¾åˆ°äº†ä¸€ä¸ªç‰ˆæœ¬é€‰æ‹©æ•™ç¨‹ï¼Œè…¾è®¯æ–‡æ¡£åœ°å€ï¼šRRå‹å·åˆ—è¡¨ã€‚ç„¶ååˆçœ‹äº†rrå®‰è£…ï¼Œä½¿ç”¨rrå®‰è£…å¾ˆæ–¹ä¾¿ï¼šRRåœ°å€ã€‚\nç›´æ¥ä¸‹è½½ä¸€ä¸ªæœ€æ–°RRçš„é•œåƒå°±å¯ä»¥äº†ã€‚è‡³äºnasçš„ç‰ˆæœ¬ï¼Œä¸¤ä¸ªé€‰æ‹©ï¼ŒDS918+å’ŒSA6400ï¼Œä¸¤ä¸ªç‰ˆæœ¬éƒ½æ˜¯è§†é¢‘ä¸­æ¨èçš„ç‰ˆæœ¬ï¼Œå¦‚æœcpuæ˜¯10ä»£ä»¥åé€‰æ‹©SA6400ï¼Œå¦‚æœ10ä»£ä»¥å‰åˆ™ä¸¤ä¸ªéƒ½å¯ä»¥ã€‚\nå®‰è£… æ–°å»ºè™šæ‹Ÿæœº ä¸‹è½½å¥½é•œåƒåå°±éœ€è¦åœ¨pveä¸­è¿›è¡Œæ–°å»ºè™šæ‹Ÿæœºäº†ã€‚æ­¥éª¤å’Œopenwrtå·®ä¸å¤šã€‚\nå¸¸è§„é€‰é¡¹ï¼šåªéœ€è¦å¡«å†™ä¸€ä¸ªåç§°å°±å¯ä»¥äº†ã€‚\næ“ä½œç³»ç»Ÿï¼šé€‰æ‹©ä¸ä½¿ç”¨ä»»ä½•ä»‹è´¨ã€‚\nç³»ç»Ÿï¼šåªéœ€è¦å°†æœºå‹è®¾ç½®ä¸ºq35ï¼Œå…¶ä»–é»˜è®¤ã€‚\nç£ç›˜ï¼šç›´æ¥æŠŠç£ç›˜åˆ é™¤ã€‚\nCPUï¼šæ ¸å¿ƒæ•°æ ¹æ®è‡ªå·±çš„cpuè®¾ç½®ï¼Œæˆ‘è¿™é‡Œç»™4.å¦å¤–ç±»åˆ«ä¸‹æ‹‰åˆ°æœ€åï¼Œé€‰æ‹©hostæ¨¡å¼ã€‚\nå†…å­˜ï¼šå†…å­˜ç»™2-4GBéƒ½å¯ä»¥ï¼Œæˆ‘è¿™é‡Œç»™4G.\nç½‘ç»œï¼šé»˜è®¤ã€‚æ¨¡å‹ä¸º:VirtIo(åŠè™šæ‹ŸåŒ–)ã€‚\nç„¶åå°±æ˜¯ç¡®è®¤åˆšæ‰å¡«çš„ä¿¡æ¯ï¼Œç¡®è®¤å°±å¯ä»¥äº†ã€‚\nç»è¿‡ä¸Šè¾¹å·²ç»åˆ›å»ºå¥½äº†ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œä¸‹è¾¹è¿˜éœ€è¦ä¸Šä¼ åˆšæ‰ä¸‹è½½çš„rré•œåƒã€‚\né•œåƒä¸Šä¼  å¦‚å›¾çš„ä½ç½®è¿›è¡Œä¸Šä¼ ã€‚\næ¥ä¸‹æ¥åœ¨shellä¸­ä½¿ç”¨å‘½ä»¤å°†é»‘ç¾¤æ™–çš„å¼•å¯¼æ–‡ä»¶rrå¯¼å…¥åˆ°åˆ›å»ºå¥½çš„DSMè™šæ‹Ÿæœºï¼Œè¿›å…¥åˆ°pveç³»ç»Ÿçš„shellä¸­æ‰§è¡Œã€‚\nå‘½ä»¤å¦‚ä¸‹ï¼šqm importdisk ç¼–å· /var/lib/vz/template/iso/rr.img local-lvmÂ , å…¶ä¸­ç¼–å·ä¸ºåˆšåˆ›å»ºçš„è™šæ‹Ÿæœºç¼–å·ï¼Œrr.imgçš„é•œåƒä¸Šä¼ è·¯å¾„åŸºæœ¬ä¸ä¼šæœ‰ä¸åŒï¼ŒåŸºæœ¬éƒ½æ˜¯åœ¨/var/lib/vz/template/isoç›®å½•ä¸‹ å†åŠ ä¸Šé•œåƒåç§°ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯rr.imgã€‚\næˆ‘çš„å®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼šqm importdisk 104 /var/lib/vz/template/iso/rr.img local-lvmã€‚æ‰§è¡ŒæˆåŠŸåå¯ä»¥åœ¨nasè™šæ‹Ÿæœºçš„ç¡¬ä»¶é‡Œçœ‹åˆ°ä¸€ä¸ªæœªä½¿ç”¨çš„ç£ç›˜ï¼ŒåŒå‡»å¯æ·»åŠ ç£ç›˜ï¼š\næ€»çº¿è®¾å¤‡é€‰sataï¼Œç£ç›˜æ˜ åƒé»˜è®¤å°±æ˜¯åˆšçœ‹åˆ°çš„é‚£ä¸ªæœªä½¿ç”¨çš„ç£ç›˜ã€‚å…¶ä»–çš„é»˜è®¤å°±å¯ä»¥äº†ã€‚\nç¡¬ç›˜ç›´é€š ç»è¿‡ä¸Šè¾¹çš„è®¾ç½®åŸºæœ¬å°±å¯ä»¥äº†ï¼Œæ­¤æ—¶è¿˜éœ€è¦ç»™nasæ·»åŠ ä¸€ä¸ªç£ç›˜ã€‚åœ¨pveçš„shellä¸­é€šè¿‡å‘½ä»¤æ‰¾åˆ°æˆ‘çš„å›ºæ€ç›˜ls -l /dev/disk/by-id/ï¼š\nå¯ä»¥çœ‹åˆ°ataå¼€å¤´çš„ZHITAIå°±æ˜¯æˆ‘çš„å›ºæ€ç›˜äº†ã€‚å¤åˆ¶å®Œæ•´çš„åç§°ï¼šata-ZHITAI_SC001_XT_2000GB_ZTB502TAB2404507RXã€‚\nç„¶åé€šè¿‡å‘½ä»¤ç›´é€šç»™nasï¼Œsetåè¾¹å°±æ˜¯è™šæ‹Ÿæœºçš„ç¼–å·ï¼Œæˆ‘è¿™é‡Œæ˜¯103ï¼Œåè¾¹\u0026ndash;satax æ ¹æ®è‡ªå·±çš„å®šä¹‰ï¼Œåˆšæ·»åŠ çš„å¼•å¯¼ç›˜å äº†sata0,æ‰€ä»¥æˆ‘è¿™é‡Œå°±ä½¿ç”¨sata1 åè¾¹å°±æ˜¯å®Œæ•´çš„ç£ç›˜è·¯å¾„ /dev/disk/by-id/æ‹¼ä¸Šçš„åˆ¤æ–­å®Œæ•´åã€‚\n1 2 root@pve:~# qm set 103 --sata1 /dev/disk/by-id/ata-ZHITAI_SC001_XT_2000GB_ZTB502TAB2404507RX update VM 103: -sata1 /dev/disk/by-id/ata-ZHITAI_SC001_XT_2000GB_ZTB502TAB2404507RX æ‰§è¡Œå®Œæˆåå°±å¯ä»¥çœ‹åˆ°æ–°æ·»åŠ çš„ç£ç›˜äº†ï¼š ç„¶åä¿®æ”¹å¯åŠ¨é¡ºåºåå°±å¯ä»¥å¯åŠ¨äº†ã€‚\næŠŠsata0è®¾ç½®ä¸ºç¬¬ä¸€ä½ï¼š\nå¯åŠ¨æˆåŠŸåï¼Œåœ¨æ§åˆ¶å°ä¸­å¯ä»¥çœ‹åˆ°æç¤ºï¼Œä¼šè®©è®¿é—®ä¸€ä¸ªip:7681çš„ç½‘å€å»è¿›è¡Œåˆæ¬¡è®¾ç½®ã€‚\nå¼•å¯¼ç¼–è¯‘ è®¿é—®7681ç«¯å£çš„é‚£ä¸ªç½‘å€\nå…ˆè¿›è¡Œè¯­è¨€è®¾ç½®ï¼Œé€‰æ‹©Choose a languageï¼Œæ‰¾åˆ°zh-CN,åˆ‡æ¢è¯­è¨€ä¸ºä¸­æ–‡ã€‚\nå‹å·é€‰æ‹©ï¼šæˆ‘è¿™é‡Œé€‰æ‹©SA6400\nç‰ˆæœ¬é€‰æ‹©ï¼šæˆ‘è¿™é‡Œé€‰æ‹©DSM7.2\nå¼¹å‡ºçš„ç‰ˆæœ¬é¡µé¢ï¼Œç‚¹å‡»URLä¼šè‡ªåŠ¨ä¸‹è½½å½“å‰å¼•å¯¼çš„ç³»ç»Ÿæ–‡ä»¶ï¼ˆå»ºè®®ä½¿ç”¨æ­¤æ–¹å¼ä¸‹è½½ï¼Œé¿å…åœ¨ç¾¤æ™–å®˜ç½‘ä¸‹è½½é”™ç³»ç»Ÿï¼‰ï¼Œä¸‹è½½å¥½çš„ç³»ç»Ÿæ–‡ä»¶åç¼€ä¸ºpatï¼Œç„¶åç‚¹å‡»ç¡®è®¤ã€‚ä¸‹è¾¹åˆå§‹åŒ–ä¼šç”¨åˆ°ã€‚\nç„¶åé€‰æ‹©ç¼–è¯‘å¼•å¯¼ã€‚\nåªéœ€è¦ç­‰å¾…ã€‚\nç¼–è¯‘å¥½å¼•å¯¼åä¼šè‡ªåŠ¨è·³è½¬åˆ°ä¸»èœå•çš„å¯åŠ¨é€‰é¡¹ï¼Œç›´æ¥ç‚¹å‡»å¯åŠ¨å³å¯ã€‚\næ­£å¸¸å¼€æœºåï¼Œå¯ä»¥å†æ¬¡åœ¨æ§åˆ¶å°çœ‹åˆ°è®©è®¿é—®ip:5000çš„ç«¯å£ï¼Œæ­¤æ—¶è¯´æ˜å®‰è£…å·²ç»okäº†ã€‚\nNASåˆå§‹åŒ– æ¥ä¸‹æ¥å°±æ˜¯è®¿é—®ip:5000æ¥è¿›è¡ŒNASçš„åˆå§‹åŒ–,æˆ‘è¿™é‡Œçš„ipæ˜¯192.1681.42:5000\nå®‰è£…ã€‚\né€‰æ‹©å¼•å¯¼ç¼–è¯‘é˜¶æ®µä¸‹è½½çš„patæ–‡ä»¶ã€‚\næç¤ºä¼šåˆ é™¤ç¡¬ç›˜æ•°æ®ï¼Œç»§ç»­è¿›è¡Œç¡®è®¤ã€‚\nç­‰å¾…å®‰è£…ã€‚å®‰è£…åå°±æ˜¯é‡å¯ï¼Œæç¤ºå¤§æ¦‚éœ€è¦10åˆ†é’Ÿï¼Œå®é™…ä¸Šæˆ‘ç­‰äº†3åˆ†é’Ÿå°±å¯ä»¥äº†ã€‚\né‡å¯å®Œæˆåå°±ä¼šæç¤ºå®‰è£…ç»„ä»¶ï¼š\nå¥—ä»¶å®‰è£…å®Œæˆåè¿›å…¥å®‰è£…å¼•å¯¼ï¼š\nè¿›å…¥ç”¨æˆ·åå’Œå¯†ç è®¾ç½®ï¼š\næ¥ä¸‹æ¥çš„æ›´æ–°å°±ä¸éœ€è¦äº†è‡ªåŠ¨å®‰è£…äº†ï¼š\nè´¦å·åˆ›å»ºè·³è¿‡ï¼š\nç”¨æˆ·ä½“éªŒä¸å‹¾é€‰ï¼Œæäº¤ï¼š\nç»è¿‡ä¸Šè¾¹çš„ä¸€ç³»åˆ—è®¾ç½®ï¼Œç»ˆäºæ¥åˆ°äº†nasçš„æ¡Œé¢ä¸­ã€‚\næ¡Œé¢è®¾ç½® ç¾¤æ™–å¥—ä»¶ï¼šä¸ç”¨äº†ï¼Œè°¢è°¢ã€‚\nåŒé‡2FAä¸å¼€å¯ï¼š\nä¸‹ä¸€æ­¥è´¦æˆ·ä¿æŠ¤ä¸å¼€å¯ã€‚\nç»ˆäºéƒ½è®¾ç½®å®Œäº†ã€‚ã€‚ã€‚\nç£ç›˜è®¾ç½® ç»è¿‡ä¸Šè¾¹çš„è®¾ç½®ï¼Œç»ˆäºæç¤ºè¦è®¾ç½®ç£ç›˜äº†ã€‚\nç‚¹å‡»å¼€å§‹è¿›è¡Œè®¾ç½®ï¼š\nraidç±»åˆ«æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©ï¼Œæˆ‘è¿™é‡Œ å°±ä¸€ä¸ªç¡¬ç›˜ï¼Œç›´æ¥é€‰æ‹©basicç±»å‹ã€‚ç»§ç»­ä¸‹ä¸€æ­¥,é€‰æ‹©ç¡¬ç›˜ï¼Œæˆ‘è¿™é‡Œéœ€è¦ä¸€ä¸ªç¡¬ç›˜ï¼š ç»§ç»­ä¸‹ä¸€æ­¥ï¼Œè·³è¿‡ç¡¬ç›˜æ£€æŸ¥ï¼š\nç»§ç»­ä¸‹ä¸€æ­¥é…ç½®ç£ç›˜å®¹é‡ï¼š\nç›´æ¥æœ€å¤§åŒ–ï¼Œæ•´ä¸ªéƒ½åˆ†é…ç»™nasï¼Œç»§ç»­ä¸‹ä¸€æ­¥æ–‡ä»¶ç³»ç»Ÿï¼š\nè¿™é‡Œæˆ‘å°±é€‰æ‹©ä»–æ¨èçš„ï¼Œç»§ç»­ä¸‹ä¸€æ­¥é…ç½®åŠ å¯†ï¼š\næˆ‘è¿™é‡Œä¸åŠ å¯†ï¼Œé»˜è®¤ï¼Œç»§ç»­ä¸‹ä¸€æ­¥ï¼Œå¯¹åˆšæ‰çš„é…ç½®åœ¨è¿›è¡Œæ¦‚è§ˆï¼š\né…ç½®æ— é—®é¢˜åº”ç”¨å°±å¯ä»¥äº†ã€‚ç»ˆäºæ•´ä¸ªnaséƒ½é…ç½®åäº†ã€‚\næœ€åå†ä¸Šä¸€ä¸ªæ¡Œé¢æ˜¾ç¤ºçš„å›¾ç‰‡ï¼š\nä»¥ä¸Šå°±æ˜¯pveå®‰è£…é»‘ç¾¤æ™–çš„æŠ˜è…¾è®°å½•ã€‚\n","date":"2024-09-16T10:00:29Z","image":"https://images.iminling.com/app/hide.php?key=NFRXQWhja0FLK28xVDVKMjg3V1dLL0xOYi9sYmloRVIra2YveWJQNVNTY1NVempCcDZMUjNrKzI1NkZmL3o0WlJJTzI2TGc9","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-install-nas/","title":"Proxmox VE(PVE)8.0å®‰è£…é»‘ç¾¤æ™–NASå¹¶ç›´é€šç¡¬ç›˜"},{"content":"åœ¨å…¬å¸æœ‰ä¸¤å°ç”µè„‘ï¼Œå…¶ä¸­ä¸€å°æ­£å¸¸ä½¿ç”¨çš„å·¥ä½œç”µè„‘(A)ï¼Œå¦ä¸€å°(B)æƒ³è¦éƒ¨ç½²ä¸€äº›æœåŠ¡ï¼Œå½“åšä¸€å°æœåŠ¡å™¨æ¥ä½¿ç”¨ï¼Œäºæ˜¯å°±æ˜¯åœ¨Bæœºå™¨ä¸Šå¯ç”¨äº†WSLæœåŠ¡ï¼Œå¹¶å®‰è£…äº†Ubuntu 22ã€‚ä½†æ˜¯è¿™é‡Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘æ€»ä¸èƒ½ä¸€ç›´è¿œç¨‹æ¡Œé¢ä»Aä¸­æ¥é€šè¿‡SSHæ“ä½œBç”µè„‘ï¼Œäºæ˜¯å°±å¼€å§‹æŠ˜è…¾åœ¨Bç”µè„‘å¼€å¯Ubuntuçš„è¿œç¨‹è®¿é—®ï¼Œä¸‹è¾¹è®°å½•ä¸€ä¸‹æŠ˜è…¾è¿‡ç¨‹ã€‚\nå‡†å¤‡ Aç”µè„‘éœ€è¦æœ‰SSHè¿œç¨‹è®¿é—®å·¥å…·ï¼Œä½¿ç”¨è‡ªå¸¦çš„powershellæˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹çš„å·¥å…·éƒ½æ˜¯å¯ä»¥çš„ã€‚\nBç”µè„‘éœ€è¦å¼€å¯WSLå¹¶å®‰è£…å¥½Ubuntuå­ç¨‹åºã€‚\nå¼€å¯è¿œç¨‹è®¿é—® é¦–å…ˆéœ€è¦åœ¨Bç”µè„‘å®‰è£…ssh-serveræœåŠ¡:\n1 2 3 4 ai@DESKTOP-KKMQ55S:/etc/apt$ sudo apt install openssh-server -y Reading package lists... Done Building dependency tree... Done Reading state information... Done ç­‰å¾…å®‰è£…æˆåŠŸåå°±å¯ä»¥å¯¹sshæœåŠ¡è¿›è¡Œå¯ç”¨ï¼š\n1 2 3 4 ai@DESKTOP-KKMQ55S:~$ sudo service ssh restart * Restarting OpenBSD Secure Shell server sshd [ OK ] ai@DESKTOP-KKMQ55S:~$ service ssh status * sshd is running SSHæœåŠ¡å¯åŠ¨åè¿˜éœ€è¦è·å–å½“å‰ubuntuçš„ipæ‰èƒ½è¿›è¡Œè®¿é—®ï¼ŒWSLå®‰è£…çš„ubuntué»˜è®¤æ— æ³•ä½¿ç”¨ifconfigå‘½ä»¤ï¼Œéœ€è¦å®‰è£…net-toolsæ‰å¯ä»¥ä½¿ç”¨ï¼Œä¸‹è¾¹è¿›è¡Œå®‰è£…net-toolsä»¥åŠæŸ¥çœ‹ipåœ°å€ï¼š\n1 2 3 4 5 6 7 ai@DESKTOP-KKMQ55S:~$ sudo apt install net-tools Reading package lists... Done Setting up net-tools (1.60+git20181103.0eebece-1ubuntu5) ... Processing triggers for man-db (2.10.2-1) ... ai@DESKTOP-KKMQ55S:~$ ifconfig eth0: flags=4163\u0026lt;UP,BROADCAST,RUNNING,MULTICAST\u0026gt; mtu 1500 inet 172.17.33.211 netmask 255.255.240.0 broadcast 172.17.47.255 å¦‚ä¸Šï¼Œé€šè¿‡ifconfigå‘½ä»¤æŸ¥çœ‹åˆ°ubuntuæœºå™¨çš„ipæ˜¯172.17.33.211ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨Bæœºå™¨ä¸­è¿›è¡Œè¿œç¨‹ubuntuæœºå™¨ï¼Œçœ‹ä¸€ä¸‹æ˜¯å¦å¯ä»¥æ­£å¸¸è¿œç¨‹ï¼š\n1 2 3 4 5 6 C:\\Users\\ai001\u0026gt;ssh ai@172.17.33.211 ai@172.17.33.211\u0026#39;s password: Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 5.10.16.3-microsoft-standard-WSL2 x86_64) Last login: Fri Aug 16 16:15:43 2024 from 127.0.0.1 ai@DESKTOP-KKMQ55S:~$ å¯ä»¥çœ‹åˆ°æ‰å·²ç»æ­£å¸¸å¼€å¯äº†sshå¹¶å¯ä»¥è¿æ¥ã€‚\nå…¶ä»–æœºå™¨è®¿é—® ä¸Šè¾¹å·²ç»å¯¹WSLçš„Ubuntuå¼€å¯äº†SSHè®¿é—®ï¼Œæ¥ä¸‹æ¥è¿˜éœ€è¦é€šè¿‡å…¶ä»–çš„æœºå™¨æ¥è¿æ¥è¿™ä¸ªæœºå™¨ï¼Œè¿æ¥ç¤ºæ„å›¾å¦‚ä¸‹ï¼š\néœ€è¦ä»ç”µè„‘Aè®¿é—®ç”µè„‘Bï¼Œç„¶åç”µè„‘Bå†è®¿é—®WSLå­ç³»ç»Ÿçš„ubuntu.ä½¿ç”¨ç”µè„‘Bçš„ipæ˜¯æ— æ³•ç›´æ¥è®¿é—®åˆ°Ubuntuç³»ç»Ÿçš„ï¼Œ\nè¿™æ—¶å€™å°±éœ€è¦åœ¨ç”µè„‘Bä¸­è¿›è¡Œä»£ç†è®¾ç½®ï¼Œéœ€è¦ä»¥ç®¡ç†å‘˜è¿è¡ŒPowershellå·¥å…·ï¼Œç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œlistenportå’Œlistenaddressæ˜¯æŒ‡ç”µè„‘Bç›‘å¬çš„åœ°å€å’Œç«¯å£ï¼Œconnectportå’Œconnectaddressæ˜¯æŒ‡éœ€è¦ä»£ç†åˆ°çš„åœ°å€å’Œç«¯å£ï¼Œæˆ‘è¿™é‡Œæ˜¯ä»ç”µè„‘Bçš„22ç«¯å£åˆ°Ubuntuçš„22ç«¯å£ï¼Œæ‰€ä»¥ç«¯å£éƒ½æ˜¯22ï¼Œubuntuçš„ipè¿™é‡Œå†™æˆäº†localhostï¼Œåœ¨ä¸Šè¾¹å’±ä»¬è·å–åˆ°çš„ipæ˜¯172.17.33.211ï¼Œå†™æˆè¿™localhostå’Œ172å¼€å¤´çš„ipåº”è¯¥éƒ½æ˜¯å¯ä»¥çš„ï¼Œæˆ‘è¿™é‡Œåªæ˜¯æµ‹è¯•äº†localhost,æ˜¯å¯ä»¥æ­£å¸¸è”é€šçš„ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œæµ‹è¯•ä¸€ä¸‹ã€‚\næ·»åŠ protproxyçš„è¯­æ³•å¯ä»¥å‚è€ƒå¾®è½¯å®˜æ–¹æ–‡æ¡£ï¼šNetsh interface portproxy commands\n1 2 3 4 5 6 7 8 9 PS C:\\Users\\ai001\u0026gt; netsh interface portproxy add v4tov4 listenport=22 listenaddress=0.0.0.0 connectport=22 connectaddress=localhost PS C:\\Users\\ai001\u0026gt; netsh interface portproxy show v4tov4 ä¾¦å¬ ipv4: è¿æ¥åˆ° ipv4: åœ°å€ ç«¯å£ åœ°å€ ç«¯å£ --------------- ---------- --------------- ---------- 0.0.0.0 22 localhost 22 ç»è¿‡ä¸Šè¾¹çš„æ­¥éª¤åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹ç”µè„‘Bè¿›è¡Œé˜²ç«å¢™æ”¾è¡Œ22ç«¯å£çš„å…¥ç«™æµé‡ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼Œnameå¯ä»¥è‡ªå®šä¹‰ï¼Œæˆ‘è¿™é‡Œæ˜¯å¯¹sshæ”¾è¡Œçš„ï¼Œæ‰€ä»¥å–åå­—å°±å«sshï¼Œå®˜æ–¹æ–‡æ¡£\n1 PS C:\\Users\\ai001\u0026gt; netsh advfirewall firewall add rule name=ssh dir=in action=allow protocol=TCP localport=22 ç„¶åå°±å¯ä»¥åœ¨ç”µè„‘Aé€šè¿‡ç”µè„‘Bçš„22ç«¯å£è®¿é—®åˆ°ç”µè„‘Bçš„WSL Ubuntuå­ç³»ç»Ÿäº†ã€‚\n1 2 3 4 k@admin:~$ ssh ai@192.168.6.39 Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 5.10.16.3-microsoft-standard-WSL2 x86_64) Last login: Sat Aug 17 14:36:06 2024 from 172.17.32.1 ai@DESKTOP-KKMQ55S:~$ ä»¥ä¸Šå°±å¯ä»¥å®Œæˆç›´æ¥ä»Aç”µè„‘è®¿é—®Bç”µè„‘çš„linuxæœåŠ¡å™¨ï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸Šè¾¹æ„‰å¿«çš„éƒ¨ç½²æœåŠ¡äº†ã€‚\nå…¶ä»–æœåŠ¡è®¿é—® åœ¨WSLçš„Ubuntuä¸­éƒ¨ç½²å…¶ä»–çš„æœåŠ¡ï¼Œç„¶åæ ¹æ®æœåŠ¡å ç”¨çš„ç«¯å£ï¼Œéœ€è¦å†å»é…ç½®ç”µè„‘Bçš„ç«¯å£è½¬å‘ï¼Œè½¬å‘åˆ°Ubuntuçš„å¯¹åº”ç«¯å£å»ï¼Œè¿™é‡Œæˆ‘å°è¯•äº†éƒ¨ç½²ä¸€ä¸ªJavaçš„tomcatæœåŠ¡ï¼Œå ç”¨äº†18080ç«¯å£ï¼Œæˆ‘é€šè¿‡ä¸Šè¾¹çš„é…ç½®ä»£ç†å‘½ä»¤ï¼Œconnectaddressè¿˜æ˜¯localhost,æ­¤æ—¶æ˜¯æ— æ³•è®¿é—®çš„ï¼Œç„¶åå¯¹ä»£ç†è¿›è¡Œåˆ é™¤ï¼Œæ”¹æˆäº†å…·ä½“çš„172.17.33.211åï¼Œå†é€šè¿‡192.168.6.39:18080å°±å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 PS C:\\Users\\ai001\u0026gt; netsh interface portproxy add v4tov4 listenport=18080 listenaddress=0.0.0.0 connectport=18080 connectaddress=172.17.33.211 PS C:\\Users\\ai001\u0026gt; netsh interface portproxy show all ä¾¦å¬ ipv4: è¿æ¥åˆ° ipv4: åœ°å€ ç«¯å£ åœ°å€ ç«¯å£ --------------- ---------- --------------- ---------- 0.0.0.0 22 localhost 22 0.0.0.0 18080 172.17.33.211 18080 å¦‚æœå¯¹ä»£ç†è§„åˆ™æˆ–è€…é˜²ç«å¢™é…ç½®é”™è¯¯å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥è¿›è¡Œåˆ é™¤ï¼Œä»£ç†è§„åˆ™æ ¹æ®ç›‘å¬çš„ç«¯å£å’Œipæ¥è¿›è¡Œåˆ é™¤ï¼Œé˜²ç«å¢™åˆ™é€šè¿‡nameæ¥è¿›è¡Œåˆ é™¤ã€‚\n1 2 3 4 5 PS C:\\Users\\ai001\u0026gt; netsh interface portproxy delete v4tov4 listenport=18080 listenaddress=0.0.0.0 PS C:\\Users\\ai001\u0026gt; netsh advfirewall firewall delete rule name=tomcat å·²åˆ é™¤ 1 è§„åˆ™ã€‚ ç¡®å®šã€‚ ä»¥ä¸Šå°±æ˜¯WSLé…ç½®SSHè¿œç¨‹è®¿é—®çš„è¿‡ç¨‹ï¼Œå¹¶å¯¹ç‰¹å®šæœåŠ¡çš„ç‰¹å®šç«¯å£è¿›è¡Œä»£ç†è½¬å‘ï¼Œå®ç°è®¿é—®ã€‚\n","date":"2024-08-17T07:12:52Z","image":"https://images.iminling.com/app/hide.php?key=ektqWVRFVFhvR1dxYVh3L2tER0pPa0dsR00zZUxYZGJHbnNaY1lZankzNEpyMzgyT0ZoclN3bG5CQkVhajB6cjh0bVl3R0U9","permalink":"https://konghanghang.github.io/iminling-pages/2024/wsl2-ubuntu-open-ssh-remote-login/","title":"WSL2 Ubuntuå¼€å¯SSHå¹¶é…ç½®è¿œç¨‹ç™»å½•"},{"content":"åœ¨å‰è¾¹çš„æ–‡ç« ä¸­ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿçš„æ­å»ºå°é›…alistæ¥æ»¡è¶³å¤§å®¶çš„è§‚å½±éœ€æ±‚ï¼Œä½†æ˜¯æœ‰ä¸€äº›å‰§å°é›…æ›´æ–°æ²¡é‚£ä¹ˆåŠæ—¶ï¼Œè¿™æ—¶å€™å°±éœ€è¦å¤§å®¶å…«ä»™è¿‡æµ·äº†ã€‚å¦‚ä½•åŠæ—¶æ‰¾åˆ°è‡ªå·±è¦è§‚çœ‹çš„å‰§ï¼Œå¹¶æˆåŠŸè§‚çœ‹å‘¢ï¼Ÿä¸‹è¾¹å°±å¸¦ç€å¤§å®¶ä¸€èµ·ä½¿ç”¨aliyunpan-syncå·¥å…·æ¥åŒæ­¥é˜¿é‡Œäº‘ç›˜çš„æ•°æ®ã€‚\nç½‘ç›˜é€‰æ‹© è¿™é‡Œä¸ºä»€ä¹ˆè¦é€‰æ‹©é˜¿é‡Œäº‘ç›˜å‘¢ï¼Ÿå› ä¸ºé˜¿é‡Œç½‘ç›˜èµ„æºæ¯”è¾ƒå¤šï¼Œæ›´æ–°ä¹Ÿæ¯”è¾ƒå¿«ï¼Œç„¶åç½‘ä¸Šä¹Ÿæ‰¾äº†åŒæ­¥é˜¿é‡Œäº‘ç›˜çš„åŒæ­¥å·¥å…·ï¼šaliyunpan-syncï¼Œç†è®ºä¸Š115ï¼Œç™¾åº¦äº‘ï¼Œå¤¸å…‹è¿™äº›ç½‘ç›˜ä¹Ÿéƒ½æ˜¯okçš„ï¼Œä¸»è¦æ˜¯æŠŠæ–‡ä»¶åŒæ­¥åˆ°æœ¬åœ°ï¼Œå…·ä½“çš„ç½‘ç›˜çš„åŒæ­¥å·¥å…·å°±éœ€è¦å¤§å®¶è‡ªå·±å»æ‰¾äº†ã€‚æˆ‘è¿™é‡Œåªå¸¦ç€å¤§å®¶å®ç°é˜¿é‡Œäº‘ç›˜çš„åŒæ­¥ã€‚å¦å¤–æ¨èç»™å¤§å®¶ä¸€ä¸ªç”µæŠ¥çš„é˜¿é‡Œäº‘ç›˜çš„èµ„æºé€šçŸ¥ç¾¤ï¼Œèµ„æºæ›´æ–°è¿˜æ˜¯æŒºåŠæ—¶çš„ï¼šhttps://t.me/yunpanpanã€‚\nå®‰è£…aliyunpan-sync æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯docker composeè¿›è¡Œçš„å®‰è£…ï¼Œå¦‚æœè¿˜æ²¡æœ‰å®‰è£…dockerçš„åŒå­¦å¯ä»¥å‚è€ƒçš„æˆ‘çš„æ–‡ç« æŠŠdocker ç»™å®‰è£…ä¸€ä¸‹ï¼šdockerå®‰è£…ã€‚\nè·å–é˜¿é‡Œäº‘ç›˜token è¦æƒ³ä»é˜¿é‡Œäº‘ç›˜é‡Œä¸‹è½½æ–‡ä»¶ï¼Œè‚¯å®šæ˜¯éœ€è¦å…ˆç™»å½•é˜¿é‡Œäº‘ç›˜æ‰èƒ½è¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå¦‚ä½•ç™»å½•é˜¿é‡Œäº‘ç›˜aliyunpan-syncå·¥å…·é‡Œä¹Ÿæœ‰å…·ä½“çš„è¯´æ˜ï¼šç™»å½•é˜¿é‡Œäº‘ç›˜ï¼Œéœ€è¦å…ˆåœ¨releaseé¡µé¢ä¸‹è½½ä¸€ä¸ªå¯¹åº”ç³»ç»Ÿçš„releaseï¼Œæˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯mac m1èŠ¯ç‰‡æˆ‘å°±ä¸‹è½½armé‚£ä¸ª\nç„¶åå¯¹æ–‡ä»¶è¿›è¡Œè§£å‹ï¼Œä½¿ç”¨ç»ˆç«¯è¿›å…¥åˆ°å¯¹åº”çš„ç›®å½•é‡Œï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªaliyunpançš„æ–‡ä»¶ï¼Œæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶è·å–ç™»å½•é“¾æ¥ï¼Œç„¶ååœ¨ç½‘é¡µç«¯è¿›è¡Œæ‰«ç ç™»å½•å°±å¯ä»¥äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # k @ Mac-mini in ~/Downloads/aliyunpan-v0.3.2-darwin-macos-arm64 [10:03:26] $ ls README.md manual.md sync.sh webdav.sh aliyunpan plugin sync_drive aliyunpan_config.json sync.bat webdav.bat # k @ Mac-mini in ~/Downloads/aliyunpan-v0.3.2-darwin-macos-arm64 [10:03:28] $ aliyunpan login zsh: command not found: aliyunpan # k @ Mac-mini in ~/Downloads/aliyunpan-v0.3.2-darwin-macos-arm64 [10:03:42] C:127 $ ./aliyunpan login è¯·åœ¨æµè§ˆå™¨æ‰“å¼€ä»¥ä¸‹é“¾æ¥è¿›è¡Œç™»å½•ï¼Œé“¾æ¥æœ‰æ•ˆæ—¶é—´ä¸º5åˆ†é’Ÿã€‚ æ³¨æ„ï¼šä½ éœ€è¦è¿›è¡Œä¸€æ¬¡æˆæƒä¸€æ¬¡æ‰«ç çš„ä¸¤æ¬¡ç™»å½•ã€‚ https://openapi.alipan.com/oauth/authorize?client_id=cf9f70e8fc6143031375\u0026amp;redirect_uri=https%3A%2F%2Fapi.tickstep.com%2Fauth%2Ftickstep%2Faliyunpan%2Ftoken%2Fopenapi%2F0bd327267c41f7b2fcadf927%2Fauth2\u0026amp;scope=user:base,file:all:read,file:all:write è¯·åœ¨æµè§ˆå™¨é‡Œé¢å®Œæˆæ‰«ç ç™»å½•ï¼Œç„¶åå†æŒ‰Enteré”®ç»§ç»­... æ‰“å¼€urlå°±éœ€è¦ä½¿ç”¨æ‰‹æœºç«¯çš„é˜¿é‡Œäº‘ç›˜è¿›è¡Œæ‰«ç ç™»å½•ï¼Œæç¤ºè¿›è¡Œæˆæƒï¼š\næ ¹æ®éœ€è¦é€‰æ‹©æˆæƒèŒƒå›´ï¼Œæˆ‘è¿™é‡ŒæŠŠå¤‡ä»½ç›˜å’Œèµ„æºåº“éƒ½è¿›è¡Œæˆæƒï¼Œå…¶å®å°±æ˜¯æ•´ä¸ªé˜¿é‡Œäº‘ç›˜è¿™ä¸ªå·¥å…·éƒ½å¯ä»¥è®¿é—®ã€‚ç„¶åå°±æ˜¯å›åˆ°ç»ˆç«¯çœ‹åˆ°å…·ä½“çš„tokenã€‚ä¿å­˜å¥½è¿™ä¸ªtoken.\ndockeré•œåƒå¯åŠ¨ æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯docker composeæ¥è¿›è¡Œå®‰è£…çš„ï¼Œæˆ‘çš„æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 $ tree . â”œâ”€â”€ config â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ js â”‚ â”œâ”€â”€ download_handler.js.sample â”‚ â”œâ”€â”€ sync_handler.js â”‚ â”œâ”€â”€ sync_handler.js.sample â”‚ â”œâ”€â”€ token_handler.js â”‚ â”œâ”€â”€ token_handler.js.sample â”‚ â””â”€â”€ upload_handler.js.sample â””â”€â”€ sync_drive configç›®å½•æ˜¯ç”¨æ¥æŒ‚åœ¨é…ç½®æ–‡ä»¶çš„ï¼Œç­‰ä¸‹tokenæ˜¯è¦å¡«åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„aliyunpan_config.jsonæ–‡ä»¶é‡Œçš„ã€‚\njsç›®å½•æ˜¯ç”¨æ¥åšä¸€äº›è„šæœ¬å¤„ç†ï¼Œç”¨æ¥æ§åˆ¶ä»€ä¹ˆæ–‡ä»¶å¯ä»¥ä¸Šä¼ ï¼Œä»€ä¹ˆæ–‡ä»¶å¯ä»¥ä¸‹è½½ï¼Œä»¥åŠè¿›è¡Œä¸€äº›é€šçŸ¥æ“ä½œçš„ã€‚\nsync_driveæ˜¯ä¿å­˜æ•°æ®åº“çš„ä¿¡æ¯ï¼Œç”¨æ¥è®°å½•åŒæ­¥çš„ä¸€äº›ä¿¡æ¯ï¼Œå³ä½¿å®¹å™¨é”€æ¯ï¼ŒåŒæ­¥æ•°æ®åº“è¿˜å¯ä»¥ç”¨äºä»¥åä½¿ç”¨ã€‚\nå…·ä½“çš„docker-compose.yamlæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 version: \u0026#39;3\u0026#39; services: sync: image: tickstep/aliyunpan-sync:v0.3.2 container_name: aliyunpan-sync restart: unless-stopped volumes: # ï¼ˆå¿…é¡»ï¼‰æ˜ å°„çš„æœ¬åœ°ç›®å½• - /data/webdav/data:/home/app/data:rw # ï¼ˆå¯é€‰ï¼‰å¯ä»¥æŒ‡å®šJSæ’ä»¶sync_handler.jsç”¨äºè¿‡æ»¤æ–‡ä»¶ï¼Œè¯¦è§æ’ä»¶è¯´æ˜ #- ./config/sync_handler.js:/home/app/config/plugin/js/sync_handler.js - ./js:/home/app/config/plugin/js/ # ï¼ˆæ¨èï¼‰æŒ‚è½½sync_driveåŒæ­¥æ•°æ®åº“åˆ°æœ¬åœ°ï¼Œè¿™æ ·å³ä½¿å®¹å™¨é”€æ¯ï¼ŒåŒæ­¥æ•°æ®åº“è¿˜å¯ä»¥ç”¨äºä»¥åä½¿ç”¨ - ./sync_drive:/home/app/config/sync_drive # ï¼ˆå¿…é¡»ï¼‰æ˜ å°„tokenå‡­æ®æ–‡ä»¶ - ./config/aliyunpan_config.json:/home/app/config/aliyunpan_config.json extra_hosts: - host.docker.internal:host-gateway environment: # æ—¶åŒºï¼Œä¸œ8åŒº - TZ=Asia/Shanghai # ä¸‹è½½æ–‡ä»¶å¹¶å‘æ•° - ALIYUNPAN_DOWNLOAD_PARALLEL=2 # ä¸Šä¼ æ–‡ä»¶å¹¶å‘æ•° - ALIYUNPAN_UPLOAD_PARALLEL=2 # ä¸‹è½½æ•°æ®å—å¤§å°ï¼Œå•ä½ä¸ºKBï¼Œé»˜è®¤ä¸º10240KBï¼Œå»ºè®®èŒƒå›´1024KB~10240KB - ALIYUNPAN_DOWNLOAD_BLOCK_SIZE=1024 # ä¸Šä¼ æ•°æ®å—å¤§å°ï¼Œå•ä½ä¸ºKBï¼Œé»˜è®¤ä¸º10240KBï¼Œå»ºè®®èŒƒå›´1024KB~10240KB - ALIYUNPAN_UPLOAD_BLOCK_SIZE=10240 # æŒ‡å®šç½‘ç›˜æ–‡ä»¶å¤¹ä½œä¸ºå¤‡ä»½ç›®æ ‡ç›®å½•ï¼Œä¸è¦æŒ‡å®šæ ¹ç›®å½• - ALIYUNPAN_PAN_DIR=/æ¥è‡ªåˆ†äº« # å¤‡ä»½æ¨¡å¼ï¼šupload(å¤‡ä»½æœ¬åœ°æ–‡ä»¶åˆ°äº‘ç›˜), download(å¤‡ä»½äº‘ç›˜æ–‡ä»¶åˆ°æœ¬åœ°) - ALIYUNPAN_SYNC_MODE=download # å¤‡ä»½ç­–ç•¥: exclusive(æ’ä»–å¤‡ä»½æ–‡ä»¶ï¼Œç›®æ ‡ç›®å½•å¤šä½™çš„æ–‡ä»¶ä¼šè¢«åˆ é™¤),increment(å¢é‡å¤‡ä»½æ–‡ä»¶ï¼Œç›®æ ‡ç›®å½•å¤šä½™çš„æ–‡ä»¶ä¸ä¼šè¢«åˆ é™¤) #- ALIYUNPAN_SYNC_POLICY=increment # å¤‡ä»½å‘¨æœŸ, æ”¯æŒä¸¤ç§: infinity(æ°¸ä¹…å¾ªç¯å¤‡ä»½),onetime(åªè¿è¡Œä¸€æ¬¡å¤‡ä»½) #- ALIYUNPAN_SYNC_CYCLE=infinity # ç½‘ç›˜ï¼šbackup(å¤‡ä»½ç›˜), resource(èµ„æºç›˜) - ALIYUNPAN_SYNC_DRIVE=resource # æ˜¯å¦æ˜¾ç¤ºæ–‡ä»¶å¤‡ä»½è¿‡ç¨‹æ—¥å¿—ï¼Œtrue-æ˜¾ç¤ºï¼Œfalse-ä¸æ˜¾ç¤º - ALIYUNPAN_SYNC_LOG=true # æœ¬åœ°æ–‡ä»¶ä¿®æ”¹æ£€æµ‹å»¶è¿Ÿé—´éš”ï¼Œå•ä½ç§’ã€‚å¦‚æœæœ¬åœ°æ–‡ä»¶ä¼šè¢«é¢‘ç¹ä¿®æ”¹ï¼Œä¾‹å¦‚å½•åˆ¶è§†é¢‘æ–‡ä»¶ï¼Œé…ç½®å¥½è¯¥æ—¶é—´å¯ä»¥é¿å…ä¸Šä¼ æœªå½•åˆ¶å¥½çš„æ–‡ä»¶ - ALIYUNPAN_LOCAL_DELAY_TIME=60 é‡ç‚¹è¯´ä¸€ä¸‹ä¸Šè¾¹çš„å››ä¸ªé…ç½®ï¼š\nç¬¬ä¸€ä¸ªæ˜¯æŒ‚è½½é…ç½®ä¸‹çš„æ˜ å°„çš„æœ¬åœ°ç›®å½•ï¼Œè¿™ä¸ªæ˜¯æŠŠé˜¿é‡Œäº‘ç›˜çš„æ•°æ®ä¸‹è½½ä¸‹æ¥çš„ç›®å½•ï¼Œéœ€è¦æŠŠä»–æŒ‚è½½åœ¨ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å­˜å‚¨è·¯å¾„ã€‚\nç¬¬äºŒä¸ªæ˜¯å¤‡ä»½æ¨¡å¼ï¼šALIYUNPAN_SYNC_MODï¼Œæˆ‘è¿™é‡Œæ˜¯æŠŠäº‘ç›˜æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ‰€ä»¥æ¨¡å¼æ˜¯downloadã€‚\nç¬¬ä¸‰ä¸ªæ˜¯ç½‘ç›˜ï¼šALIYUNPAN_SYNC_DRIVEï¼Œé˜¿é‡Œäº‘ç›˜åˆ†ä¸ºå¤‡ä»½ç›˜å’Œèµ„æºç›˜ï¼Œæˆ‘è¿™é‡Œå¤§éƒ¨åˆ†è½¬å­˜çš„æ–‡ä»¶éƒ½æ˜¯æ”¾åœ¨èµ„æºç›˜ï¼Œæ‰€ä»¥è¿™é‡Œé…ç½®resourceã€‚\nç¬¬å››ä¸ªæ˜¯å¤‡ä»½ç›®æ ‡ç›®å½•ï¼šALIYUNPAN_PAN_DIRï¼Œè¿™ä¸ªé…ç½®å°±æ˜¯å½“å‰å®¹å™¨éœ€è¦ä¸‹è½½çš„ç›®å½•ï¼Œä¸Šè¾¹æŒ‡å®šäº†éœ€è¦ä¸‹è½½èµ„æºç›˜çš„æ–‡ä»¶ï¼Œä½†æ˜¯è‚¯å®šä¸èƒ½æ•´ä¸ªèµ„æºç›˜éƒ½ä¸‹è½½ï¼Œåªéœ€è¦æŒ‡å®šç‰¹å®šçš„ç›®å½•ä¸‹è½½å°±è¡Œäº†ï¼Œæ¯”å¦‚æˆ‘è½¬å­˜çš„æ–‡ä»¶éƒ½æ˜¯æ”¾åœ¨æ¥è‡ªåˆ†äº«ç›®å½•ä¸‹ï¼Œæˆ‘è¿™é‡Œå°±é…ç½®æ¥è‡ªåˆ†äº«ã€‚\njsçš„é€šçŸ¥åè¾¹åœ¨è®²ï¼Œè¿™ä¸ªç›®å½•é‡Œè¾¹æš‚æ—¶å¯ä»¥å…ˆä¸æ”¾ä»»ä½•jsæ–‡ä»¶ã€‚\nç„¶åå°±å¯ä»¥å¯åŠ¨docker composeæ–‡ä»¶äº†ã€‚\n1 docker compose up -d æ­¤æ—¶è™½ç„¶å¯åŠ¨äº†å®¹å™¨ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰é…ç½®tokenï¼Œå®¹å™¨ä¼šä¸€ç›´é‡å¯ï¼Œä½†æ˜¯æ­¤æ—¶ç›®å½•configç›®å½•ä¸‹å°±ä¼šå¤šå‡ºä¸€ä¸ªaliyun_config.jsonçš„æ–‡ä»¶ï¼Œç¼–è¾‘æ–‡ä»¶æ‰¾åˆ°accessTokenå±æ€§ï¼ŒæŠŠç¬¬ä¸€æ­¥ç”Ÿæˆå¥½çš„tokenæ›¿æ¢è¿›å»å°±å¯ä»¥äº†ã€‚ä¿å­˜æ–‡ä»¶åç­‰å¾…å®¹å™¨ä¸‹ä¸€æ¬¡é‡å¯æˆ–è€…æ‰‹åŠ¨é‡å¯å®¹å™¨å°±å¯ä»¥äº†ã€‚æ­¤æ—¶å°±å¯ä»¥äº†ã€‚\néªŒè¯ æ¥ä¸‹æ¥å°±æ˜¯æ‰¾ä¸€ä¸ªæ–‡ä»¶ä¿å­˜åˆ°äº‘ç›˜çš„æŒ‡å®šè¦ä¸‹è½½çš„ç›®å½•ï¼Œæˆ‘æ˜¯æ¥è‡ªåˆ†äº«ï¼Œç„¶åå»çœ‹ä¸€ä¸‹ç›®å½•æœ‰æ²¡æœ‰è¿›è¡Œä¸‹è½½ã€‚ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—ï¼š\n1 2 3 4 5 6 7 8 9 root@docker:~/images/aliyunpancli# docker compose logs -tf --tail 10 WARN[0000] /root/images/aliyunpancli/docker-compose.yaml: `version` is obsolete aliyunpan-sync | 2024-07-06T02:52:51.522742265Z æ‰«æåˆ°äº‘ç›˜æ–‡ä»¶ï¼š/æ¥è‡ªåˆ†äº«/Cover the sky.S01E61.2023.2160p.WEB.DL.H265.DDP2.0-BestWEB.mkv aliyunpan-sync | 2024-07-06T02:52:56.282356345Z å®Œæˆå…¨éƒ¨æ–‡ä»¶çš„åŒæ­¥ä¸‹è½½ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡æ‰«æ aliyunpan-sync | 2024-07-06T02:53:51.550419129Z å¼€å§‹è¿›è¡Œæ–‡ä»¶æ‰«æ... aliyunpan-sync | 2024-07-06T02:53:51.756156867Z æ‰«æåˆ°äº‘ç›˜æ–‡ä»¶ï¼š/æ¥è‡ªåˆ†äº«/Jade Dynasty.S02E43.2022.2160p.WEB-DL.H265.DDP2.0-BestWEB.mkv aliyunpan-sync | 2024-07-06T02:53:51.756982180Z æ‰«æåˆ°äº‘ç›˜æ–‡ä»¶ï¼š/æ¥è‡ªåˆ†äº«/Cover the sky.S01E61.2023.2160p.WEB.DL.H265.DDP2.0-BestWEB.mkv aliyunpan-sync | 2024-07-06T02:53:56.554962070Z ä¸‹è½½æ–‡ä»¶ï¼š/æ¥è‡ªåˆ†äº«/Jade Dynasty.S02E43.2022.2160p.WEB-DL.H265.DDP2.0-BestWEB.mkv ä¸‹è½½åˆ°æœ¬åœ°:/home/app/data/Jade Dynasty.S02E43.2022.2160p.WEB-DL.H265.DDP2.0-BestWEB.mkv â†“ 773.00MB/779.46MB(99.17%) 9.64MB/s............ä¸‹è½½å®Œæ¯•ï¼š/home/app/data/Jade Dynasty.S02E43.2022.2160p.WEB-DL.H265.DDP2.0-BestWEB.mkv é€šè¿‡æ—¥å¿—å¯ä»¥çœ‹å‡ºå®ƒåœ¨ä¸åœçš„æ‰«æï¼Œæ£€æµ‹åˆ°æ–°æ–‡ä»¶å°±å¼€å§‹è¿›è¡Œä¸‹è½½ã€‚\nJSé€šçŸ¥ åœ¨docker composeæ–‡ä»¶ä¸­ï¼ŒæŒ‡å®šäº†jsæ–‡ä»¶çš„ç›®å½•ï¼Œé‚£ä¹ˆè¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿå®˜æ–¹ä¹Ÿæœ‰ä¸€äº›å…·ä½“çš„ä¾‹å­ï¼šJavaScriptæ’ä»¶ï¼Œæˆ‘è¿™é‡Œéœ€è¦æä¾›ä¸€ä¸ªä¸‹è½½å®Œæˆé€šçŸ¥çš„åŠŸèƒ½ï¼Œä¿å­˜æ–‡ä»¶åä»€ä¹ˆæ—¶å€™ä¸‹è½½å®Œæˆæ˜¯å¤§å®¶æ¯”è¾ƒå…³å¿ƒçš„ï¼Œæ€»ä¸èƒ½æ€»æ˜¯æŸ¥çœ‹æ—¥å¿—ã€‚\nè¿™é‡Œè¦ä½¿ç”¨åˆ°çš„jsæ–‡ä»¶æ˜¯sync_handler.jsæ–‡ä»¶ã€‚æ–‡ä»¶å…·ä½“çš„å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 // ------------------------------------------------------------------------------------------ // å‡½æ•°è¯´æ˜ï¼šåŒæ­¥å¤‡ä»½-åŒæ­¥æ–‡ä»¶åçš„å›è°ƒå‡½æ•° // // å‚æ•°è¯´æ˜ // context - å½“å‰è°ƒç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ // { // \u0026#34;appName\u0026#34;: \u0026#34;aliyunpan\u0026#34;, // \u0026#34;version\u0026#34;: \u0026#34;v0.1.3\u0026#34;, // \u0026#34;userId\u0026#34;: \u0026#34;11001d48564f43b3bc5662874f04bb11\u0026#34;, // \u0026#34;nickname\u0026#34;: \u0026#34;tickstep\u0026#34;, // \u0026#34;fileDriveId\u0026#34;: \u0026#34;19519111\u0026#34;, // \u0026#34;albumDriveId\u0026#34;: \u0026#34;29519122\u0026#34; // } // appName - åº”ç”¨åç§°ï¼Œå½“å‰å›ºå®šä¸ºaliyunpan // version - ç‰ˆæœ¬å· // userId - å½“å‰ç™»å½•ç”¨æˆ·çš„ID // nickname - ç”¨æˆ·æ˜µç§° // fileDriveId - ç”¨æˆ·æ–‡ä»¶ç½‘ç›˜ID // albumDriveId - ç”¨æˆ·ç›¸å†Œç½‘ç›˜ID // // params - åŒæ­¥æ–‡ä»¶åçš„å‚æ•° // { // \u0026#34;action\u0026#34;: \u0026#34;upload\u0026#34;, // \u0026#34;actionResult\u0026#34;: \u0026#34;success\u0026#34;, // \u0026#34;driveId\u0026#34;: \u0026#34;19519221\u0026#34;, // \u0026#34;fileName\u0026#34;: \u0026#34;1.txt\u0026#34;, // \u0026#34;filePath\u0026#34;: \u0026#34;D:/goprojects/dev/upload/1.txt\u0026#34;, // \u0026#34;fileSha1\u0026#34;: \u0026#34;294C8F24C56042710813E95C55A0B018299BA9A7\u0026#34;, // \u0026#34;fileSize\u0026#34;: \u0026#34;28077\u0026#34;, // \u0026#34;fileType\u0026#34;: \u0026#34;file\u0026#34;, // \u0026#34;fileUpdatedAt\u0026#34;: \u0026#34;2022-03-04 15:19:47\u0026#34; // } // action - åŒæ­¥åŠ¨ä½œï¼Œ // download-ä¸‹è½½æ–‡ä»¶ï¼Œ // upload-ä¸Šä¼ æ–‡ä»¶ï¼Œ // delete_local-åˆ é™¤æœ¬åœ°æ–‡ä»¶ï¼Œ // delete_pan-åˆ é™¤äº‘ç›˜æ–‡ä»¶ï¼Œ // create_local_folder-åˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹ï¼Œ // create_pan_folder-åˆ›å»ºäº‘ç›˜æ–‡ä»¶å¤¹ // actionResult - åŒæ­¥ç»“æœï¼Œsuccess-æˆåŠŸï¼Œfail-å¤±è´¥ // driveId - ç½‘ç›˜ID // fileName - æ–‡ä»¶åç§° // filePath - æ–‡ä»¶å®Œæ•´è·¯å¾„ // fileSha1 - æ–‡ä»¶SHA1 // fileSize - æ–‡ä»¶å¤§å°ï¼Œå•ä½B // fileType - æ–‡ä»¶ç±»å‹ï¼Œfile-æ–‡ä»¶ï¼Œfolder-æ–‡ä»¶å¤¹ // fileUpdatedAt - æ–‡ä»¶ä¿®æ”¹æ—¶é—´ // // è¿”å›å€¼è¯´æ˜ // ï¼ˆæ— ï¼‰ // ------------------------------------------------------------------------------------------ function syncFileFinishCallback(context, params) { console.log(params) var header = { \u0026#34;User-Agent\u0026#34;: \u0026#34;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36\u0026#34;, \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json\u0026#34;, \u0026#34;Accept\u0026#34;: \u0026#34;application/json\u0026#34; }; try { var text = \u0026#34;æ–‡ä»¶åï¼š\u0026#34; + params[\u0026#34;fileName\u0026#34;] + \u0026#34; åŒæ­¥å®Œæˆ, åŒæ­¥ç»“æœ: \u0026#34; + params[\u0026#34;actionResult\u0026#34;]; if (params[\u0026#34;actionResult\u0026#34;] === \u0026#34;fail\u0026#34;) { var reqData = { \u0026#34;chat_id\u0026#34;: \u0026#34;è¿™é‡Œæ˜¯è‡ªå·±çš„id\u0026#34;, \u0026#34;text\u0026#34;: text }; var r = PluginUtil.Http.post(header, \u0026#34;https://api.telegram.org/{è¿™é‡Œæ›¿æ¢å…·ä½“çš„ç”µæŠ¥æœºå™¨äººtoken}/sendMessage\u0026#34;, JSON.stringify(reqData)); } } catch (e) { if (e !== \u0026#34;Error\u0026#34;) { throw e; } } } æ€ä¹ˆåˆ›å»ºç”µæŠ¥æœºå™¨äººä»¥åŠè·å–è‡ªå·±çš„idè¿™é‡Œå°±ä¸å†è¯´äº†ï¼Œå¤§å®¶å¯ä»¥ç½‘ä¸Šæœç´¢ä¸€ä¸‹ï¼Œå¦‚æœåç»­æ—¶é—´å……è£•ï¼Œæˆ‘ä¹Ÿä¼šè¯¦ç»†æ•™å¤§å®¶å¦‚ä½•åˆ›å»ºæœºå™¨äººå’ŒæŸ¥çœ‹è‡ªå·±çš„idã€‚\ntextå°±æ˜¯é€šçŸ¥çš„å†…å®¹ï¼Œæ¥çœ‹ä¸€ä¸‹æœ€ç»ˆçš„é€šçŸ¥æ•ˆæœï¼š\n","date":"2024-07-06T03:11:29Z","image":"https://images.iminling.com/app/hide.php?key=dTRuQi9oWFFCZ2JmUDF2bDRUUFVERFNJZnc2Sm43RTU4dXlnVzViM3pMYzdEenBDM0t4MDBwbkM2eTY5QlZ1MSt2UjhuRjQ9","permalink":"https://konghanghang.github.io/iminling-pages/2024/docker-deploy-aliyunpan-sync/","title":"dockeræ­å»ºaliyunpan-syncæ—¶å®å¢é‡åŒæ­¥é˜¿é‡Œäº‘ç›˜æ–‡ä»¶"},{"content":"å·¥ä½œä¸­æä¾›ç»™å¤–éƒ¨è°ƒç”¨çš„apiéœ€è¦è¿›è¡Œè¯·æ±‚çš„å†…å®¹è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†ä½¿ç”¨çš„AES/ECB/PKCS5Paddingè¿™ç§åŠ å¯†æ–¹å¼ï¼Œå…¬å¸å¼€å‘ä½¿ç”¨çš„æ˜¯Javaï¼Œä½†æ˜¯å¯¹æ¥ä¼ä¸šæœ‰ä½¿ç”¨Javaï¼ŒGoæˆ–è€…phpè¿›è¡Œå¼€å‘çš„ï¼Œå®¢æˆ·ä¼šè¦æ±‚æä¾›ä¸€ä¸‹demoï¼ŒJavaè¯­è¨€è¿˜å¥½æï¼Œæœ¬èº«å°±æ˜¯Javaå¼€å‘çš„ï¼Œç›´æ¥æä¾›å°±å¥½äº†ï¼Œä½†æ˜¯phpå’ŒGoç”±äºå…¬å¸æ²¡æœ‰ä½¿ç”¨è€…ï¼Œåœ¨å®¢æˆ·æ¥è¯¢é—®çš„æ—¶å€™å°±æ²¡æœ‰demoå¯ä»¥æä¾›åˆ°ï¼Œäºæ˜¯è‡ªå·±å°±ç ”ç©¶äº†ä¸€ä¸‹PHPçš„AESåŠ å¯†ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªdemoã€‚ä¸‹è¾¹ä»‹ç»ä¸€ä¸‹å…·ä½“çš„å®ç°ã€‚\næœ¬æ–‡ä¸»è¦è®²ç”±Javaè½¬åˆ°PHPçš„å®ç°ï¼Œå…·ä½“AESç®—æ³•æ˜¯æ€ä¹ˆå®ç°çš„ä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ï¼Œå¦‚æœè¿˜ä¸çŸ¥é“AESæ˜¯ä»€ä¹ˆè‡ªè¡Œæœç´¢ã€‚\nJavaå®ç° åœ¨è¿™é‡Œæœ‰å¿…è¦å…ˆè¯´æ˜ä¸€ä¸‹Javaçš„å®ç°ï¼Œå› ä¸ºåªæœ‰çŸ¥é“Javaæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæ‰èƒ½åœ¨å…¶ä»–è¯­è¨€é‡Œå»å®ç°ã€‚å…ˆä¸Šä»£ç å§ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 public class AesUtils { private static final String TRANSFORMATION = \u0026#34;AES/ECB/PKCS5Padding\u0026#34;; private static final String ALGORITHM = \u0026#34;AES\u0026#34;; public static String encrypt(String content, String key){ try { Key secretKeySpec = secretKeySpec(key); Cipher cipher = Cipher.getInstance(TRANSFORMATION);// åˆ›å»ºå¯†ç å™¨ cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec);// åˆå§‹åŒ– byte[] result = cipher.doFinal(content.getBytes(StandardCharsets.UTF_8)); return Base64.getEncoder().encodeToString(result); } catch (Exception e) { } } public static String decrypt(String content, String key) { try { Key keySpec = secretKeySpec(key); Cipher cipher = Cipher.getInstance(TRANSFORMATION); cipher.init(Cipher.DECRYPT_MODE, keySpec); byte[] result = cipher.doFinal(Base64.getDecoder().decode(content)); return new String(result, StandardCharsets.UTF_8); } catch (Exception e) { } } private static Key secretKeySpec(String key) throws EncryptException { KeyGenerator generator = KeyGenerator.getInstance(ALGORITHM); SecureRandom secureRandom = SecureRandom.getInstance(\u0026#34;SHA1PRNG\u0026#34;); secureRandom.setSeed(key.getBytes(StandardCharsets.UTF_8)); generator.init(128, secureRandom); SecretKey secretKey = generator.generateKey(); byte[] enCodeFormat = secretKey.getEncoded(); return new SecretKeySpec(enCodeFormat, ALGORITHM); } } å®Œæ•´ä»£ç å¦‚ä¸Šï¼Œæ•´ä¸ªä»£ç ä¹Ÿæ¯”è¾ƒæ¸…æ™°ï¼Œè·å–keyç„¶åå¯¹å†…å®¹è¿›è¡ŒåŠ è§£å¯†ã€‚\nä½†æ˜¯é—®é¢˜å°±å‡ºç°åœ¨keyè·å–ä¸Šï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„keyå†ä½¿ç”¨RNG(Random Number Generator)ç®—æ³•ï¼šSHA1PRNGè·å–128ä½çš„keyï¼šgenerator.init(128, secureRandom);ï¼Œç”±æ¬¡å¯çŸ¥å®Œæ•´çš„AESåŠ å¯†ç®—æ³•åº”è¯¥æ˜¯AES-128-ECBå¹¶ä½¿ç”¨PKCS5Paddingæ–¹å¼è¿›è¡Œå¡«å……ã€‚\nPHPå®ç° é€šè¿‡é˜…è¯»Javaçš„ä»£ç å‘ç°å®Œæ•´ç®—æ³•æ˜¯AES-128-ECBå¹¶ä½¿ç”¨PKCS5Paddingæ–¹å¼è¿›è¡Œå¡«å……ï¼Œè·å–keyçš„æ—¶å€™ä½¿ç”¨SHA1PRNGï¼Œä½†æ˜¯PHPå¹¶æ²¡æœ‰è¿™ç§æ–¹å¼ï¼Œäºæ˜¯å°±å»è¯¢é—®GPTï¼ŒæŸ¥çœ‹ç½‘ä¸Šå„ç§èµ„æ–™ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†è§£å†³åŠæ³•ï¼ŒPHPçš„å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 \u0026lt;?php $plainText = isset($_GET[\u0026#39;text\u0026#39;]) ? $_GET[\u0026#39;text\u0026#39;] : \u0026#39;Hello, World!\u0026#39;; $key = isset($_GET[\u0026#39;key\u0026#39;]) ? $_GET[\u0026#39;key\u0026#39;] : \u0026#39;this_is_a_very_long_key_that_needs_to_be_shortened_or_hashed\u0026#39;; function encrypt($plainText, $key) { $key = substr(openssl_digest(openssl_digest($key, \u0026#39;sha1\u0026#39;, true), \u0026#39;sha1\u0026#39;, true), 0, 16); // openssl_encrypt åŠ å¯†ä¸åŒMcryptï¼Œå¯¹ç§˜é’¥é•¿åº¦è¦æ±‚ï¼Œè¶…å‡º16åŠ å¯†ç»“æœä¸å˜ $data = openssl_encrypt($plainText, \u0026#39;AES-128-ECB\u0026#39;, $key, OPENSSL_RAW_DATA); //$data = strtolower(bin2hex($data)); return base64_encode($data); } function decrypt($cipherText, $key) { $key = substr(openssl_digest(openssl_digest($key, \u0026#39;sha1\u0026#39;, true), \u0026#39;sha1\u0026#39;, true), 0, 16); $decrypted = openssl_decrypt(base64_decode($cipherText), \u0026#39;AES-128-ECB\u0026#39;, $key, OPENSSL_RAW_DATA); return $decrypted; } // ç¤ºä¾‹ç”¨æ³• $encrypted = encrypt($plainText, $key); echo \u0026#34;åŠ å¯†ç»“æœ: \u0026#34; . $encrypted . \u0026#34;\\n\u0026#34;; $decrypted = decrypt($encrypted, $key); echo \u0026#34;è§£å¯†ç»“æœ: \u0026#34; . $decrypted . \u0026#34;\\n\u0026#34;; ?\u0026gt; å¦‚ä¸Šï¼Œåœ¨phpä¸­æ˜¯å¯¹Keyè¿›è¡Œä¸¤æ¬¡sha1å¹¶å¯¹ç»“æœè¿›è¡Œæˆªå–16ä½ã€‚\nåœ¨PHPä¸­ï¼Œopenssl_encryptå’Œopenssl_decryptå‡½æ•°ä¼šè‡ªåŠ¨å¤„ç†PKCS#5/PKCS#7å¡«å……ï¼ˆpaddingï¼‰ï¼Œä¸éœ€è¦æ‰‹åŠ¨å®ç°å¡«å……ã€‚å‚æ•°ä¸­æŒ‡æ˜OPENSSL_RAW_DATAå°±å¯ä»¥äº†ã€‚\nä»¥ä¸Šå°±æ˜¯åœ¨PHPä¸­å®ç°Javaä¸­SHA1PRNGç”Ÿæˆkeyå¹¶ä»¥AES-128-ECBåŠ å¯†ä¸”ä»¥PKCS#5æ–¹å¼è¿›è¡Œå¡«å……çš„å®ç°ã€‚è®°å½•ä¸€ä¸‹ã€‚\n","date":"2024-06-29T03:36:33Z","image":"https://images.iminling.com/app/hide.php?key=VDg3MjhNTkpJUzVSWUEyNGY0UHZCQkRvbXEwYXlpWVB5Q2ZuS3ZnTGUwTkxDVW1yTGd2L1N4cU5kVmZzQjIrcFQycG5UZXM9","permalink":"https://konghanghang.github.io/iminling-pages/2024/php-aes-128-ecb-pkcs5padding/","title":"PHPå®ç°AES-128-ECBå¹¶ä»¥PKCS5Paddingå¡«å……æ–¹å¼åŠ è§£å¯†"},{"content":"ç½‘ç«™ä»æˆåŠŸéƒ¨ç½²åï¼Œå°±å…¥äº†google adsenseï¼Œç®—ä¸‹æ¥ä¹Ÿæœ‰ä¸€å¹´å¤šçš„æ—¶é—´äº†ï¼Œè¿™ä¸€å¹´å¤šè‡ªå·±å‘å¸ƒæ–‡ç« çš„é¢‘ç‡ä¹Ÿæ¯”è¾ƒä½ï¼Œæ‰€ä»¥æµé‡ä¸é«˜ï¼Œå¹¿å‘Šæ”¶å…¥éå¸¸å°‘ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆå¿«å°±æ”¶åˆ°äº†adsenseçš„åœ°å€éªŒè¯è¦æ±‚ã€‚ä»Šå¤©å°±ä»‹ç»ä¸€ä¸‹æˆ‘éªŒè¯åœ°å€çš„è¯¦ç»†è¿‡ç¨‹ã€‚\néªŒè¯é‚®ä»¶ åœ¨6æœˆåˆï¼Œæˆ‘æ”¶åˆ°äº†googleçš„é‚®ä»¶ï¼Œæç¤ºéªŒè¯æˆ‘çš„èº«ä»½ï¼Œåªæœ‰è¿™æ ·å­æ‰èƒ½æ¥æ”¶åˆ°æ¥è‡ªgoogle adsenseçš„ä»˜æ¬¾ï¼Œå¹¶ä¸”é‚®ä»¶ä¸­ç›´æ¥ç»™å‡ºäº†åœ°å€å¯ä»¥ç›´æ¥ç‚¹å‡»æŒ‰é’®è·³è½¬éªŒè¯åœ°å€è¿›è¡ŒéªŒè¯ã€‚\nèµ„æ–™ä¸Šä¼  ç‚¹å‡»é“¾æ¥ä¼šè·³è½¬åˆ°éªŒè¯ç•Œé¢ï¼Œæœ€å¼€å§‹æ˜¯éœ€è¦ä¸Šä¼ ä¸€ä»½èº«ä»½è¯æ˜ï¼šèº«ä»½IDæˆ–è€…æŠ¤ç…§(passport)ã€‚æˆ‘è¿™è¾¹å› ä¸ºä¸ªäººä¿¡æ¯å†™çš„ç¾å›½ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸Šä¼ äº†æŠ¤ç…§ä¸Šå»ï¼Œå¹¶å¡«å†™äº†è‡ªå·±åœ¨anyboxmailä¸Šç”³è¯·çš„ç¾å›½åœ°å€ï¼Œåœ¨è¾“å…¥å®Œåœ°å€ç‚¹å‡»ä¸‹ä¸€æ­¥çš„æ—¶å€™ï¼Œåˆå¼¹å‡ºéœ€è¦éªŒè¯åœ°å€ã€‚\nåœ°å€éªŒè¯è¿™é‡Œå¯¹æˆ‘å€’æ˜¯æ²¡æœ‰ä»€ä¹ˆéš¾å¤„ï¼Œæˆ‘ç”³è¯·äº†ç¾å›½è¿é€šä¿¡ç”¨å¡(ç”³è¯·æ•™ç¨‹ï¼šä½¿ç”¨ITINç”³è¯·American Express(ç¾å›½è¿é€š)ä¿¡ç”¨å¡)çš„æœˆåº¦è´¦å•ï¼Œä¸Šè¾¹æœ‰æˆ‘çš„åœ°å€ä¿¡æ¯ï¼Œä»¥æ­¤æ¥ä½œä¸ºæˆ‘çš„åœ°å€è¯æ˜è¿›è¡Œäº†ä¸Šä¼ ã€‚å¦‚æœåœ°å€å†™çš„æ˜¯å›½å†…çš„å°ä¼™ä¼´ï¼Œç›´æ¥ç”³è¯·å›½å†…ä¿¡ç”¨å¡çš„ç”µå­è´¦å•ï¼Œè¿›è¡Œä¸Šä¼ åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚\næ•´ä½“ä¸Šå…¶å®å°±æ˜¯ä¸Šä¼ äº†ä¸¤ä»½æ–‡ä»¶ï¼Œä¸€ä»½æŠ¤ç…§ï¼Œä¸€ä»½åœ°å€è¯æ˜æ–‡ä»¶ï¼Œæäº¤åå°±æ˜¯ç­‰å¾…å¤„ç†ï¼Œgoogleé‚£è¾¹éœ€è¦ç‚¹æ—¶é—´å¯¹ä¸Šä¼ çš„èµ„æ–™è¿›è¡Œå®¡æŸ¥ã€‚\nèº«ä»½éªŒè¯é€šè¿‡ è¿‡äº†æœ‰3å¤©ï¼Œæ”¶åˆ°äº†googleçš„é‚®ä»¶é€šçŸ¥ï¼Œæç¤ºèº«ä»½éªŒè¯é€šè¿‡ã€‚\nåŒä¸€å¤©googleåˆç»™æˆ‘å‘äº†ä¸€ä»½é‚®ä»¶ï¼Œæç¤ºéªŒè¯åœ°å€çš„pinç å·²ç»å‘å‡ºï¼Œç­‰å…·ä½“æ”¶åˆ°ä¿¡ä»¶åå†è¿›è¡Œpinç éªŒè¯ã€‚\néªŒè¯pinç  è¿™ä¸­é—´åˆæ˜¯ä¸€æ®µæ—¶é—´çš„ç­‰å¾…ï¼Œå› ä¸ºé‚®ä»¶æ˜¯å‘åˆ°æˆ‘ç§Ÿçš„ç¾å›½åœ°å€çš„ï¼Œä¸­é—´åˆšå¥½åˆé‡åˆ°åŒä¼‘ï¼Œå¤„ç†çš„æ²¡é‚£ä¹ˆå¿«ï¼Œç­‰å¾…å‡ å¤©åæ”¶åˆ°äº†pinç é‚®ä»¶\nç„¶åè®©æˆ¿ä¸œè¿›è¡Œäº†æ‰«æï¼Œæ‰«æåçš„å†…å®¹å¦‚ä¸‹\næ­¤æ—¶ç™»å½•google adsenseçš„åå°ï¼Œç›´æ¥çœ‹åˆ°æœ‰ä¸€ä¸ªå¡ç‰‡å°±æ˜¯æç¤ºè¦éªŒè¯pinç \nç‚¹å‡»éªŒè¯å°±è·³è½¬åˆ°äº†pinç éªŒè¯é¡µé¢\næ­£ç¡®è¾“å…¥åå°±okäº†ï¼Œæœ€ç»ˆèº«ä»½éªŒè¯å’Œåœ°å€éªŒè¯éƒ½æ˜¾ç¤ºå·²é€šè¿‡ï¼Œè‡³æ­¤å®Œæˆgoogle adsenseçš„å…¨éƒ¨éªŒè¯\nä»¥ä¸Šå°±æ˜¯æ•´ä¸ªéªŒè¯æµç¨‹ã€‚\n","date":"2024-06-18T13:10:26Z","image":"https://images.iminling.com/app/hide.php?key=NE1yYVdkUjdQS3Q1UTBUODVkbW5zZ2NWcFVjY083SWV0RnI4Vnh2SVF3THJmY3REUE5UbGVIcHRTVCtPRmZEOEtqK0JEZTA9","permalink":"https://konghanghang.github.io/iminling-pages/2024/google-adsense-address-verify/","title":"Google Adsenseåœ°å€éªŒè¯æµç¨‹"},{"content":"ä¸Šç¯‡æ–‡ç« è®°å½•äº†å¦‚ä½•ä½¿ç”¨mavenæ¥å‘å¸ƒè‡ªå·±çš„ä¸ªäººé¡¹ç›®åˆ°ä¸­å¤®ä»“åº“ï¼Œåè¾¹é¡¹ç›®æ”¹ä½¿ç”¨gradleæ¥ç®¡ç†ä¾èµ–äº†ï¼Œä¸ºäº†èƒ½åŠæ—¶çš„æŠŠjarå‘å¸ƒåˆ°mavenä»“åº“ï¼Œæ‰€ä»¥å°±åˆæŠ˜è…¾äº†ä¸€éå¦‚ä½•ä½¿ç”¨gradleæ¥å‘å¸ƒè‡ªå·±çš„jaråˆ°ä¸­å¤®ä»“åº“ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹æŠ˜è…¾å’Œè¸©å‘ç»å†ï¼Œå¹¶åˆ†äº«ç»™å¤§å®¶ã€‚\nå‰æå‡†å¤‡ å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡å‘å¸ƒjaråˆ°ä»“åº“ï¼Œåˆ™éœ€è¦å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šå‘å¸ƒä¸ªäººé¡¹ç›®çš„jaråŒ…æ–‡ä»¶åˆ°mavenä¸­å¤®ä»“åº“ æ¥åˆ›å»ºå¥½sonatypeè´¦å·å¹¶ç”Ÿæˆgpg keyã€‚è¿™äº›å°±ä¸åœ¨å¦å¤–è¯´æ˜äº†ã€‚\næœ¬ç¯‡æ–‡ç« å°±æ˜¯åœ¨æˆ‘å·²ç»ä½¿ç”¨äº†mavenå‘å¸ƒè¿‡jaråˆ°ä¸­å¤®ä»“åº“ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸ŠæŠŠé¡¹ç›®è¿ç§»åˆ°gradleï¼Œç„¶åä½¿ç”¨gradleæ¥ç»§ç»­å‘å¸ƒé¡¹ç›®åˆ°ä¸­å¤®ä»“åº“ã€‚\ngradleé…ç½® è®¾ç½®å‘å¸ƒplugins æƒ³è¦æŠŠjarå‘å¸ƒçš„mavenä»“åº“éœ€è¦å…ˆå°†é¡¹ç›®çš„ä»£ç æ‰“åŒ…æˆjarï¼Œç„¶åå¯¹jarè¿›è¡Œç­¾åï¼Œæœ€åå‘å¸ƒåˆ°mavenä»“åº“ï¼Œä¸‰æ­¥å¯¹åº”ä¸‰ä¸ªæ’ä»¶ï¼š\n1 2 3 4 5 plugins { `java-library` `maven-publish` signing } ä¸Šè¾¹å°±æ·»åŠ äº†ä¸‰ä¸ªæ’ä»¶ï¼Œå°†ç”¨äºåç»­çš„å‘å¸ƒä½¿ç”¨ã€‚\né…ç½®jaræ‰“åŒ… ä¸‹è¾¹è®¾ç½®å¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…æˆjarçš„è®¾ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 tasks.jar { dependsOn(tasks.withType(GenerateMavenPom::class)) manifest { attributes(\u0026#34;Created-By\u0026#34; to \u0026#34;Gradle ${project.ext[\u0026#34;gradleVersion\u0026#34;]}\u0026#34;) } into(\u0026#34;META-INF\u0026#34;) { from(\u0026#34;$buildDir/publications/mavenJava\u0026#34;) exclude(\u0026#34;*.asc\u0026#34;) rename { it.replace(\u0026#34;pom-default.xml\u0026#34;, \u0026#34;pom.xml\u0026#34;) } } } tasks.withType\u0026lt;JavaCompile\u0026gt; { options.encoding = \u0026#34;UTF-8\u0026#34; } java { sourceCompatibility = JavaVersion.VERSION_17 targetCompatibility = JavaVersion.VERSION_17 withJavadocJar() withSourcesJar() } ä¸Šè¾¹æŒ‡å®šäº†jdkçš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”ç”Ÿæˆjavadocå’Œjava sourceæ–‡ä»¶ï¼ŒæŒ‡å®šæ‰“åŒ…çš„ç¼–ç ä»¥åŠå¯¹manifestæ–‡ä»¶å±æ€§æ·»åŠ ç­‰ä¸€ç³»åˆ—çš„æ“ä½œã€‚\né…ç½®å‘å¸ƒ ä¸»è¦æ˜¯é…ç½®ä»“åº“ï¼Œpomæ–‡ä»¶ä»¥åŠç­¾åç­‰ä¿¡æ¯ï¼Œå…ˆè´´ä¸€ä¸‹æ•´ä¸ªé…ç½®ï¼Œä¸‹é¢å•ç‹¬è®²ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 publishing { publications { create\u0026lt;MavenPublication\u0026gt;(\u0026#34;mavenJava\u0026#34;) { artifactId = project.name from(components[\u0026#34;java\u0026#34;]) /*versionMapping { usage(\u0026#34;java-api\u0026#34;) { fromResolutionOf(\u0026#34;runtimeClasspath\u0026#34;) } usage(\u0026#34;java-runtime\u0026#34;) { fromResolutionResult() } }*/ pom { name.set(project.name) description.set(\u0026#34;A concise description of my library\u0026#34;) url.set(\u0026#34;https://www.example.com/library\u0026#34;) /*properties.set(mapOf( \u0026#34;myProp\u0026#34; to \u0026#34;value\u0026#34;, \u0026#34;prop.with.dots\u0026#34; to \u0026#34;anotherValue\u0026#34; ))*/ licenses { license { name.set(\u0026#34;The Apache License, Version 2.0\u0026#34;) url.set(\u0026#34;https://www.apache.org/licenses/LICENSE-2.0.txt\u0026#34;) } } developers { developer { id.set(\u0026#34;yslao\u0026#34;) name.set(\u0026#34;yslao\u0026#34;) email.set(\u0026#34;yslao@outlook.com\u0026#34;) } } scm { connection.set(\u0026#34;scm:git:git://github.com/konghanghang/base-iminling-core.git\u0026#34;) developerConnection.set(\u0026#34;scm:git:ssh://github.com/konghanghang/base-iminling-core.git\u0026#34;) url.set(\u0026#34;https://github.com/konghanghang/base-iminling-core\u0026#34;) } } } } repositories { maven { name = \u0026#34;mavenCentral\u0026#34; // change URLs to point to your repos, e.g. http://my.org/repo // val releasesRepoUrl = uri(layout.buildDirectory.dir(\u0026#34;repos/releases\u0026#34;)) val releasesRepoUrl = uri(\u0026#34;https://oss.sonatype.org/service/local/staging/deploy/maven2/\u0026#34;) val snapshotsRepoUrl = uri(\u0026#34;https://oss.sonatype.org/content/repositories/snapshots\u0026#34;) url = if (version.toString().endsWith(\u0026#34;SNAPSHOT\u0026#34;)) snapshotsRepoUrl else releasesRepoUrl credentials { // System.getenvæ”¾åœ¨.bash_profileä¸­ // System.getPropertyå¯ä»¥æ”¾åœ¨å‘½ä»¤è¡Œä¹Ÿå¯ä»¥æ”¾åœ¨gradle.propertiesä¸­ username = System.getProperty(\u0026#34;SONATYPE_NEXUS_USERNAME\u0026#34;) password = System.getProperty(\u0026#34;SONATYPE_NEXUS_PASSWORD\u0026#34;) } } } signing { sign(publishing.publications[\u0026#34;mavenJava\u0026#34;]) } tasks.javadoc { if (JavaVersion.current().isJava9Compatible) { (options as StandardJavadocDocletOptions).addBooleanOption(\u0026#34;html5\u0026#34;, true) } (options as StandardJavadocDocletOptions).encoding(\u0026#34;UTF-8\u0026#34;) } } æ•´ä¸ªpublishingå…±åˆ†ä¸ºå››éƒ¨åˆ†ï¼š\npublications æŒ‡å®šjarçš„versionï¼ŒgroupIdå’ŒartifactIdã€‚å¦å¤–è¿˜æœ‰pomçš„ä¿¡æ¯ï¼Œè¿™ä¸ªåœ¨ä½¿ç”¨mavenå‘å¸ƒçš„æ—¶å€™ä¹Ÿè®¾ç½®è¿‡\nrepositories æŒ‡å®šä»“åº“åœ°å€ï¼Œä»¥åŠé…ç½®sonetypeçš„è´¦å·å’Œå¯†ç ï¼Œå¯ä»¥æ”¾åœ¨ç”¨æˆ·ç›®å½•çš„gradle.propertiesä¸­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 # k @ MacBook-Pro in ~/.gradle [9:30:05] $ pwd /Users/k/.gradle # k @ MacBook-Pro in ~/.gradle [9:30:06] $ ls caches gradle.properties kotlin-profile notifications wrapper daemon jdks native workers # k @ MacBook-Pro in ~/.gradle [9:30:09] $ cat gradle.properties systemProp.SONATYPE_NEXUS_USERNAME=aaa systemProp.SONATYPE_NEXUS_PASSWORD=aaa å¦‚ä¸Šåœ¨gradle.propertiesä¸­ä»¥key-valueçš„å½¢å¼è¿›è¡Œé…ç½®ã€‚å¦å¤–åŒæ—¶é…ç½®äº†å¿«ç…§ç‰ˆæœ¬çš„å‘å¸ƒåœ°å€å’Œreleaseç‰ˆæœ¬çš„å‘å¸ƒåœ°å€ï¼Œé€šè¿‡é¡¹ç›®çš„ç‰ˆæœ¬å¥½ç»“å°¾æ˜¯ä¸æ˜¯SNAPSHOTæ¥ç¡®å®šåˆ°åº•æ˜¯å‘å¸ƒåˆ°å“ªé‡Œã€‚\nsigning æŒ‡å®šç­¾åå“ªä¸ªpublicationsï¼Œåå­—è¦å’Œä¸Šè¾¹publicationsä¸­é…ç½®çš„åç§°ä¸€è‡´ã€‚å¦å¤–æœ‰ä¸€ç‚¹è¿˜éœ€è¦ç‰¹åˆ«è¿›è¡Œé…ç½®ï¼Œæˆ‘mavenå‘å¸ƒçš„æ—¶å€™ä½¿ç”¨gpgç”Ÿæˆäº†keyï¼Œåœ¨ä½¿ç”¨gradleçš„æ—¶å€™è¿˜éœ€è¦å¯¼å‡ºç§é’¥ï¼ŒåŒæ ·æ˜¯å¯¼å‡ºåˆ°ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„.gnupgç›®å½•ä¸‹ï¼Œè¿›å…¥åˆ°æ­¤ç›®å½•æ‰§è¡Œgpg --export-secret-keys -o secring.gpgÂ ï¼š\n1 2 3 4 5 6 7 8 9 10 # k @ MacBook-Pro in ~ [9:39:08] C:1 $ cd .gnupg # k @ MacBook-Pro in ~/.gnupg [9:39:13] $ ls common.conf openpgp-revocs.d public-keys.d trustdb.gpg crls.d private-keys-v1.d secring.gpg # k @ MacBook-Pro in ~/.gnupg [9:39:14] $ gpg --export-secret-keys -o secring.gpg ä¼šç”Ÿæˆä¸€ä¸ªsecring.gpgçš„æ–‡ä»¶ï¼Œè¿™æ—¶å€™éœ€è¦åœ¨/Users/k/.gradle/gradle.propertiesè¿›è¡Œé…ç½®\n1 2 3 4 5 6 7 # k @ MacBook-Pro in ~/.gradle [9:41:37] $ cat gradle.properties signing.keyId=44405DA7 signing.password=12345 signing.secretKeyRingFile=/Users/k/.gnupg/secring.gpg systemProp.SONATYPE_NEXUS_USERNAME=aa systemProp.SONATYPE_NEXUS_PASSWORD=aa ä¸Šè¾¹æœ‰ä¸‰ä¸ªå‚æ•°ï¼ŒkeyIdä½¿ç”¨gpg \u0026ndash;list-keysä¸­å±•ç¤ºå‡ºæ¥çš„pubä¸‹C87B0403E54CD05D431E5C1A7204BFB944405DA7 ä¸­çš„å8ä½ã€‚\n1 2 3 4 5 6 7 8 9 10 11 $ gpg --list-keys gpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: next trustdb check due at 2023-02-20 /c/Users/aaa/.gnupg/pubring.kbx --------------------------------- pub rsa2048 2021-02-20 [SC] [expires: 2023-02-20] C87B0403E54CD05D431E5C1A7204BFB944405DA7 uid [ultimate] ysl \u0026lt;ysl@test.com\u0026gt; sub rsa2048 2021-02-20 [E] [expires: 2023-02-20] passwordåˆ™æ˜¯ç”Ÿæˆgpg keyçš„æ—¶å€™è¾“å…¥çš„å¯†ç ï¼Œè¿™ä¸ªåœ¨mavenå‘å¸ƒçš„é‚£ç¯‡æ–‡ç« ä¸­è®²è¿‡ï¼Œæœ‰ä¸æ¸…æ¥šçš„å¯ä»¥å†å»çœ‹ä¸€ä¸‹é‚£ç¯‡æ–‡ç« ã€‚\nsecretKeyRingFileåˆ™æ˜¯åˆšæ‰ä½¿ç”¨gpgå¯¼å‡ºçš„æ–‡ä»¶ã€‚\nç­¾åç›¸å…³çš„é…ç½®å°±å·²ç»é…ç½®å®Œæˆäº†ã€‚\njavadoc è¿™ä¸ªé…ç½®ç›¸å¯¹ç®€å•ï¼ŒæŒ‡å®šç¼–ç ã€‚\nç»è¿‡ä¸Šè¾¹çš„é…ç½®åŸºæœ¬å°±å·²ç»å®Œæˆäº†ï¼Œå¯ä»¥å»å‘å¸ƒäº†ã€‚\nå‘å¸ƒ publishingä¸‹æœ‰å‡ ä¸ªé€‰é¡¹ï¼Œä¸»è¦ç”¨çš„è¿˜æ˜¯publishToMavenLocalï¼Œè¿™ä¸ªæ˜¯å‘å¸ƒåˆ°æœ¬åœ°çš„mavenä»“åº“ï¼Œå¯ä»¥åœ¨æœ¬åœ°æµ‹è¯•ä½¿ç”¨ã€‚å¦å¤–å°±æ˜¯publishç›´æ¥å¾€mavenä»“åº“ä¸­å‘å¸ƒã€‚\nåŒå‡»ä¸Šè¾¹çš„ä»»åŠ¡è¿›è¡Œè¿è¡Œï¼Œæˆ–è€…ç›´æ¥åœ¨ç»ˆç«¯ä½¿ç”¨gradle + å…·ä½“çš„å‚æ•°æ¥è¿è¡Œï¼Œæ¯”å¦‚ï¼šgradle publishToMavenLocal ã€‚\né‡åˆ°çš„é—®é¢˜ åœ¨ç»è¿‡ä¸Šè¾¹é…ç½®åå‘ç°å‘å¸ƒåˆ°mavenä»“åº“é‡Œçš„åªæœ‰.moudleçš„æ–‡ä»¶ï¼Œå¹¶æ²¡æœ‰æˆ‘ä»¬çš„jarå’Œdocç›¸å…³çš„æ–‡ä»¶ï¼Œç»è¿‡ç½‘ä¸ŠæŸ¥è¯¢æ·»åŠ ä»¥ä¸‹é…ç½®å°±å¯ä»¥äº†ï¼š\n1 2 3 4 // è§£å†³æ‰“åŒ…åç”Ÿæˆ.moduleæ–‡ä»¶ï¼Œå¯¼è‡´å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“æ—¶åªä¸Šä¼ äº†.moduleæ–‡ä»¶æ²¡æœ‰ä¸Šä¼ jaræ–‡ä»¶ tasks.withType\u0026lt;GenerateModuleMetadata\u0026gt; { enabled = false } ä»¥ä¸Šå°±æ˜¯ä½¿ç”¨gradleå‘å¸ƒjaråˆ°ä¸­å¤®ä»“åº“çš„æŠ˜è…¾è¿‡ç¨‹ã€‚\nå‚è€ƒï¼š\nPublishing a project as module\n","date":"2024-05-19T02:02:03Z","image":"https://images.iminling.com/app/hide.php?key=YmduQTFleVVSNGloQzkvRXJvK2dtcjNiZEtrUjRMSEdYRFVzeitxNXUrNzVPeFpRQ2pBVzBlU2I4dGtPRWUxeWFZNWJQdzg9","permalink":"https://konghanghang.github.io/iminling-pages/2024/gradle-kts-push-jar-to-maven-central/","title":"ä½¿ç”¨gradle ktsè„šæœ¬å‘å¸ƒä¸ªäººé¡¹ç›®çš„jaråŒ…æ–‡ä»¶åˆ°mavenä¸­å¤®ä»“åº“"},{"content":"è‡ªå·±æœ‰ä¸€ä¸ªé¡¹ç›®æƒ³è¦åœ¨ä»»ä½•æœºå™¨ä¸Šéƒ½èƒ½å¼•ç”¨åˆ°ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯åœ¨æ‰€è¦ä½¿ç”¨çš„æœºå™¨ä¸ŠæŠŠé¡¹ç›®ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åinstallåˆ°æœ¬åœ°ä»“åº“ï¼Œä½†æ˜¯å¦‚ä½•ç›´æ¥é€šè¿‡å¼•ç”¨åæ ‡å°±èƒ½å¼•ç”¨åˆ°å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯å‘å¸ƒåˆ°mavençš„ä¸­å¤®ä»“åº“ï¼Œè¿™æ ·å­æ— è®ºä½ åœ¨ä»€ä¹ˆæœºå™¨ä¸Šï¼Œåªè¦èƒ½ä¸Šç½‘è¾“å…¥gavä¸‰ä¸ªåæ ‡å°±å¯ä»¥å¼•å…¥äº†ã€‚è¿™ç¯‡æ–‡ç« å°±ä»‹ç»ä¸€ä¸‹è‡ªå·±é¡¹ç›®æ‰“æˆjaråŒ…å¹¶å‘å¸ƒåˆ°mavenä¸­å¤®ä»“åº“çš„å®Œæ•´è¿‡ç¨‹ã€‚macå®‰è£…mavenå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šMacä½¿ç”¨Homebrewå®‰è£…mavenç¯å¢ƒã€‚\nè´¦å·æ³¨å†Œ é¦–å…ˆæˆ‘ä»¬è¦å…ˆæ³¨å†Œsonatypeè´¦å·ï¼Œè®¿é—®åœ°å€sonatypeè¾“å…¥å¿…é¡»çš„å†…å®¹å°±å¯ä»¥æˆåŠŸæ³¨å†Œä¸€ä¸ªè´¦å·,ä¸è¿‡å¯¹å¯†ç å°±æœ‰ä¸€äº›ç‰¹æ®Šçš„å®‰å…¨è¦æ±‚ï¼Œæ­£ç¡®æ³¨å†Œå°±å¯ä»¥äº†ã€‚\nsonatypeå·¥å• æ–°å»ºå·¥å• ç‚¹å‡»æ–°å»ºæŒ‰é’®ï¼Œé¡¹ç›®é€‰æ‹©opençš„é‚£ä¸ªï¼Œé—®é¢˜ç±»å‹é€‰æ‹©new projectï¼Œæ¦‚è¦ï¼Œæè¿°éšä¾¿å†™å°±okäº†\næ‘˜è¦æ ¹æ®è‡ªå·±éœ€è¦å¡«å†™ï¼Œæˆ‘è¿™é‡Œå¡«å†™çš„æ˜¯é¡¹ç›®çš„åç§°ã€‚\ngroup idå°±æ˜¯mavenåæ ‡çš„åç§°ï¼Œä¸€èˆ¬æ˜¯åŸŸååè½¬è¿‡æ¥ã€‚ä¾‹å¦‚æˆ‘çš„åŸŸåæ˜¯iminling.com,åˆ™è¿™é‡Œå¡«å†™com.imining.\nproject URLåˆ™æ˜¯githubçš„ä»“åº“åœ°å€ï¼Œæˆ–è€…å…¶ä»–ä»£ç ä»“åº“çš„åœ°å€ã€‚\nSCM urlå°±æ˜¯åœ¨project URLåè¾¹åŠ ä¸Š.git\nå…¶ä»–çš„é»˜è®¤å°±å¯ä»¥äº†ï¼Œåˆ›å»ºã€‚æ–°å»ºå®Œæˆåå¦‚ä¸‹å›¾ï¼š\næ·»åŠ TXTè®°å½• å¦‚ä¸Šè¾¹çš„å›¾æ‰€ç¤ºï¼Œå®ƒä¸ºäº†éªŒè¯ä½ æ˜¯åŸŸåçš„æ‰€æœ‰è€…ï¼Œä¼šè®©ä½ å»è§£æä¸€æ¡txtè®°å½•ã€‚ä¸¤ç§æ–¹æ¡ˆé€‰ä¸€ç§å°±å¯ä»¥äº†ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯æ·»åŠ ä¸€æ¡txtçš„è®°å½•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘è¿™é‡Œæ˜¯ä¸æ¸…æ¥šè§„åˆ™ï¼Œæäº¤äº†ä¸¤ä¸ªå·¥å•ï¼Œæ‰€ä»¥æ·»åŠ äº†ä¸¤æ¡è®°å½•ï¼Œæœ€åå…¶ä¸­ä¸€ä¸ªå·¥å•è¢«è®¤ä¸ºæ˜¯é‡å¤æäº¤ï¼Œå·²å…³é—­ã€‚å…¶ä¸­è®°å½•å€¼å¡«å†™ä½ çš„å·¥å•åœ°å€ï¼Œä¸‹å›¾ä¸­æ¡†ä½çš„éƒ¨åˆ†ï¼Œä¸»æœºè®°å½•å°±æ˜¯jira tiket.\nè¿™é‡Œtxtè§£æçš„å€¼æ¥æºå°±æ˜¯ä½ çš„é—®é¢˜urlï¼Œå¦‚ä¸‹ï¼š\nè§£æå®Œåå°±å¯ä»¥å†ç­‰å¾…å®¡æ ¸äº†ï¼Œæˆ‘çš„å¤§æ¦‚æ˜¯å‡Œæ™¨3ç‚¹è¿›è¡Œçš„å®¡æ ¸ï¼Œé€šè¿‡ä»¥åä¼šæœ‰é‚®ä»¶é€šçŸ¥ï¼Œå·¥å•ä¸‹è¾¹ä¹Ÿæœ‰è¯„è®º,æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥å‡†å¤‡å‘å¸ƒæˆ‘ä»¬çš„jaråŒ…äº†ã€‚\n1 2 3 4 5 6 7 8 com.iminling has been prepared, now user(s) yslaoo can: Publish snapshot and release artifacts to https://oss.sonatype.org Have a look at this section of our official guide for deployment instructions: https://central.sonatype.org/pages/ossrh-guide.html#deployment Please comment on this ticket when you\u0026#39;ve released your first component(s), so we can activate the sync to Maven Central. Depending on your build configuration, this might happen automatically. If not, you can follow the steps in this section of our guide: https://central.sonatype.org/pages/releasing-the-deployment.html å‘å¸ƒå‡†å¤‡ gpgå®‰è£… macå¯ä»¥ä½¿ç”¨ç”¨brewè¿›è¡Œå®‰è£… brew install gpgå°±å¯ä»¥äº†ã€‚\nwindowså®‰è£…äº†gitå®¢æˆ·ç«¯å°±è‡ªå¸¦äº†è¿™ä¸ªåŠŸèƒ½ã€‚\næ£€æŸ¥è‡ªå·±çš„gpgçš„ç‰ˆæœ¬ï¼Œæœ‰äº›æ˜¯gpgï¼Œæœ‰äº›åˆ™éœ€è¦è¾“å…¥gpg2.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # æˆ–è€…ä½¿ç”¨gpg2 --version å°±çœ‹è‡ªå·±çš„ç”µè„‘ä¸Šå“ªä¸ªå‘½ä»¤å¯ä»¥è¿è¡Œ $ gpg --version gpg (GnuPG) 2.2.13-unknown libgcrypt 1.8.4 Copyright (C) 2019 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u0026lt;https://gnu.org/licenses/gpl.html\u0026gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Home: /c/Users Supported algorithms: Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH, CAMELLIA128, CAMELLIA192, CAMELLIA256 Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224 Compression: Uncompressed, ZIP, ZLIB, BZIP2 ç”Ÿæˆkey ä¸è®ºæ˜¯macè¿˜æ˜¯windowséƒ½æ˜¯ä½¿ç”¨å‘½ä»¤gpg --gen-keyæ¥ç”Ÿæˆã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 $ gpg --gen-key gpg (GnuPG) 2.2.27; Copyright (C) 2021 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. æ³¨æ„ï¼šä½¿ç”¨ â€œgpg --full-generate-keyâ€ ä»¥è·å¾—ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¯†é’¥äº§ç”Ÿå¯¹è¯æ¡†ã€‚ GnuPG éœ€è¦æ„å»ºç”¨æˆ·æ ‡è¯†ä»¥è¾¨è®¤æ‚¨çš„å¯†é’¥ã€‚ çœŸå®å§“åï¼š yslaoo ç”µå­é‚®ä»¶åœ°å€ï¼š ysl@test.com æ‚¨é€‰å®šäº†æ­¤ç”¨æˆ·æ ‡è¯†ï¼š â€œysl \u0026lt;ysl@test.com\u0026gt;â€ æ›´æ”¹å§“åï¼ˆNï¼‰ã€æ³¨é‡Šï¼ˆCï¼‰ã€ç”µå­é‚®ä»¶åœ°å€ï¼ˆEï¼‰æˆ–ç¡®å®šï¼ˆOï¼‰/é€€å‡ºï¼ˆQï¼‰ï¼Ÿ O æˆ‘ä»¬éœ€è¦ç”Ÿæˆå¤§é‡çš„éšæœºå­—èŠ‚ã€‚åœ¨è´¨æ•°ç”ŸæˆæœŸé—´åšäº›å…¶ä»–æ“ä½œï¼ˆæ•²æ‰“é”®ç›˜ ã€ç§»åŠ¨é¼ æ ‡ã€è¯»å†™ç¡¬ç›˜ä¹‹ç±»çš„ï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼›è¿™ä¼šè®©éšæœºæ•° å‘ç”Ÿå™¨æœ‰æ›´å¥½çš„æœºä¼šè·å¾—è¶³å¤Ÿçš„ç†µã€‚ æˆ‘ä»¬éœ€è¦ç”Ÿæˆå¤§é‡çš„éšæœºå­—èŠ‚ã€‚åœ¨è´¨æ•°ç”ŸæˆæœŸé—´åšäº›å…¶ä»–æ“ä½œï¼ˆæ•²æ‰“é”®ç›˜ ã€ç§»åŠ¨é¼ æ ‡ã€è¯»å†™ç¡¬ç›˜ä¹‹ç±»çš„ï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼›è¿™ä¼šè®©éšæœºæ•° å‘ç”Ÿå™¨æœ‰æ›´å¥½çš„æœºä¼šè·å¾—è¶³å¤Ÿçš„ç†µã€‚ gpg: /Users/aaa/.gnupg/trustdb.gpgï¼šå»ºç«‹äº†ä¿¡ä»»åº¦æ•°æ®åº“ gpg: å¯†é’¥ 84040E735F931A32 è¢«æ ‡è®°ä¸ºç»å¯¹ä¿¡ä»» gpg: ç›®å½•â€˜/Users/aaa/.gnupg/openpgp-revocs.dâ€™å·²åˆ›å»º gpg: åŠé”€è¯ä¹¦å·²è¢«å­˜å‚¨ä¸ºâ€˜/Users/aaa/.gnupg/openpgp-revocs.d/DD1E1B8213D07DA46FC3F2B684040E735F931A32.revâ€™ å…¬é’¥å’Œç§é’¥å·²ç»ç”Ÿæˆå¹¶è¢«ç­¾åã€‚ pub rsa3072 2021-02-20 [SC] [æœ‰æ•ˆè‡³ï¼š2023-02-20] DD1E1B8213A07DA46FC3F2B684040E735F931A32 uid yslao \u0026lt;yslao@outlook.com\u0026gt; sub rsa3072 2021-02-20 [E] [æœ‰æ•ˆè‡³ï¼š2023-02-20] æœŸé—´ä¼šè®©è¾“å…¥å¯†ç ï¼Œç‰¢è®°å¯†ç ï¼Œåè¾¹ä¼šä½¿ç”¨ã€‚\nkeyæ“ä½œ ç”Ÿæˆkeyåéœ€è¦å‘å¸ƒkeyåˆ°å…¬æœ‰æœåŠ¡å™¨ã€‚\nå…ˆæŸ¥çœ‹keyï¼š\n1 2 3 4 5 6 7 8 9 10 11 $ gpg --list-keys gpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u gpg: next trustdb check due at 2023-02-20 /c/Users/aaa/.gnupg/pubring.kbx --------------------------------- pub rsa2048 2021-02-20 [SC] [expires: 2023-02-20] C87B0403E54CD05D431E5C1A7204BFB944405DA7 uid [ultimate] ysl \u0026lt;ysl@test.com\u0026gt; sub rsa2048 2021-02-20 [E] [expires: 2023-02-20] ç„¶åå‘å¸ƒï¼š\n1 2 3 # å‘½ä»¤æ ¼å¼ï¼šgpg --keyserver [keyçš„æœåŠ¡å™¨](è¿™ä¸ªæœ‰å¾ˆå¤šï¼Œéšä¾¿æ‰¾ä¸€ä¸ªå°±è¡Œäº†) --send-keys [key] keyå°±æ˜¯æŸ¥çœ‹keyæ“ä½œä¸­pubå¯¹åº”çš„é‚£ä¸²å­—ç¬¦ä¸² $ gpg --keyserver hkp://keyserver.ubuntu.com:11371 --send-keys C87B0403E54CD05D431E5C1A7204BFB944405DA7 gpg: sending key 7204BFB944405DA7 to hkp://keyserver.ubuntu.com:11371 Distribution ç®¡ç† ä¿®æ”¹pom.xml, æ·»åŠ ä»¥ä¸‹ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 \u0026lt;!--çˆ¶çº§æ˜¯project--\u0026gt; \u0026lt;distributionManagement\u0026gt; \u0026lt;snapshotRepository\u0026gt; \u0026lt;id\u0026gt;ossrh\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;https://oss.sonatype.org/content/repositories/snapshots\u0026lt;/url\u0026gt; \u0026lt;/snapshotRepository\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;ossrh\u0026lt;/id\u0026gt; \u0026lt;url\u0026gt;https://oss.sonatype.org/service/local/staging/deploy/maven2/\u0026lt;/url\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/distributionManagement\u0026gt; \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.sonatype.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;nexus-staging-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.6.7\u0026lt;/version\u0026gt; \u0026lt;extensions\u0026gt;true\u0026lt;/extensions\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;serverId\u0026gt;ossrh\u0026lt;/serverId\u0026gt; \u0026lt;nexusUrl\u0026gt;https://oss.sonatype.org/\u0026lt;/nexusUrl\u0026gt; \u0026lt;autoReleaseAfterClose\u0026gt;true\u0026lt;/autoReleaseAfterClose\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; è®¤è¯é…ç½® åœ¨setting.xmlä¸­æ·»åŠ è®¤è¯ä¿¡æ¯,æ­¤å¤„çš„idè¦å’Œpomæ–‡ä»¶ä¸­çš„distributionManagementä¸‹snapshotRepositoryå’Œrepositoryçš„idä¿æŒä¸€è‡´.\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;settings\u0026gt; \u0026lt;servers\u0026gt; \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;ossrh\u0026lt;/id\u0026gt; \u0026lt;!-- usernameå°±æ˜¯æ³¨å†Œsonatypeæ—¶çš„username --\u0026gt; \u0026lt;username\u0026gt;your-jira-id\u0026lt;/username\u0026gt; \u0026lt;!-- passwordå°±æ˜¯æ³¨å†Œsonatypeæ—¶çš„password --\u0026gt; \u0026lt;password\u0026gt;your-jira-pwd\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; \u0026lt;/servers\u0026gt; \u0026lt;/settings\u0026gt; javadocå’Œæºä»£ç é…ç½® åœ¨pom.xmlä¸­æ·»åŠ é…ç½®å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-source-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.2.1\u0026lt;/version\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id\u0026gt;attach-sources\u0026lt;/id\u0026gt; \u0026lt;goals\u0026gt; \u0026lt;goal\u0026gt;jar-no-fork\u0026lt;/goal\u0026gt; \u0026lt;/goals\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-javadoc-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.9.1\u0026lt;/version\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id\u0026gt;attach-javadocs\u0026lt;/id\u0026gt; \u0026lt;goals\u0026gt; \u0026lt;goal\u0026gt;jar\u0026lt;/goal\u0026gt; \u0026lt;/goals\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; gpgç­¾åé…ç½® åœ¨pomä¸­æ·»åŠ gpgæ’ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-gpg-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.5\u0026lt;/version\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id\u0026gt;sign-artifacts\u0026lt;/id\u0026gt; \u0026lt;phase\u0026gt;verify\u0026lt;/phase\u0026gt; \u0026lt;goals\u0026gt; \u0026lt;goal\u0026gt;sign\u0026lt;/goal\u0026gt; \u0026lt;/goals\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;/plugin\u0026gt; åœ¨setting.xmlä¸­æ·»åŠ gpg profileé…ç½®,gpg.executableå±æ€§è¦æ ¹æ®è‡ªå·±çš„ç”µè„‘ç¯å¢ƒè¿›è¡Œæ·»åŠ .\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;settings\u0026gt; \u0026lt;profiles\u0026gt; \u0026lt;profile\u0026gt; \u0026lt;id\u0026gt;ossrh\u0026lt;/id\u0026gt; \u0026lt;activation\u0026gt; \u0026lt;activeByDefault\u0026gt;true\u0026lt;/activeByDefault\u0026gt; \u0026lt;/activation\u0026gt; \u0026lt;properties\u0026gt; \u0026lt;!--è¿™é‡Œæ ¹æ®å®é™…æƒ…å†µå¡«å†™gpgæˆ–gpg2,çœ‹è‡ªå·±çš„ç¯å¢ƒèƒ½ä½¿ç”¨å“ªä¸ªå‘½ä»¤--\u0026gt; \u0026lt;gpg.executable\u0026gt;gpg2\u0026lt;/gpg.executable\u0026gt; \u0026lt;!--passphraseå°±æ˜¯æˆ‘ä»¬åœ¨gpgå®‰è£…ç”Ÿæˆkeyçš„æ—¶å€™è®¾ç½®çš„--\u0026gt; \u0026lt;gpg.passphrase\u0026gt;the_pass_phrase\u0026lt;/gpg.passphrase\u0026gt; \u0026lt;/properties\u0026gt; \u0026lt;/profile\u0026gt; \u0026lt;/profiles\u0026gt; \u0026lt;/settings\u0026gt; Nexus Staging Mavenæ’ä»¶ï¼Œç”¨äºéƒ¨ç½²å’Œå‘å¸ƒ åœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.sonatype.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;nexus-staging-maven-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.6.7\u0026lt;/version\u0026gt; \u0026lt;extensions\u0026gt;true\u0026lt;/extensions\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;serverId\u0026gt;ossrh\u0026lt;/serverId\u0026gt; \u0026lt;nexusUrl\u0026gt;https://oss.sonatype.org/\u0026lt;/nexusUrl\u0026gt; \u0026lt;autoReleaseAfterClose\u0026gt;true\u0026lt;/autoReleaseAfterClose\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; ç»è¿‡ä¸Šè¾¹æ“ä½œï¼Œå‡†å¤‡å·¥ä½œå·²å®Œæ¯•ï¼Œä¸‹è¾¹å°±å¯ä»¥å¼€å§‹å‘å¸ƒjaråŒ…äº†ã€‚\nå‘å¸ƒ æ‰€æœ‰çš„å‘å¸ƒæ“ä½œç¡®ä¿gpgå‘½ä»¤æ˜¯å¯ä»¥ç”¨çš„,åœ¨windowsä¸‹è¿›è¡Œå‘å¸ƒä¸€å®šè¦æ³¨æ„æ˜¯åœ¨git bashå®¢æˆ·ç«¯ä¸­è¿›è¡Œ,ä»¥ç¡®ä¿gpgå¯ä»¥ä½¿ç”¨.ä»¥åŠå‘å¸ƒè¿‡ç¨‹ä¸­å¯èƒ½ä¼šè®©ä½ å†æ¬¡è¾“å…¥gpgçš„å¯†ç ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚\nå¿«ç…§ç‰ˆæœ¬ é¡¹ç›®çš„ç‰ˆæœ¬å¦‚æœæ˜¯ä»¥-SNAPSHOTç»“å°¾çš„,å°±ä¼šå‘å¸ƒåˆ°å¿«ç…§ä»“åº“,å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 D:\\project\\idea\\base-iminling-parent\u0026gt;mvn clean deploy INFO] Scanning for projects... [WARNING] [WARNING] Some problems were encountered while building the effective model for com.iminling:base-iminling-parent:pom:1.0.0-SNAPSHOT [WARNING] \u0026#39;build.pluginManagement.plugins.plugin.(groupId:artifactId)\u0026#39; must be unique but found duplicate declaration of plugin org.sonatype.plugins:nexus-staging- maven-plugin @ line 326, column 25 [WARNING] [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build. [WARNING] [WARNING] For this reason, future Maven versions might no longer support building such malformed projects. [WARNING] [INFO] [INFO] -----------------\u0026lt; com.iminling:base-iminling-parent \u0026gt;------------------ [INFO] Building base-iminling-parent 1.0.0-SNAPSHOT [INFO] --------------------------------[ pom ]--------------------------------- [INFO] [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ base-iminling-parent --- [INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ base-iminling-parent --- [INFO] Installing D:\\project\\idea\\base-iminling-parent\\pom.xml to D:\\maven-repository\\com\\iminling\\base-iminling-parent\\1.0.0-SNAPSHOT\\base-iminling-parent-1.0.0-S NAPSHOT.pom [INFO] [INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ base-iminling-parent --- Downloading from ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/1.0.0-SNAPSHOT/maven-metadata.xml Uploading to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/1.0.0-SNAPSHOT/base-iminling-parent-1.0.0-20210220.03 4207-1.pom Uploaded to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/1.0.0-SNAPSHOT/base-iminling-parent-1.0.0-20210220.034 207-1.pom (14 kB at 4.8 kB/s) Downloading from ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/maven-metadata.xml Uploading to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/1.0.0-SNAPSHOT/maven-metadata.xml Uploaded to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/1.0.0-SNAPSHOT/maven-metadata.xml (609 B at 263 B/s) Uploading to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/maven-metadata.xml Uploaded to ossrh: https://oss.sonatype.org/content/repositories/snapshots/com/iminling/base-iminling-parent/maven-metadata.xml (292 B at 54 B/s) [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 15.105 s [INFO] Finished at: 2021-05-20T11:42:18+08:00 [INFO] ------------------------------------------------------------------------ releaseç‰ˆæœ¬ é¡¹ç›®çš„ç‰ˆæœ¬ä¸æ˜¯ä»¥-SNAPSHOTç»“å°¾çš„,å°±ä¼šå‘å¸ƒåˆ°releaseä»“åº“,å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 D:\\project\\idea\\base-iminling-parent\u0026gt;mvn clean deploy [INFO] Scanning for projects... [WARNING] [WARNING] Some problems were encountered while building the effective model for com.iminling:base-iminling-parent:pom:1.0.0 [WARNING] \u0026#39;build.pluginManagement.plugins.plugin.(groupId:artifactId)\u0026#39; must be unique but found duplicate declaration of plugin org.sonatype.plugins:nexus-staging- maven-plugin @ line 326, column 25 [WARNING] [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build. [WARNING] [WARNING] For this reason, future Maven versions might no longer support building such malformed projects. [WARNING] [INFO] [INFO] -----------------\u0026lt; com.iminling:base-iminling-parent \u0026gt;------------------ [INFO] Building base-iminling-parent 1.0.0 [INFO] --------------------------------[ pom ]--------------------------------- [INFO] [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ base-iminling-parent --- [INFO] [INFO] --- maven-install-plugin:2.4:install (default-install) @ base-iminling-parent --- [INFO] Installing D:\\project\\idea\\base-iminling-parent\\pom.xml to D:\\maven-repository\\com\\iminling\\base-iminling-parent\\1.0.0\\base-iminling-parent-1.0.0.pom [INFO] [INFO] --- maven-deploy-plugin:2.7:deploy (default-deploy) @ base-iminling-parent --- Uploading to ossrh: https://oss.sonatype.org/service/local/staging/deploy/maven2/com/iminling/base-iminling-parent/1.0.0/base-iminling-parent-1.0.0.pom Uploaded to ossrh: https://oss.sonatype.org/service/local/staging/deploy/maven2/com/iminling/base-iminling-parent/1.0.0/base-iminling-parent-1.0.0.pom (14 kB at 59 7 B/s) Downloading from ossrh: https://oss.sonatype.org/service/local/staging/deploy/maven2/com/iminling/base-iminling-parent/maven-metadata.xml Uploading to ossrh: https://oss.sonatype.org/service/local/staging/deploy/maven2/com/iminling/base-iminling-parent/maven-metadata.xml Uploaded to ossrh: https://oss.sonatype.org/service/local/staging/deploy/maven2/com/iminling/base-iminling-parent/maven-metadata.xml (312 B at 51 B/s) [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 32.049 s [INFO] Finished at: 2021-02-20T14:11:23+08:00 [INFO] ------------------------------------------------------------------------ é‡åˆ°çš„é—®é¢˜ åœ¨macä¸Šè¿›è¡Œå‘å¸ƒçš„æ—¶å€™é‡åˆ°ä¸‹è¾¹é—®é¢˜ï¼š\n1 2 3 4 5 6 7 8 9 [INFO] --- maven-gpg-plugin:1.5:sign (sign-artifacts) @ base-iminling-parent --- gpg: ç­¾åæ—¶å¤±è´¥ï¼š Inappropriate ioctl for device gpg: signing failed: Inappropriate ioctl for device [INFO] ------------------------------------------------------------------------ [INFO] BUILD FAILURE [INFO] ------------------------------------------------------------------------ [INFO] Total time: 17.069 s [INFO] Finished at: 2021-02-21T09:36:03+08:00 [INFO] ------------------------------------------------------------------------ ä¸Šç½‘æŸ¥è¯¢åï¼ŒåŸå› æ˜¯ gpg åœ¨å½“å‰ç»ˆç«¯æ— æ³•å¼¹å‡ºå¯†ç è¾“å…¥é¡µé¢ã€‚\nè§£å†³åŠæ³•å¾ˆç®€å•åœ¨ç»ˆç«¯æ‰§è¡Œexport GPG_TTY=$(tty) ã€‚é‡æ–°æ‰§è¡Œï¼Œå‘ç°ä¼šå¼¹å‡ºä¸€ä¸ªå¯†ç è¾“å…¥ç•Œé¢ã€‚\nåŒæ­¥ä¸­å¤®ä»“åº“ å‘å¸ƒåæˆ‘ä»¬è¿˜éœ€è¦åœ¨sonatypeä¸­é—®é¢˜ä¸‹æ–¹è¿›è¡Œè¯„è®º,æ¥æ¿€æ´»åŒæ­¥åˆ°mavenä¸­å¿ƒä»“åº“.\nåç»­çš„releaseå°±å¯ä»¥åŒæ­¥åˆ°mavenä»“åº“äº†ã€‚\nç‰ˆæœ¬å¼•ç”¨ release æ­£å¸¸ä½¿ç”¨gavä¸‰ä¸ªåæ ‡æ¥å¼•å…¥å°±å¯ä»¥äº†ã€‚å¯èƒ½åˆšå‘å¸ƒçš„å¹¶æ²¡æœ‰åŒæ­¥åˆ°æ‰€æœ‰çš„ä»“åº“ï¼Œéœ€è¦ç­‰å¾…åŒæ­¥ï¼Œä¾‹å¦‚å¯ä»¥å»é˜¿é‡Œä»“åº“é‡Œæœç´¢å‡ éï¼Œè®©å®ƒå»åŒæ­¥ã€‚\nå¿«ç…§ç‰ˆæœ¬ å¿«ç…§ç‰ˆæœ¬éœ€è¦å¼•å…¥ä»“åº“åœ°å€ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 \u0026lt;!--å®šä¹‰snapshotsåº“çš„åœ°å€--\u0026gt; \u0026lt;repositories\u0026gt; \u0026lt;repository\u0026gt; \u0026lt;id\u0026gt;sonatype-snapshots\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;sonatype-snapshots\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;https://oss.sonatype.org/content/repositories/snapshots/\u0026lt;/url\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled\u0026gt;true\u0026lt;/enabled\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;/repository\u0026gt; \u0026lt;/repositories\u0026gt; \u0026lt;!--ç»æµ‹è¯•,ä¸è¦ä¸‹è¾¹çš„åº”è¯¥ä¹Ÿæ˜¯å¯ä»¥çš„,ç•™ç€åšä¸æ—¶ä¹‹éœ€--\u0026gt; \u0026lt;pluginRepositories\u0026gt; \u0026lt;pluginRepository\u0026gt; \u0026lt;id\u0026gt;sonatype-snapshots\u0026lt;/id\u0026gt; \u0026lt;name\u0026gt;sonatype-snapshots\u0026lt;/name\u0026gt; \u0026lt;url\u0026gt;https://oss.sonatype.org/content/repositories/snapshots/\u0026lt;/url\u0026gt; \u0026lt;snapshots\u0026gt; \u0026lt;enabled\u0026gt;true\u0026lt;/enabled\u0026gt; \u0026lt;/snapshots\u0026gt; \u0026lt;/pluginRepository\u0026gt; \u0026lt;/pluginRepositories\u0026gt; ä¸Šè¾¹å°±æ˜¯é€šè¿‡mavenå‘å¸ƒjaråŒ…åˆ°mavenä¸­å¤®ä»“åº“çš„çš„è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚\n","date":"2024-05-08T14:33:57Z","image":"https://images.iminling.com/app/hide.php?key=VmhUVjAvWExidzB3U04rbmdWZjJwRG54MDgvZkZYZjZjdFYxNXNXbHlXVlU1MmRGVVJmeFpEV0FFeXBQbkdHbXpVMDA5TW89","permalink":"https://konghanghang.github.io/iminling-pages/2024/push-jar-to-maven-central/","title":"å‘å¸ƒä¸ªäººé¡¹ç›®çš„jaråŒ…æ–‡ä»¶åˆ°mavenä¸­å¤®ä»“åº“"},{"content":"ç½‘ç»œæµ‹é€Ÿç›¸ä¿¡å¾ˆå¤šäººéƒ½ä½¿ç”¨è¿‡ï¼Œæƒ³è¦çœ‹çœ‹è‡ªå·±å®¶é‡Œçš„å®½å¸¦ç½‘é€Ÿæ€ä¹ˆæ ·ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æœç´¢æµ‹é€Ÿç½‘ï¼Œç„¶åç­‰ç»“æœå‡ºæ¥å°±å¯ä»¥äº†ï¼Œæ¯”è¾ƒç®€å•ã€‚ä»Šå¤©è¦ä»‹ç»çš„ä¸»è§’æ˜¯ï¼šiperf3,ç”±äºç»å¸¸è¦å’Œvpsæ‰“äº¤åˆ°ï¼Œæƒ³è¦æµ‹è¯•æœ¬åœ°åˆ°æœåŠ¡å™¨çš„é€Ÿåº¦ï¼Œä½¿ç”¨iperf3ä¼šæ›´å‡†ç¡®ä¸€ç‚¹ï¼Œæ¥ä¸‹æ¥å°±ä»‹ç»ä¸€ä¸‹iperf3ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨iperf3æ¥è¿›è¡Œæµ‹è¯•é€Ÿåº¦ã€‚\niperf3æ˜¯ä»€ä¹ˆ iPerf3 æ˜¯ä¸€ç§ä¸»åŠ¨æµ‹é‡ IP ç½‘ç»œä¸Šå¯å®ç°çš„æœ€å¤§å¸¦å®½çš„å·¥å…·ã€‚ å®ƒæ”¯æŒè°ƒæ•´ä¸è®¡æ—¶ã€ç¼“å†²åŒºå’Œåè®®ï¼ˆTCPã€UDPã€SCTP ä¸ IPv4 å’Œ IPv6ï¼‰ç›¸å…³çš„å„ç§å‚æ•°ã€‚ å¯¹äºæ¯æ¬¡æµ‹è¯•ï¼Œå®ƒéƒ½ä¼šæŠ¥å‘Šå¸¦å®½ã€æŸè€—å’Œå…¶ä»–å‚æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ª C/S ç±»å‹çš„æµ‹é€Ÿå·¥å…·ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå¼€æ”¾æŸä¸ªç«¯å£ï¼Œç„¶ååœ¨å®¢æˆ·æœºä¸Šè¿æ¥è¯¥æœåŠ¡å™¨å¯¹åº”çš„ç«¯å£ï¼Œå°±å¯ä»¥å¼€å§‹è¿›è¡Œ tcp æˆ– udp çš„ä¸‹è½½é€Ÿåº¦äº†\niperf3å®‰è£… iperf3çš„å®˜ç½‘ä¹Ÿè¯¦ç»†ä»‹ç»äº†å‡ ç§æ“ä½œå¹³å°çš„å®‰è£…ï¼Œå…·ä½“çš„åœ°å€ï¼šå®‰è£…iperf3ã€‚ä¸‹è¾¹è¯´æ˜ä¸€ä¸‹å‡ ç§æ“ä½œç³»ç»Ÿçš„å®‰è£…ã€‚\nWindows ç›´æ¥å»å®˜æ–¹ä¸‹è½½åœ°å€ï¼šbudman.pwæˆ–è€…githubå»ä¸‹è½½å®‰è£…æ–‡ä»¶,ä¸‹è½½æœ€æ–°çš„å°±å¯ä»¥äº†ã€‚\nMac OS macå¯ä»¥ä½¿ç”¨homebrewæ¥è¿›è¡Œå®‰è£…ï¼Œå¦‚æœè¿˜æ²¡æœ‰å®‰è£…homebrewå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« æ¥è¿›è¡Œå®‰è£…ï¼šMacæ›´æ¢æºæ›´å¿«é€Ÿçš„å®‰è£…Homebrew.ç„¶åé€šè¿‡å‘½ä»¤brew install iperf3ã€‚\nUbuntu/Debian ä½¿ç”¨å‘½ä»¤ï¼šsudo apt-get install iperf3è¿›è¡Œå®‰è£…ã€‚å¦‚æœå½“å‰ç”¨æˆ·æ˜¯rootç”¨æˆ·ï¼Œåˆ™å¯ä»¥çœç•¥sudo.\nCentos/Red hat ä½¿ç”¨å‘½ä»¤ï¼šyum install iperf3è¿›è¡Œå®‰è£…ã€‚\niperf3ä½¿ç”¨ iperf3åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å¼€æ”¾ç«¯å£ï¼Œå®¢æˆ·ç«¯åˆ™è¿ä¸Šå¯¹åº”çš„ç«¯å£è¿›è¡Œå‘åŒ…ï¼Œè¾¾åˆ°æµ‹é€Ÿã€‚ä¸‹è¾¹æ¥ä½¿ç”¨å‘½ä»¤æ¥å¿«é€Ÿçš„è¿›è¡Œä¸€è½®æµ‹é€Ÿï¼š\næœåŠ¡ç«¯ æœåŠ¡ç«¯æ‰§è¡Œå‘½ä»¤iperf3 -s -p 1111å°±å¯åŠ¨äº†ï¼š\n1 2 3 4 root@docker:~# iperf3 -s -p 1111 ----------------------------------------------------------- Server listening on 1111 (test #1) ----------------------------------------------------------- æœåŠ¡ç«¯å¼€å¯1111ç«¯å£åå°±ç­‰å¾…å®¢æˆ·ç«¯è¿ä¸Šæ¥ã€‚\nå®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ‰§è¡Œå‘½ä»¤iperf3 -c 192.168.1.222 -p 1111 -i 1 -t 10 ,å…¶ä¸­192.168.1.222æ˜¯ä½ æœåŠ¡ç«¯æ‰€åœ¨æœåŠ¡å™¨çš„ipï¼Œæ‰§è¡Œåå®¢æˆ·ç«¯è¾“å‡ºå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 $ iperf3 -c 192.168.1.222 -p 1111 -i 1 -t 10 Connecting to host 192.168.1.222, port 1111 Reverse mode, remote host 192.168.1.222 is sending [ 5] local 192.168.1.10 port 56431 connected to 192.168.1.222 port 1111 [ ID] Interval Transfer Bitrate [ 5] 0.00-1.00 sec 52.1 MBytes 435 Mbits/sec [ 5] 1.00-2.00 sec 67.4 MBytes 567 Mbits/sec [ 5] 2.00-3.00 sec 58.6 MBytes 492 Mbits/sec [ 5] 3.00-4.00 sec 71.4 MBytes 600 Mbits/sec [ 5] 4.00-5.00 sec 69.2 MBytes 579 Mbits/sec [ 5] 5.00-6.00 sec 69.8 MBytes 586 Mbits/sec [ 5] 6.00-7.00 sec 67.5 MBytes 568 Mbits/sec [ 5] 7.00-8.00 sec 70.9 MBytes 593 Mbits/sec [ 5] 8.00-9.00 sec 73.1 MBytes 613 Mbits/sec [ 5] 9.00-10.00 sec 73.1 MBytes 613 Mbits/sec - - - - - - - - - - - - - - - - - - - - - - - - - [ ID] Interval Transfer Bitrate Retr [ 5] 0.00-10.03 sec 676 MBytes 565 Mbits/sec 2 sender [ 5] 0.00-10.00 sec 673 MBytes 564 Mbits/sec receiver iperf Done. ä¸€æ¬¡æµ‹é€Ÿå°±å®Œæˆäº†ã€‚æœåŠ¡ç«¯ä¹Ÿä¼šæœ‰åŒæ ·çš„æ—¥å¿—è¾“å‡ºã€‚å¯è§é€Ÿåº¦å¤§æ¦‚æ˜¯500Mb/sã€‚\nå‚æ•°è¯¦è§£ å…·ä½“çš„å‚æ•°è¯¦ç»†è§£é‡Šå¯ä»¥å‚è€ƒå®˜ç½‘çš„æ–‡æ¡£;è¿™é‡Œæˆ‘ä¹Ÿç®€å•çš„ä»‹ç»ä¸€ä¸‹ã€‚\né€šç”¨å‚æ•° é€šç”¨å‚æ•°å°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥ä½¿ç”¨çš„å‚æ•°ã€‚\nå‘½ä»¤è¡Œé€‰é¡¹ è¯´æ˜ -p, \u0026ndash;port n æœåŠ¡å™¨ä¾¦å¬å’Œå®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ç«¯å£ã€‚è¿™åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸­åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚é»˜è®¤å€¼ä¸º 5201ã€‚ \u0026ndash;cport n æŒ‡å®šå®¢æˆ·ç«¯ç«¯ç«¯å£çš„é€‰é¡¹ã€‚(iPerf 3.13 æ–°ç‰¹æ€§) -f, \u0026ndash;format [kmKM] æŒ‡å®šæ‰“å°å¸¦å®½æ•°å­—çš„æ ¼å¼çš„å‘½ä»¤å­—ã€‚æ”¯æŒçš„æ ¼å¼æœ‰\n\u0026lsquo;k\u0026rsquo; = Kbits/sec \u0026lsquo;K\u0026rsquo; = KBytes/sec\n\u0026rsquo;m\u0026rsquo; = Mbits/sec \u0026lsquo;M\u0026rsquo; = MBytes/sec\nè‡ªé€‚åº”æ ¼å¼æ ¹æ®éœ€è¦åœ¨åƒçº§å’Œå…†çº§ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚ -i, \u0026ndash;interval n è®¾ç½®å‘¨æœŸæ€§å¸¦å®½ã€æŠ–åŠ¨å’Œä¸¢å¤±æŠ¥å‘Šä¹‹é—´çš„é—´éš”æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœéé›¶ï¼Œåˆ™è‡ªä¸Šæ¬¡æŠ¥å‘Šä»¥æ¥æ¯éš” n ç§’å¸¦å®½å‚æ•°ä¼šç”Ÿæˆä¸€ä»½æŠ¥å‘Šã€‚å¦‚æœä¸ºé›¶ï¼Œåˆ™åªæ‰“å°å®šæœŸæŠ¥å‘Šã€‚é»˜è®¤è®¤ä¸ºé›¶ã€‚ -F, \u0026ndash;file name å®¢æˆ·ç«¯ï¼šä»æ–‡ä»¶ä¸­è¯»å–å¹¶å†™å…¥ç½‘ç»œï¼Œè€Œä¸æ˜¯ä½¿ç”¨éšæœºæ•°æ®ï¼›\næœåŠ¡å™¨ç«¯ï¼šä»ç½‘ç»œè¯»å–å¹¶å†™å…¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä¸¢å¼ƒæ•°æ®ã€‚ -A, \u0026ndash;affinity n/n,m/m-f å¦‚æœå¯èƒ½çš„è¯ï¼Œè®¾ç½® CPU å…³è”æ€§ï¼ˆä»…é™ Linux å’Œ FreeBSDï¼‰ã€‚åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ­¤å‚æ•°ä»¥ n çš„å½¢å¼ï¼ˆå…¶ä¸­ n æ˜¯ CPU ç¼–å·ï¼‰æ¥è®¾ç½®æœ¬åœ°å…³è”æ€§ã€‚\nåœ¨å®¢æˆ·ç«¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ n,m å½¢å¼çš„å‚æ•°è¦†ç›–æœåŠ¡å™¨çš„å…³è”æ€§ï¼Œä»…ç”¨äºæµ‹è¯•ã€‚\nè¯·æ³¨æ„ï¼Œä½¿ç”¨æ­¤åŠŸèƒ½æ—¶ï¼Œè¿›ç¨‹å°†ä»…ç»‘å®šåˆ°å•ä¸ª CPUï¼ˆè€Œä¸æ˜¯åŒ…å«æ½œåœ¨å¤šä¸ª CPU çš„é›†åˆï¼‰ã€‚ -B, \u0026ndash;bind host ç»‘å®šåˆ°ç‰¹å®šç½‘å¡ï¼Œå³è¯¥è®¡ç®—æœºçš„åœ°å€ä¹‹ä¸€ã€‚å¯¹äºå®¢æˆ·ç«¯ï¼Œè¿™è®¾ç½®è¾“å‡ºçš„ç½‘å¡æ¥å£ã€‚å¯¹äºæœåŠ¡å™¨ç«¯ï¼Œè¿™è®¾ç½®ä¼ å…¥ç½‘å¡æ¥å£ã€‚è¿™ä»…åœ¨å…·æœ‰å¤šä¸ªç½‘å¡æ¥å£çš„å¤šå®¿ä¸»ä¸»æœºä¸Šæœ‰ç”¨ã€‚ -V, \u0026ndash;verbose ç»™å‡ºæ›´è¯¦ç»†çš„è¾“å‡º -J, \u0026ndash;json ä»¥ JSON æ ¼å¼è¾“å‡º \u0026ndash;logfile file å°†è¾“å‡ºå‘é€åˆ°æ—¥å¿—æ–‡ä»¶ã€‚(iPerf 3.13 æ–°ç‰¹æ€§) -d, \u0026ndash;debug å‘å‡ºè°ƒè¯•è¾“å‡ºã€‚ä¸»è¦ä¾›å¼€å‘äººå‘˜ä½¿ç”¨ã€‚ -v, \u0026ndash;version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡ºã€‚ -h, \u0026ndash;help æ˜¾ç¤ºå¸®åŠ©æ¦‚è¦å¹¶é€€å‡ºã€‚ ä»¥ä¸Šæ˜¯é€šç”¨çš„å‚æ•°è¯´æ˜ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚åœ¨æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™æ·»åŠ ã€‚\næœåŠ¡ç«¯å‚æ•° ä¸‹è¾¹å¯¹æœåŠ¡ç«¯ç‰¹æœ‰å‚æ•°è¿›è¡Œè¯´æ˜ï¼š\nå‘½ä»¤è¡Œé€‰é¡¹ è¯´æ˜ -s, \u0026ndash;server åœ¨æœåŠ¡å™¨æ¨¡å¼ä¸‹è¿è¡Œ iPerfã€‚ï¼ˆè¿™ä¸€æ¬¡åªå…è®¸ä¸€ä¸ª iperf è¿æ¥ï¼‰ -D, \u0026ndash;daemon æœåŠ¡å™¨ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œã€‚ -I, \u0026ndash;pidfile file å†™å…¥ä¸€ä¸ªåŒ…å«è¿›ç¨‹ ID çš„æ–‡ä»¶ï¼Œè¿™åœ¨ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œæ—¶æœ€æœ‰ç”¨ã€‚ï¼ˆiPerf 3.1 æ–°ç‰¹æ€§ï¼‰ æœåŠ¡ç«¯çš„å‘½ä»¤é€‰é¡¹ç›¸å¯¹æ¥è¯´å°‘ä¸€äº›ã€‚\nå®¢æˆ·ç«¯å‚æ•° ä¸‹è¾¹å¯¹å®¢æˆ·ç«¯ç‰¹æœ‰å‚æ•°è¿›è¡Œè¯´æ˜ï¼š\nå‘½ä»¤è¡Œé€‰é¡¹ è¯´æ˜ -c, \u0026ndash;clientÂ host åœ¨å®¢æˆ·ç«¯æ¨¡å¼ä¸‹è¿è¡Œ iPerfï¼Œè¿æ¥åˆ°ä¸»æœºä¸Šè¿è¡Œçš„ iPerf æœåŠ¡å™¨ã€‚ \u0026ndash;sctp ä½¿ç”¨ SCTP è€Œä¸æ˜¯ TCPï¼ˆLinuxã€FreeBSD å’Œ Solarisï¼‰ã€‚ (iPerf 3.1æ–°ç‰¹æ€§) -u, \u0026ndash;udp ä½¿ç”¨ UDP è€Œä¸æ˜¯ TCPã€‚ å¦è¯·å‚é˜… -b é€‰é¡¹ã€‚ -b, \u0026ndash;bandwidthÂ n[KM] å°†ç›®æ ‡å¸¦å®½è®¾ç½®ä¸º n ä½/ç§’ï¼ˆUDP é»˜è®¤ä¸º 1 Mbit/ç§’ï¼ŒTCP æ— é™åˆ¶ï¼‰ã€‚å¦‚æœ‰å¤šä¸ªæµï¼ˆ-P æ ‡å¿—ï¼‰ï¼Œå¸¦å®½é™åˆ¶å•ç‹¬åº”ç”¨äºæ¯ä¸ªæµã€‚å¯å‘å¸¦å®½è¯´æ˜ç¬¦æ·»åŠ â€œ/â€å’Œæ•°å­—ï¼Œç§°ä¸ºâ€œçªå‘æ¨¡å¼â€ï¼Œå°†å‘é€ç»™å®šæ•°é‡çš„æ•°æ®åŒ…è€Œä¸æš‚åœï¼Œå³ä½¿æš‚æ—¶è¶…å‡ºæŒ‡å®šå¸¦å®½é™åˆ¶ã€‚ -t, \u0026ndash;timeÂ n ä¼ è¾“æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚iPerf é€šå¸¸é€šè¿‡åœ¨ time ç§’å†…é‡å¤å‘é€ len ä¸ªå­—èŠ‚çš„æ•°ç»„æ¥å·¥ä½œã€‚é»˜è®¤å€¼ä¸º 10 ç§’ã€‚å¦è¯·å‚è§ -lã€-k å’Œ -n é€‰é¡¹ã€‚ -n, \u0026ndash;numÂ n[KM] è¦ä¼ è¾“çš„ç¼“å†²åŒºæ•°é‡ã€‚é€šå¸¸ iPerf å‘é€ 10 ç§’ã€‚-n é€‰é¡¹ä¼šè¦†ç›–æ­¤è®¾ç½®å¹¶å‘é€ len ä¸ªå­—èŠ‚çš„æ•°ç»„ num æ¬¡ï¼Œæ— è®ºéœ€è¦å¤šé•¿æ—¶é—´ã€‚å¦è¯·å‚è§ -lã€-k å’Œ -t é€‰é¡¹ã€‚ -k, \u0026ndash;blockcountÂ n[KM] è¦ä¼ è¾“çš„å—ï¼ˆæ•°æ®åŒ…ï¼‰æ•°é‡ã€‚ï¼ˆè€Œä¸æ˜¯ -t æˆ– -nï¼‰å¦è¯·å‚é˜… -tã€-l å’Œ -n é€‰é¡¹ã€‚ -l, \u0026ndash;lengthÂ n[KM] è¦è¯»å–æˆ–å†™å…¥çš„ç¼“å†²åŒºçš„é•¿åº¦ã€‚iPerf çš„å·¥ä½œåŸç†æ˜¯å¤šæ¬¡å†™å…¥ len ä¸ªå­—èŠ‚çš„æ•°ç»„ã€‚TCP é»˜è®¤ä¸º 128 KBï¼ŒUDP é»˜è®¤ä¸º 8 KBã€‚å¦è¯·å‚è§ -nã€-k å’Œ -t é€‰é¡¹ã€‚ -P, \u0026ndash;parallelÂ n ä¸æœåŠ¡å™¨å»ºç«‹çš„åŒæ—¶è¿æ¥æ•°ã€‚é»˜è®¤å€¼ä¸º 1ã€‚ -R, \u0026ndash;reverse ä»¥åå‘æ¨¡å¼è¿è¡Œï¼ˆæœåŠ¡å™¨å‘é€ï¼Œå®¢æˆ·ç«¯æ¥æ”¶ï¼‰ã€‚ -w, \u0026ndash;windowÂ n[KM] å°†å¥—æ¥å­—ç¼“å†²åŒºå¤§å°è®¾ç½®ä¸ºæŒ‡å®šå€¼ã€‚å¯¹äº TCPï¼Œè¿™è®¾ç½® TCP çª—å£å¤§å°ã€‚ï¼ˆè¿™ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨å¹¶åœ¨è¯¥ç«¯ä½¿ç”¨ï¼‰ -M, \u0026ndash;set-mssÂ n å°è¯•è®¾ç½® TCP æœ€å¤§åˆ†æ®µå¤§å° (MSS)ã€‚MSS é€šå¸¸ä¸º MTU - 40 å­—èŠ‚ã€‚ä¾‹å¦‚ä»¥å¤ªç½‘ï¼ŒMSS ä¸º 1460 å­—èŠ‚ï¼ˆ1500 å­—èŠ‚ MTUï¼‰ã€‚ -N, \u0026ndash;no-delay è®¾ç½® TCP æ— å»¶è¿Ÿé€‰é¡¹ï¼Œç¦ç”¨ Nagle ç®—æ³•ã€‚é€šå¸¸ä»…äº¤äº’å¼åº”ç”¨ï¼ˆå¦‚ telnetï¼‰ç¦ç”¨æ­¤åŠŸèƒ½ã€‚ -4, \u0026ndash;version4 ä»…ä½¿ç”¨ IPv4ã€‚ -6, \u0026ndash;version6 ä»…ä½¿ç”¨ IPv6ã€‚ -S, \u0026ndash;tosÂ n ä¼ å‡ºæ•°æ®åŒ…çš„æœåŠ¡ç±»å‹ã€‚å¯ç”¨â€œ0xâ€å‰ç¼€çš„åå…­è¿›åˆ¶ã€0 å‰ç¼€çš„å…«è¿›åˆ¶æˆ–åè¿›åˆ¶ã€‚\nå¸¸ç”¨å€¼ï¼š\nIPTOS_LOWDELAY 0x10\nIPTOS_THROUGHPUT 0x08\nIPTOS_RELIABILITY 0x04\nIPTOS_LOWCOST 0x02 -L, \u0026ndash;flowlabelÂ n è®¾ç½® IPv6 æµæ ‡ç­¾ï¼ˆç›®å‰ä»…åœ¨ Linux ä¸Šæ”¯æŒï¼‰ã€‚ -Z, \u0026ndash;zerocopy ä½¿ç”¨â€œé›¶å¤åˆ¶â€æ–¹æ³•å‘é€æ•°æ®ï¼ˆå¦‚ sendfile(2)ï¼‰ï¼Œè€Œéé€šå¸¸çš„ write(2)ã€‚å‡å°‘ CPU ä½¿ç”¨ç‡ã€‚ -O, \u0026ndash;omitÂ n çœç•¥æµ‹è¯•çš„å‰ n ç§’ï¼Œä»¥è·³è¿‡ TCP æ…¢å¯åŠ¨æœŸã€‚ -T, \u0026ndash;titleÂ str ä½¿ç”¨æ­¤å­—ç¬¦ä¸²ä½œä¸ºæ¯ä¸ªè¾“å‡ºè¡Œçš„å‰ç¼€ã€‚ -C, \u0026ndash;linux-congestionÂ algo è®¾ç½®æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼ˆä»… iPerf 3.0 Linuxï¼ŒiPerf 3.1 æ”¯æŒ Linux å’Œ FreeBSDï¼‰ã€‚ ä»¥ä¸Šå°±æ˜¯æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ‰€æœ‰å‚æ•°è¯´æ˜ã€‚\n","date":"2024-05-03T05:52:37Z","image":"https://images.iminling.com/app/hide.php?key=b0w0Mnh3eThuS0JueUNaajQrNU1LZmIrL2ZIOEpGSUM5aVl0ZWs5bTFCUjhtMWdNN0dmc3FLakhyWExPR2ExRTJqcitLdVU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/how-to-use-iperf3/","title":"æœåŠ¡å™¨å¸¦å®½æµ‹é€Ÿiperf3å·¥å…·ä½¿ç”¨"},{"content":"ä¹‹å‰ä¸€ç›´åœ¨ä½¿ç”¨å…¶ä»–çš„å½±è§†ç«™å»çœ‹ä¸€äº›ç”µå½±ï¼Œè¿™äº›å½±è§†ç«™åŸºæœ¬ç½‘é€Ÿéƒ½æ¯”è¾ƒæ…¢ï¼Œç”»è´¨ä¹Ÿéƒ½ä¸€èˆ¬ï¼Œè§‚çœ‹ä½“éªŒä¹Ÿä¸æ€ä¹ˆå¥½ï¼Œè¿™é‡Œé¡ºä¾¿ä¹Ÿåˆ†äº«ä¸€ä¸‹æˆ‘ä¸€ç›´ä½¿ç”¨çš„å½±è§†ç«™ï¼šå½±è§†æ£®æ—ï¼Œè¯¥ç«™æ•´ç†äº†ä¸€äº›æ¯”è¾ƒä¸é”™çš„å½±è§†ç«™ã€‚å¶ç„¶çš„æœºä¼šä¸‹äº†è§£åˆ°äº†å°é›…(xiaoya)Alistï¼Œæ­é…é˜¿é‡Œäº‘ç›˜ç®€ç›´ä¸è¦å¤ªçˆ½ï¼Œä½œè€…ä¹Ÿåœ¨ä¸€ç›´æ›´æ–°èµ„æºï¼Œéå¸¸æ¨èè‡ªå·±æ­å»ºï¼Œä¸‹è¾¹å°±ç®€å•ä»‹ç»ä¸€ä¸‹æˆ‘çš„æ­å»ºè¿‡ç¨‹ä»¥åŠä¸€äº›ä½¿ç”¨ã€‚\nå‡†å¤‡å·¥ä½œ åœ¨è¿›è¡Œå®‰è£…å‰éœ€è¦å…ˆè·å–ä¸‰ä¸ªä¸œè¥¿ï¼štoken,open tokenä»¥åŠfolder id,ä¸‹è¾¹ä»‹ç»ä¸€ä¸‹å¦‚ä½•è·å–è¿™å‡ ä¸ªä¿¡æ¯ã€‚å¦å¤–éœ€è¦åœ¨æœºå™¨ä¸Šå®‰è£…dockerï¼Œå› ä¸ºå°é›…Alistæ˜¯ä½¿ç”¨dockeré•œåƒæ¥å®‰è£…çš„ï¼Œå¦‚æœæœ¬æœºè¿˜æ²¡æœ‰å®‰è£…docker,å¯ä»¥å‚è€ƒæˆ‘çš„æ–‡ç« ï¼šdockerå®‰è£… æ¥å®‰è£…dockerã€‚\ntoken æ‰“å¼€ç½‘ç«™ï¼šhttps://aliyuntoken.vercel.app/ï¼Œä¼šå‡ºç°äºŒç»´ç ï¼Œä½¿ç”¨æ‰‹æœºç«¯çš„é˜¿é‡Œäº‘ç›˜æ‰«æå°±å¯ä»¥è·å–åˆ°tokenã€‚å…ˆè®°å½•ä¸‹ã€‚\nopen token æ‰“å¼€ç½‘ç«™ï¼šGet Aliyundrive Refresh Tokenï¼Œé¦–å…ˆç‚¹å‡»Scan QrCodeè·å–äºŒç»´ç ï¼Œç„¶åä½¿ç”¨æ‰‹æœºç«¯é˜¿é‡Œäº‘ç›˜æ‰«æï¼Œæ‰«æå®Œæˆåå†ç‚¹å‡»I have scan æ¥è·å–refresh tokenã€‚åŒæ—¶è®°å½•ä¸‹è¿™ä¸ªtokenã€‚\nfolder id æ‰“å¼€å°é›…çš„åˆ†äº«åœ°å€ï¼šhttps://www.alipan.com/s/rP9gP3h9asEï¼Œå°†é‡Œè¾¹çš„å†…å®¹è½¬å­˜åˆ°è‡ªå·±çš„ç½‘ç›˜ä¸‹ï¼Œé€‰æ‹©èµ„æºåº“ã€‚\nç„¶åè¿›å…¥åˆ°è‡ªå·±çš„é˜¿é‡Œäº‘ç›˜ï¼Œæ‰“å¼€åˆšæ‰è½¬å­˜çš„ç›®å½•ï¼Œçœ‹åœ°å€æ ï¼Œæœ€åé‚£ä¸€ä¸²å­—ç¬¦ä¸²å°±æ˜¯éœ€è¦çš„folder id.è®°å½•æ”¹folder id.\nç»è¿‡ä¸Šè¾¹å‡ æ­¥ï¼Œå·²ç»å‡†å¤‡å¥½äº†æ‰€éœ€è¦çš„ä¸‰ä¸ªå¿…é¡»ä¿¡æ¯ï¼Œä¸‹è¾¹å°±å¼€å§‹å®‰è£…å°é›…Alistã€‚\nå°é›…Alistå®‰è£… å®‰è£…æœ‰å‡ ç§æ–¹å¼ï¼Œå°é›…ä¹Ÿæœ‰æä¾›ä¸€é”®å®‰è£…è„šæœ¬ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸‹è¾¹æˆ‘ä»‹ç»ä¸€ä¸‹å‡ ç§å®‰è£…æ–¹å¼ã€‚\nä¸€é”®è„šæœ¬ è¿™ç§æ–¹å¼æœ€ç®€å•ï¼Œåœ¨è·å–äº†ä¸Šè¾¹çš„ä¿¡æ¯åï¼Œå°±å¯ä»¥ç›´æ¥åœ¨vpsæˆ–è€…è‡ªå·±çš„ç”µè„‘ä¸Šè¿›è¡Œå®‰è£…ï¼Œæ‰“å¼€å‘½ä»¤çª—å£(ç»ˆç«¯)æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬ï¼šbash -c \u0026ldquo;$(curl http://docker.xiaoya.pro/update_new.sh)\"ï¼Œæ‰§è¡Œåä¼šæç¤ºè¾“å…¥tokenï¼ˆ32ä½ï¼‰ã€open Tokenä¹Ÿå°±æ˜¯åˆšæ‰çš„refresh Token(335ä½)ä»¥åŠfolder id(40ä½)ï¼Œè¾“å…¥å®Œæˆåå°±å¼€å§‹äº†å®‰è£…ï¼Œç­‰å¾…ç»“æŸå°±å¯ä»¥äº†ã€‚é€šè¿‡docker å‘½ä»¤docker psæ¥æŸ¥çœ‹å®‰è£…æƒ…å†µ,çœ‹æ˜¯å¦æœ‰ä¸€ä¸ªå®¹å™¨åç§°ä¸ºxiaoya,å­˜åœ¨å°±è¯´æ˜å®‰è£…æˆåŠŸã€‚\nä¸€é”®è„šæœ¬å®‰è£…çš„å°é›…é»˜è®¤é…ç½®æ–‡ä»¶æ˜¯åœ¨/etc/xiaoyaç›®å½•ä¸‹ï¼Œåç»­çš„é…ç½®æ–‡ä»¶éƒ½éœ€è¦å¾€è¿™ä¸ªæ–‡ä»¶ä¸‹é…ç½®ã€‚\ndockerå‘½ä»¤ ä¸Šè¾¹ä»‹ç»äº†ä¸€é”®è„šæœ¬ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä½¿ç”¨dockerå‘½ä»¤æ¥å®‰è£…çš„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦è‡ªå·±æ§åˆ¶é…ç½®æ”¾åœ¨ä»€ä¹ˆåœ°å€ï¼Œå¯ä»¥æŠŠè„šæœ¬ä¸‹è½½ä¸‹æ¥è‡ªè¡Œä¿®æ”¹ï¼Œæˆ–è€…æ¥è¿›è¡Œdockerçš„é…ç½®å®‰è£…ã€‚\næ¯”å¦‚æˆ‘æƒ³æŠŠé…ç½®æ–‡ä»¶æ”¾åœ¨/data/xiaoyaä¸‹ï¼Œé‚£ä¹ˆæˆ‘éœ€è¦åœ¨data/xiaoyaç›®å½•ä¸‹å…ˆæ–°å»ºä¸‰ä¸ªæ–‡ä»¶:\nmytoken.txtï¼šæŠŠä¿¡æ¯å‡†å¤‡ä¸­çš„tokenå­—ç¬¦ä¸²æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œã€‚ myopentoken.txtï¼šæŠŠä¿¡æ¯å‡†å¤‡ä¸­çš„refresh Tokenå­—ç¬¦ä¸²æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œ temp_transfer_folder_id.txtï¼šæŠŠfolder idå­—ç¬¦ä¸²æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œã€‚ æ­¤æ—¶å‡†å¤‡å·¥ä½œå°±å®Œæˆäº†ï¼Œå¯ä»¥æ¥ä½¿ç”¨å‘½ä»¤æ¥å®‰è£…å°é›…äº†ï¼š docker run -d --network=host -v /data/xiaoya:/data --restart=always --name=xiaoya xiaoyaliu/alist:hostmode,ç­‰å¾…å®‰è£…å®Œæˆï¼ŒåŒæ ·é€šè¿‡docker psæ¥æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸï¼Œåç»­æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨/data/xiaoyaç›®å½•ä¸‹ã€‚\ndocker composeå®‰è£… è¿™ç§æ˜¯æˆ‘æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå®¹å™¨çš„é…ç½®éƒ½æ”¾åœ¨composeæ–‡ä»¶ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚å’Œdockerå®‰è£…å·®ä¸å¤šï¼Œä¹Ÿæ˜¯å…ˆéœ€è¦å°†ä¸‰ä¸ªæ–‡ä»¶åˆ›å»ºå‡ºæ¥ï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 root@docker:~/xiaoya# tree -l . â”œâ”€â”€ data â”‚ â”œâ”€â”€ docker_address.txt â”‚ â”œâ”€â”€ myopentoken.txt â”‚ â”œâ”€â”€ mytoken.txt â”‚ â””â”€â”€ temp_transfer_folder_id.txt â””â”€â”€ docker-compose.yaml docker-compose.yamlæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@docker:~/xiaoya# cat docker-compose.yaml version: \u0026#39;3.9\u0026#39; services: xiaoya: image: xiaoyaliu/alist:latest container_name: xiaoya env_file: - .env restart: unless-stopped ports: - 5678:80 - 2345:2345 - 2346:2346 volumes: - ./data:/data environment: - TZ=Asia/Shanghai ç„¶ååœ¨~/xiaoyaç›®å½•ä¸‹æ‰§è¡Œ docker compose up -då¯åŠ¨å°±å¯ä»¥äº†ã€‚\nç»è¿‡ä¸Šè¾¹çš„å®‰è£…å·²ç»å¯ä»¥é€šè¿‡ä½ çš„æœºå™¨ip:5678æ¥è®¿é—®äº†ã€‚\næ’­æ”¾ ç»è¿‡ä¸Šè¾¹å®‰è£…é»˜è®¤æƒ…å†µä¸‹å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œåœ¨ç½‘é¡µç«¯æ‰¾åˆ°è‡ªå·±æƒ³è§‚çœ‹çš„ç”µå½±ï¼Œç›´æ¥åœ¨ç½‘é¡µç«¯è§‚çœ‹ï¼Œæˆ–è€…åœ¨è§†é¢‘æ’­æ”¾å™¨ä¸‹è¾¹çš„æŒ‰é’®é‡Œé€‰æ‹©è‡ªå·±æœ¬åœ°å·²å®‰è£…çš„ç¨‹åºæ‰“å¼€è¿›è¡Œæ’­æ”¾,ä¾‹å¦‚ä¸‹è¾¹æœ‰iina,VLCç­‰æ’­æ”¾å™¨ï¼Œè‡ªå·±åœ¨æœ¬åœ°å®‰è£…å°±å¯ä»¥äº†ã€‚\nä¹Ÿå¯ä»¥åœ¨å°é›…Alistä¸­æ‰¾åˆ°å¯¹åº”çš„å®‰è£…åŒ…ï¼Œä¹Ÿæä¾›äº†å¾ˆå¤šæ’­æ”¾å™¨çš„å®‰è£…åŒ…ï¼š\nå®‰å“æ‰‹æœº æƒ³è¦åœ¨å®‰å“æ‰‹æœºä¸Šä½¿ç”¨alist,æˆ‘æ˜¯ä½¿ç”¨tvboxæ¥è§‚çœ‹çš„ï¼Œåœ¨å°é›…Alistæä¾›çš„å®‰è£…åŒ…é‡Œä¹Ÿæ˜¯æœ‰tvboxçš„ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ç›®å½•æ–°å»ºä¸€ä¸ªdocker_address.txtæ–‡ä»¶ï¼Œé‡Œè¾¹å¡«å†™http://xxxxx:5678ï¼Œç½‘å€æœ€åä¸éœ€è¦/, xxxæ›¿æ¢ä¸ºè‡ªå·±çš„vpsçš„ipï¼Œæˆ–è€…æ­å»ºæœºå™¨çš„å†…ç½‘ipã€‚\nå®‰å“æ‰‹æœºæ­£å¸¸å®‰è£…åè¿›è¡Œé…ç½®ï¼šhttp://xxxxx:5678/tvbox/my.jsonã€‚\nå¦‚æœåŒæ—¶æœ‰å†…ç½‘ä»¥åŠå¤–ç½‘åœ°å€ï¼Œé‚£ä¹ˆæƒ³è¦åœ¨å…¬ç½‘è®¿é—®ï¼Œåˆ™éœ€è¦å†å¤šå»ºä¸€ä¸ªdocker_address_ext.txt,é‡Œè¾¹éœ€è¦å¡«å†™å…¬ç½‘çš„ip:ç«¯å£,ç„¶ååœ¨tvboxä¸­è¿›è¡Œé…ç½®:http://xxxxx:5678/tvbox/my_ext.jsonå°±å¯ä»¥äº†ã€‚\nç”µè§†ç«¯ å…¶å®å’Œå®‰å“ç«¯æ˜¯ä¸€æ ·çš„ï¼Œå®‰è£…tvbox(å®‰è£…åŒ…ä¹Ÿæ˜¯åœ¨å°é›…Alistä¸­è·å–)ï¼ŒæŒ‰ç…§å®‰å“çš„é…ç½®æ–¹å¼ï¼Œè¿›è¡Œé…ç½®åå°±å¯ä»¥è§‚çœ‹äº†ã€‚\né…ç½® ç™»å½•é…ç½® å¦‚æœä½ æ­å»ºçš„æœºå™¨æ˜¯å…¬ç½‘çš„ï¼Œåˆä¸æƒ³åˆ«äººéšä¾¿ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡é…ç½®ï¼Œéœ€è¦ä½¿ç”¨è´¦å·å’Œå¯†ç æ¥ç™»å½•ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ç›®å½•æ·»åŠ ä¸¤ä¸ªæ–‡ä»¶:guestlogin.txt,å’Œguestpass.txtä¸¤ä¸ªæ–‡ä»¶ï¼Œguestlogin.txtæ§åˆ¶Alistç½‘é¡µç«¯éœ€è¦ç™»å½•ï¼Œåªæ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶å°±å¯ä»¥äº†ï¼Œguestpass.txté‡Œè¾¹å†…å®¹æ˜¯ç™»å½•å¯†ç ï¼Œè¿™æ ·å­è®¿é—®ä½ çš„Alistå°±éœ€è¦è´¦å·å’Œå¯†ç äº†ï¼Œè´¦å·æ˜¯ï¼šdavï¼Œå¯†ç æ˜¯guestpass.txtä¸­çš„å†…å®¹ã€‚\nå…¶ä»–é…ç½®æš‚æ—¶ä¹Ÿæ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œåç»­æœ‰ä½¿ç”¨åˆ°å†è¿›è¡Œæ›´æ–°ï¼Œç¥å¤§å®¶éƒ½èƒ½é¡ºåˆ©å®‰è£…æˆåŠŸã€‚\n","date":"2024-04-20T06:39:56Z","image":"https://images.iminling.com/app/hide.php?key=VTJuMzZadnFMdGQzWkp6ZFlHWk44dm1scFJnV0xZVXp4aGVnbHBCNmszQ2tqSU9sRkxTSmJNZlljSWtSb3pkWVdMdXVkQlk9","permalink":"https://konghanghang.github.io/iminling-pages/2024/how-to-build-xiaoya-alist-and-use/","title":"æ­å»ºå±äºè‡ªå·±çš„å½±è§†å°ç«™ï¼šå°é›…Alistå®‰è£…åŠä½¿ç”¨"},{"content":"å‰è¾¹å·²ç»åˆ†äº«äº†PVEçš„å®‰è£…ï¼Œpveä¸‹å®‰è£…çˆ±å¿«(ikuai)ä»¥åŠpveä¸‹å®‰è£…openwrtå®ç°æ—è·¯ç”±ï¼Œè¿˜æƒ³è¦å¼„ä¸€ä¸ªdockeræ¥è·‘ä¸€äº›å…¶ä»–çš„æœåŠ¡ï¼Œdockerçš„å®‰è£…æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è£…ä¸€ä¸ªlinuxçš„è™šæ‹Ÿæœºï¼Œç„¶ååœ¨é‡Œè¾¹æ¥è·‘docker,å¦ä¸€ç§å°±æ˜¯ä»Šå¤©è¦ä»‹ç»çš„ä½¿ç”¨CTæ¨¡æ¿æ¥åˆ›å»ºLXCå®¹å™¨è·‘dockerã€‚\nCTæ¨¡æ¿ä¸‹è½½ æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯debain12æ¥å½“ä½œæ¨¡æ¿ï¼Œå¯ä»¥åœ¨pveé‡Œä¸‹è½½è¯¥æ¨¡æ¿ã€‚\nåˆ›å»ºCT å¸¸è§„ ç‚¹å‡»åˆ›å»ºCT,è¿™é‡Œçš„ä¸»æœºåéšä¾¿ç»™ä¸€ä¸ªï¼Œå› ä¸ºæˆ‘è¿™é‡Œæ˜¯è¦ä¸“é—¨æ¥è¿è¡Œdocker,æ‰€ä»¥æˆ‘è¿™é‡Œå¡«ï¼šdocker, å¯†ç æ˜¯è¿™ä¸ªå®¹å™¨çš„ç™»å½•å¯†ç ï¼Œä¸€å®šè¦ç‰¢è®°ã€‚å¦å¤–è¦æŠŠæ— ç‰¹æƒçš„å®¹å™¨å–æ¶ˆå‹¾é€‰ã€‚\næ¨¡æ¿ æ¨¡æ¿é€‰æ‹©ä¸‹è½½çš„debianæ¨¡æ¿\nç£ç›˜ ç£ç›˜å¤§å°æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦ç»™\nCPU cpuæŠŠj4125çš„4æ ¸éƒ½ç»™è¿‡å»\nå†…å­˜ æˆ‘è¿™é‡Œå…ˆç»™2GBï¼Œåç»­æ ¹æ®éœ€æ±‚å†æ·»åŠ \nç½‘ç»œ æˆ‘è¿™é‡Œæ‰‹åŠ¨æŒ‡å®šäº†ipï¼Œå¯ä»¥ä½¿ç”¨dhcpè‡ªåŠ¨åˆ†é…ip\nDNS dnsé»˜è®¤\nç¡®è®¤ åˆšæ‰è®¾ç½®çš„ä¸€äº›ä¿¡æ¯çš„é¢„è§ˆ\nåˆ›å»ºå®Œæˆåå…ˆä¸è¦å¼€æœºï¼Œè¿˜éœ€è¦ä¸€äº›å…¶ä»–çš„ä¸€äº›é…ç½®ã€‚\nåŠŸèƒ½ åœ¨åŠŸèƒ½é‡Œå‹¾é€‰NFSç­‰é€‰é¡¹\nLXCé…ç½®æ–‡ä»¶ è¿˜éœ€è¦è¿›å…¥pveçš„shell,å¯¹åˆšåˆ›å»ºçš„LXCå®¹å™¨çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œä½ç½®ï¼š/etc/pve/lxc,æ­¤æ—¶é‡Œè¾¹åº”è¯¥åªæœ‰1ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶åå¯¹åº”åˆ›å»ºçš„lxcå®¹å™¨åœ¨pveé‡Œçš„idã€‚æˆ‘çš„æ˜¯102.conf\néœ€è¦åœ¨åè¾¹å†æ·»åŠ å‡ è¡Œï¼š\n1 2 3 4 5 6 lxc.apparmor.profile: unconfined # è¡¨ç¤ºå®¹å™¨å†…çš„è¿›ç¨‹å°†ä¸å—ä»»ä½• AppArmor é™åˆ¶ lxc.mount.auto: cgroup:rw lxc.mount.auto: proc:rw lxc.mount.auto: sys:rw lxc.cap.drop: # ç”¨äºæŒ‡å®šå®¹å™¨å†…è¿›ç¨‹çš„èƒ½åŠ›é™åˆ¶ï¼Œå…è®¸è¿›ç¨‹æ‰§è¡Œä¸€äº›ç‰¹å®šçš„æ“ä½œï¼Œä¾‹å¦‚ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ã€æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿç­‰ lxc.cgroup.devices.allow: a å®Œæ•´çš„é…ç½®å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 root@pve:/etc/pve/lxc# cat 102.conf arch: amd64 cores: 4 features: fuse=1,mount=nfs;cifs,nesting=1 hostname: docker memory: 4096 net0: name=eth0,bridge=vmbr0,firewall=1,gw=192.168.1.253,hwaddr=BA:64:EF:29:04:A6,ip=192.168.1.22/24,type=veth ostype: debian rootfs: local-lvm:vm-102-disk-0,size=30G swap: 512 lxc.apparmor.profile: unconfined lxc.mount.auto: cgroup:rw lxc.mount.auto: proc:rw lxc.mount.auto: sys:rw lxc.cap.drop: lxc.cgroup.devices.allow: a é…ç½®å®Œæˆåå°±å¯ä»¥æ­£å¸¸å¯åŠ¨è¯¥å®¹å™¨äº†ã€‚\næ›´æ¢æº æºæ–‡ä»¶è·¯å¾„ï¼š/etc/apt/sources.list,æ›¿æ¢ä¸ºä¸‹è¾¹çš„å†…å®¹ã€‚\n1 2 3 4 root@docker:/etc/apt# cat sources.list deb https://mirrors.ustc.edu.cn/debian bookworm main contrib deb https://mirrors.ustc.edu.cn/debian bookworm-updates main contrib deb https://mirrors.ustc.edu.cn/debian-security bookworm-security main contrib æŸ¥çœ‹æ˜¯å¦æ›¿æ¢æˆåŠŸï¼Œæ‰§è¡Œå‘½ä»¤apt update:\n1 2 3 4 5 6 7 8 9 10 11 root@docker:/etc/apt# apt update Hit:1 https://mirrors.ustc.edu.cn/debian bookworm InRelease Get:2 https://mirrors.ustc.edu.cn/debian bookworm-updates InRelease [55.4 kB] Get:3 https://mirrors.ustc.edu.cn/debian-security bookworm-security InRelease [48.0 kB] Get:4 https://mirrors.ustc.edu.cn/debian-security bookworm-security/main amd64 Packages [148 kB] Hit:5 https://download.docker.com/linux/debian bookworm InRelease Fetched 251 kB in 1s (228 kB/s) Reading package lists... Done Building dependency tree... Done Reading state information... Done 51 packages can be upgraded. Run \u0026#39;apt list --upgradable\u0026#39; to see them. å¯è§å·²ç»æ›¿æ¢æˆåŠŸã€‚\nSSHç™»å½• é»˜è®¤æƒ…å†µä¸‹åªèƒ½é€šè¿‡pveçš„æ§åˆ¶å°è¿›è¡Œç™»å½•ï¼Œæ— æ³•åœ¨å…¶ä»–åœ°æ–¹è¿›è¡Œç™»å½•ã€‚\nä¿®æ”¹sshdçš„é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„ï¼š/etc/ssh/sshd_config,æ·»åŠ ä¸‹è¾¹çš„å†…å®¹ï¼šå…è®¸rootç™»å½•ï¼Œå¼€å¯keyç™»å½•ï¼š\n1 2 3 PermitRootLogin yes PubkeyAuthentication yes AuthorizedKeysFile .ssh/authorized_keys å¦‚æœåªæƒ³ä½¿ç”¨keyç™»å½•ï¼Œç¦æ­¢å¯†ç ç™»å½•å¯ä»¥å†æ·»åŠ ä¸€è¡Œï¼šPasswordAuthentication no ã€‚æ ¹æ®è‡ªå·±éœ€æ±‚æ·»åŠ ã€‚\næ—¶åŒºè®¾ç½® é»˜è®¤æƒ…å†µä¸‹æ˜¯0æ—¶åŒºï¼š\n1 2 3 4 root@docker:~# date Sun Mar 24 07:04:09 UTC 2024 root@docker:~# date -R Sun, 24 Mar 2024 07:04:11 +0000 ä¿®æ”¹ä¸ºåŒ—äº¬æ—¶é—´ï¼š\n1 2 3 4 5 6 7 8 9 root@docker:~# timedatectl set-timezone Asia/Shanghai root@docker:~# timedatectl Local time: Sun 2024-03-24 15:06:22 CST Universal time: Sun 2024-03-24 07:06:22 UTC RTC time: n/a Time zone: Asia/Shanghai (CST, +0800) System clock synchronized: yes NTP service: inactive RTC in local TZ: no å¯ä»¥çœ‹åˆ°å·²æˆåŠŸè®¾ç½®ä¸ºåŒ—äº¬æ—¶é—´äº†ã€‚\næ•´ä¸ªLXCå®¹å™¨å·²è®¾ç½®å®Œæˆã€‚\n","date":"2024-03-27T15:28:11Z","image":"https://images.iminling.com/app/hide.php?key=aXJqeW9LcUVTSmRtV2N0TXhRc05EZEpDQXpLTU5oWEtLcW5CejJNa0R0SW0zalI2ZDN1MDVrcUp4Znd3RWtHK1V0em9KeFU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-use-ct-template-install-lxc-docker/","title":"Proxmox VE(PVE)8.0ä½¿ç”¨CTæ¨¡æ¿åˆ›å»ºLXCç‰ˆdockeræœåŠ¡"},{"content":"å‰è¾¹ä»‹ç»äº†PVEçš„å®‰è£…ï¼ŒProxmox VE(PVE)8.0çš„åº•å±‚ä½¿ç”¨çš„æ˜¯debian12ï¼Œé»˜è®¤çš„æºåœ¨å›½å¤–ä¸‹è½½é€Ÿåº¦éå¸¸æ…¢ï¼Œç”šè‡³å¯èƒ½è¿æ¥å¤±è´¥ï¼Œæ‰€ä»¥éœ€è¦æ›´æ¢ä¸€ä¸‹é»˜è®¤æºä¸ºä¸­ç§‘å¤§çš„æºæ¥åŠ å¿«ä¸‹è½½ä»¥åŠæ›´æ–°è½¯ä»¶çš„é€Ÿåº¦ã€‚\nAPTæº éœ€è¦ä¿®æ”¹ä¸‰ä¸ªæ–‡ä»¶\nsources.list ä½ç½®åœ¨/etc/apt/sources.list,è¿™ä¸ªæ–‡ä»¶é‡Œé»˜è®¤æœ‰ä¸‰è¡Œï¼š\n1 2 3 4 5 6 7 root@pve:~# cat /etc/apt/sources.list deb http://ftp.debian.org/debian bookworm main contrib deb http://ftp.debian.org/debian bookworm-updates main contrib # security updates deb http://security.debian.org bookworm-security main contrib æ›¿æ¢ä¸ºä¸€ä¸‹ä¸‰æ¡ï¼š\n1 2 3 4 5 6 7 8 9 10 root@pve:~# cat /etc/apt/sources.list #deb http://ftp.debian.org/debian bookworm main contrib deb https://mirrors.ustc.edu.cn/debian bookworm main contrib #deb http://ftp.debian.org/debian bookworm-updates main contrib deb https://mirrors.ustc.edu.cn/debian bookworm-updates main contrib # security updates #deb http://security.debian.org bookworm-security main contrib deb https://mirrors.ustc.edu.cn/debian-security bookworm-security main contrib æˆ–ä½¿ç”¨ä¸€é”®å‘½ä»¤è¿›è¡Œæ›¿æ¢ï¼š\n1 2 sed -i \u0026#39;s|^deb http://ftp.debian.org|deb https://mirrors.ustc.edu.cn|g\u0026#39; /etc/apt/sources.list sed -i \u0026#39;s|^deb http://security.debian.org|deb https://mirrors.ustc.edu.cn/debian-security|g\u0026#39; /etc/apt/sources.list æœ€ä¸»è¦çš„å°±æ˜¯Â http://ftp.debain.orgÂ æ›¿æ¢ä¸ºÂ https://mirrors.ustc.edu.cnÂ ,Â http://security.debian.orgÂ æ›¿æ¢ä¸ºÂ https://mirrors.ustc.edu.cn/debian-securityÂ ã€‚\nceph.list ä½ç½®ï¼š/etc/apt/sources.list.d/ceph.list,åŸå§‹å†…å®¹å¦‚ä¸‹ï¼š\n1 2 root@pve:~# cat /etc/apt/sources.list.d/ceph.list deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise æ›¿æ¢ä¸ºï¼š\n1 2 3 root@pve:~# cat /etc/apt/sources.list.d/ceph.list #deb https://enterprise.proxmox.com/debian/ceph-quincy bookworm enterprise deb https://mirrors.ustc.edu.cn/proxmox/debian/ceph-quincy bookworm no-subscription æ›¿æ¢å®Œæˆã€‚\npve-enterprise.list ä½ç½®æ˜¯ï¼š/etc/apt/sources.list.d/pve-enterprise.list,è¿™ä¸ªæ˜¯pveä¼ä¸šçš„æºï¼Œæ²¡æœ‰è®¢é˜…pveä¹Ÿå°±æ²¡ä»€ä¹ˆç”¨ï¼Œç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶é‡Œçš„å†…å®¹æ³¨é‡Šäº†ã€‚\n1 2 root@pve:~# cat /etc/apt/sources.list.d/pve-enterprise.list #deb https://enterprise.proxmox.com/debian/pve bookworm pve-enterprise åˆ°è¿™é‡Œaptçš„æºå°±æ›¿æ¢å®Œæˆäº†ï¼Œå¯ä»¥æ‰§è¡Œapt udpateæ¥çœ‹ä¸€ä¸‹æ˜¯å¦æ›´æ¢æˆåŠŸã€‚\n1 2 3 4 5 6 7 8 9 10 11 root@pve:~# apt update Hit:1 https://mirrors.ustc.edu.cn/debian bookworm InRelease Get:2 https://mirrors.ustc.edu.cn/debian bookworm-updates InRelease [55.4 kB] Get:3 https://mirrors.ustc.edu.cn/debian-security bookworm-security InRelease [48.0 kB] Hit:4 https://mirrors.ustc.edu.cn/proxmox/debian/ceph-quincy bookworm InRelease Get:5 https://mirrors.ustc.edu.cn/debian-security bookworm-security/main amd64 Packages [148 kB] Fetched 251 kB in 1s (300 kB/s) Reading package lists... Done Building dependency tree... Done Reading state information... Done 94 packages can be upgraded. Run \u0026#39;apt list --upgradable\u0026#39; to see them. å·²ç»ä½¿ç”¨äº†ä¸­ç§‘å¤§çš„æºäº†ï¼Œæ›¿æ¢æˆåŠŸã€‚\nCTæ¨¡æ¿æº æ–‡ä»¶ä½ç½®ï¼š/usr/share/perl5/PVE/APLInfo.pmï¼Œéœ€è¦æ›¿æ¢ http://download.proxmox.comÂ ä¸º https://mirrors.ustc.edu.cn/proxmox,å¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼š\n1 sed -i \u0026#39;s|http://download.proxmox.com|https://mirrors.ustc.edu.cn/proxmox|g\u0026#39; /usr/share/perl5/PVE/APLInfo.pm æˆ–è€…é€šè¿‡ç›´æ¥ä¿®æ”¹APLInfo.pmçš„å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œæ›¿æ¢åçš„å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 my $sources = [ { host =\u0026gt; \u0026#34;download.proxmox.com\u0026#34;, url =\u0026gt; \u0026#34;https://mirrors.ustc.edu.cn/proxmox/images\u0026#34;, file =\u0026gt; \u0026#39;aplinfo-pve-8.dat\u0026#39;, } ä¿å­˜åè¿›è¡Œé‡å¯pvedaemonï¼šsystemctl restart pvedaemon.service ã€‚\næ•´ä¸ªpveçš„æºå°±æ›¿æ¢å®Œæˆäº†ã€‚\n","date":"2024-03-26T23:45:43Z","image":"https://images.iminling.com/app/hide.php?key=Z1BQTnU0azJ3OUdjSkc0Sm9FS0Jscjhkb1drV2pXbDlWR3NBcmRoSElPWmVkN1ZCY1BOQnZ2SkRjNUxzcFdDd0dnQmRpQjQ9","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-change-ustc-source/","title":"Proxmox VE(PVE)8.0æ¢ä¸­ç§‘å¤§æº"},{"content":"å‰è¾¹ä»‹ç»äº†roxmox VE(PVE)çš„å®‰è£…ï¼Œä¸€ç›´ä¹Ÿæ²¡æœ‰åœ¨pveä¸­è¿›è¡Œè¿‡è”ç½‘åŠ¨ä½œï¼Œç›´åˆ°ä»Šå¤©æƒ³è¦åœ¨pveä¸­è¿è¡ŒLXCå®¹å™¨ï¼Œéœ€è¦ä¸‹è½½CTæ¨¡æ¿çš„æ—¶å€™æ‰å‘ç°åŸæ¥pveæ˜¯æ— æ³•è”ç½‘çš„ï¼Œäºæ˜¯åˆå¼€å§‹äº†æŠ˜è…¾pveçš„ç½‘ç»œäº†ã€‚\næƒ…å†µè¯´æ˜ åœ¨æˆ‘ä¸‹è½½CTæ¨¡æ¿çš„æ—¶å€™æ¨¡æ¿åˆ—è¡¨æ˜¯èƒ½å‡ºæ¥çš„ï¼Œä½†æ˜¯å½“ç‚¹å‡»ä¸‹è½½åï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åå°±æç¤ºæ— æ³•ä¸‹è½½ï¼Œä½†æ˜¯é‚£ä¸ªåœ°å€æˆ‘ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®æ˜¯å¯ä»¥çš„ã€‚åœ¨pveçš„shellä¸­pingä¸€äº›åœ°å€æç¤ºï¼šDestination Host Unreachableï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 root@pve:~# ping 1.1.1.1 PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data. From 192.168.1.251 icmp_seq=1 Destination Host Unreachable From 192.168.1.251 icmp_seq=2 Destination Host Unreachable From 192.168.1.251 icmp_seq=3 Destination Host Unreachable From 192.168.1.251 icmp_seq=4 Destination Host Unreachable ^C --- 1.1.1.1 ping statistics --- 5 packets transmitted, 0 received, +4 errors, 100% packet loss, time 4065ms pipe 4 ä½†æ˜¯pingå†…ç½‘çš„ç½‘æ®µæ˜¯å®Œå…¨okçš„ï¼Œå¯è§æ˜¯å†…ç½‘é€šï¼Œåªæ˜¯æ— æ³•è¿æ¥åˆ°äº’è”ç½‘ã€‚\né—®é¢˜åˆ†æ åœ¨é‡åˆ°ä¸Šè¾¹é—®é¢˜åï¼Œæˆ‘ä¹Ÿä¸Šç½‘æ‰¾äº†ä¸€äº›è§£å†³åŠæ³•ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯è¯´DNSæœåŠ¡å™¨è®¾ç½®çš„ä¸å¯¹ï¼Œç¬¬ä¸€ä¸ªä¸ºlanï¼Œç¬¬äºŒä¸ªä¸ºé˜¿é‡Œçš„dnsæœåŠ¡å™¨ï¼Œç¬¬ä¸‰ä¸ªä¸ºçˆ±å¿«(ikuai)çš„åœ°å€ï¼Œè¿™æ ·å­è®¾ç½®åå‘ç°è¿˜æ˜¯åŒæ ·çš„é—®é¢˜ã€‚\nåæ¥åœ¨ç½‘ç»œé…ç½®ä¸­å‘ç°äº†é—®é¢˜ï¼Œè¿™é‡Œçš„ç½‘å…³æˆ‘é…ç½®çš„æ˜¯192.168.1.1ã€‚\nå½“æ—¶å®‰è£…pveçš„æ—¶å€™åœ¨è§„åˆ’ç½‘ç»œæ—¶å¡«çš„æ˜¯192.168.1.1ï¼Œä½†æ˜¯å½“å®‰è£…å®Œpveï¼Œè¿›è¡Œikuaié…ç½®çš„æ—¶å€™æˆ‘æ”¹å˜äº†æ³¨æ„ï¼ŒæŠŠikuaiçš„åœ°å€åˆ†é…ä¸º192.168.1.253ï¼Œæ‰€ä»¥å¯¼è‡´192.168.1.1å…¶å®å¹¶æ²¡æœ‰è®¾å¤‡ä½¿ç”¨ï¼Œå¯¼è‡´pveæ— æ³•è®¿é—®ç½‘ç»œã€‚\né—®é¢˜è§£å†³ æ—¢ç„¶æ‰¾åˆ°äº†é—®é¢˜ï¼Œé‚£å°±ä¿®æ”¹ä¸€ä¸‹è¯•ä¸€è¯•ï¼Œäºæ˜¯å¯¹pveçš„ç½‘å…³é…ç½®è¿›è¡Œä¿®æ”¹ï¼ŒæŠŠç½‘å…³åœ°å€è®¾ç½®ä¸ºçˆ±å¿«(ikuai)çš„åœ°å€ï¼š\nå†å»pveä¸­è¿›è¡Œpingæ£€æµ‹ï¼Œå‘ç°å·²ç»å¯ä»¥é€šäº†ã€‚\n1 2 3 4 5 6 7 8 9 10 root@pve:~# ping 1.1.1.1 PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data. 64 bytes from 1.1.1.1: icmp_seq=1 ttl=54 time=152 ms 64 bytes from 1.1.1.1: icmp_seq=2 ttl=54 time=164 ms 64 bytes from 1.1.1.1: icmp_seq=3 ttl=54 time=166 ms ^C --- 1.1.1.1 ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 2002ms rtt min/avg/max/mdev = 151.887/160.656/165.863/6.236 ms root@pve:~# æˆåŠŸçš„è§£å†³äº†pveæ— æ³•è”ç½‘çš„é—®é¢˜ã€‚\n","date":"2024-03-26T05:34:09Z","image":"https://images.iminling.com/app/hide.php?key=Z1BQTnU0azJ3OUdjSkc0Sm9FS0Jscjhkb1drV2pXbDlWR3NBcmRoSElPWmVkN1ZCY1BOQnZ2SkRjNUxzcFdDd0dnQmRpQjQ9","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-network-troubleshooting/","title":"Proxmox VE(PVE)8.0æ— æ³•è®¿é—®ç½‘ç»œæ’æŸ¥"},{"content":"å¾ˆä¹…ä»¥å‰å°±æ‹¿åˆ°äº†ITINï¼Œåœ¨è¿™æœŸé—´ä½¿ç”¨ITINä¹ŸæˆåŠŸçš„ç”³è¯·åˆ°äº†Capital One(C1)çš„ä¿¡ç”¨å¡ å’Œ American Express(AE)çš„ä¿¡ç”¨å¡ï¼Œä»Šå¤©å°±æ¥åˆ†äº«ä¸€ä¸‹ä½¿ç”¨ITINç”³è¯·ç¾åŒºçš„Stripeçš„ç»å†ã€‚\næ³¨å†Œ stripeçš„æ³¨å†Œå¾ˆç®€å•ï¼Œåªéœ€è¦é‚®ç®±å°±å¯ä»¥æ³¨å†ŒæˆåŠŸï¼Œåœ°å€ï¼šstripeå®˜ç½‘ã€‚\néªŒè¯å®Œæ¯•ç™»å½•åˆ°stripeåå°±è¢«è¦æ±‚éœ€è¦æ¿€æ´»æ”¯ä»˜è´¦æˆ·ã€‚\nè´¦æˆ·æ¿€æ´» å¦‚ä¸‹å›¾ï¼Œè¦æ±‚æ¿€æ´»è´¦æˆ·ã€‚\nç‚¹å‡»æ¿€æ´»æ”¯ä»˜åŠŸèƒ½\nå•†å®¶ç±»å‹ åœ°åŒºç¾å›½ï¼Œç±»å‹ä¸ªäººã€‚\nä¸ªäººè¯¦æƒ… æ³•å®šåç§°å°±æ˜¯è‡ªå·±çš„å§“åï¼Œç¬¬ä¸€è¡Œåï¼Œç¬¬äºŒè¡Œå§“ã€‚\nå®¶åº­åœ°å€æˆ‘è¿™é‡Œå¡«å†™çš„ç”³è¯·ITINæ—¶çš„åœ°å€ã€‚\nç”µè¯å·ç å¡«å†™çš„æ˜¯GVå·\nç¤¾ä¼šä¿éšœç åå››ä½ï¼šå¡«å†™ITINåå››ä½\nå•†å®¶è¯¦æƒ… çº³ç¨äººè¯†åˆ«ç ï¼šå¡«ITIN\nå•†å®¶åœ°å€ï¼šå’Œä¸Šè¾¹ä¸ªäººè¯¦æƒ…çš„ä¸€æ ·\nç½‘ç«™ï¼šè‡ªå·±çš„ç½‘ç«™\näº§å“æè¿°ï¼šä»‹ç»ä¸€ä¸‹ä¸ºä½•æ”¶æ¬¾ï¼Œæˆ‘è¿™é‡Œå¡«çš„æ˜¯è‹±æ–‡çš„ã€‚\nå…¬å¼€è¯¦æƒ… æ·»åŠ ä¸€äº›æè¿°ä»¥åŠå®¢æœåœ°å€ç­‰ä¿¡æ¯\né“¶è¡Œè¯¦æƒ… æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯revolutçš„ç¾å…ƒè´¦æˆ·ã€‚\nè·¯å¾„å·ç ï¼šACHå·ç \nè´¦æˆ·ï¼šé“¶è¡Œè´¦å·\nä¸¤æ­¥éªŒè¯ å‡ºäºå®‰å…¨ï¼Œæ·»åŠ 2FA\nç¨æ¬¾è®¡ç®— é»˜è®¤\nææ¬¾ æ‹’ç»ç™½å«–\næ‘˜è¦ æ‘˜è¦ä¿¡æ¯\næäº¤ç­‰ä»£å®¡æ ¸å°±å¯ä»¥äº†ã€‚\nè®¾ç½®è´¦æˆ· è¿›å…¥stripeçš„é¦–é¡µï¼Œæç¤ºè´¦æˆ·å·²æ¿€æ´»ã€‚\nä½†æ˜¯å½“æˆ‘ä»¬å»åˆ›å»ºæ”¶æ¬¾çš„æ—¶å€™ï¼Œå‘ç°è¿˜æ˜¯ä¸èƒ½ä½¿ç”¨ã€‚\nç‚¹å‡»æ·»åŠ ä¿¡æ¯ï¼Œå‘ç°è¿˜éœ€è¦å†æ¬¡è¾“å…¥ITINï¼Œæäº¤ã€‚\næ‰‹æœºå·éªŒè¯ è´¦æˆ·è¯¦æƒ…å¤„è¿›è¡Œæ‰‹æœºå·éªŒè¯\nç»è¿‡è¿™äº›å¤„ç†ååŸºæœ¬å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚\nå¯ä»¥åœ¨è´¦æˆ·çŠ¶æ€çœ‹æ˜¯å¦è¿˜éœ€è¦è¡¥å……ä»€ä¹ˆä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾å°±è¯´æ˜å®Œå…¨ä¸éœ€è¦è¡¥å……èµ„æ–™äº†ã€‚\nè´¦å·æ³¨å†Œå®Œæ¯•ï¼Œå¯ä»¥å¼€å¿ƒæ”¶æ¬¾äº†ã€‚\n","date":"2024-03-25T05:35:52Z","image":"https://images.iminling.com/app/hide.php?key=UC9DejIvQjdPSGFkV2JMSGptSlBBOVhWS2dYR0Vpd0c5aHN1RSs4dE1BWko2bWNUcklXMDROejVFQXJCSkRQTklpcE0wVjA9","permalink":"https://konghanghang.github.io/iminling-pages/2024/itin-register-stripe/","title":"ä½¿ç”¨ITINæ³¨å†Œç¾åŒºstripeè¿›è¡Œæ”¶æ¬¾"},{"content":"åœ¨å‰ä¸¤ç¯‡æ–‡ç« ä¸­åˆ†åˆ«ä»‹ç»äº†pveçš„å®‰è£…ä»¥åŠpveå®‰è£…ikuaiåšä¸ºä¸»è·¯ç”±æ¥æ‹¨å·ä¸Šç½‘ï¼Œæ­¤æ—¶çš„ç½‘ç»œç¯å¢ƒåŸºæœ¬å·²ç»ç¨³å®šï¼Œä½†å‡ºäºç‰¹æ®Šéœ€æ±‚ï¼Œæˆ‘éœ€è¦ä½¿ç”¨Openwrtæ¥è¿›è¡Œç§‘å­¦ä¸Šç½‘ï¼Œæ‰€ä»¥ä»Šå¤©å°±æ¥æŠ˜è…¾ä¸€ä¸‹pveå®‰è£…Openwrtå¹¶å®ç°æ—è·¯ç”±æ¨¡å¼ã€‚\nopenwrté•œåƒ æˆ‘ä½¿ç”¨çš„æ˜¯éª·é«…å¤´çš„openwrté•œåƒï¼Œä¸‹è½½çš„æ˜¯beggarç‰ˆæœ¬ï¼Œå¯æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ‰¾ä¸åŒçš„openwrtç‰ˆæœ¬ã€‚ä¸‹è½½å®Œæˆåéœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œè§£å‹ï¼Œä¸‹è½½ä¸‹æ¥çš„æ˜¯.gzç»“å°¾çš„æ–‡ä»¶ï¼Œéœ€è¦è§£å‹æˆ.imgç»“å°¾çš„æ–‡ä»¶ï¼Œè§£å‹åä¸Šä¼ åˆ°pveä¸­\nåˆ›å»º å¸¸è§„ vm IDé»˜è®¤è‡ªå¢åˆ°101(ikuaiæ˜¯100)ï¼Œåç§°è‡ªå·±å¡«ï¼Œæˆ‘è¿™é‡Œå¡«openwrt\næ“ä½œç³»ç»Ÿ é€‰æ‹©ä¸ä½¿ç”¨ä»»ä½•ä»‹è´¨\nç³»ç»Ÿ å…¨éƒ¨é»˜è®¤å°±å¯ä»¥äº†\nç£ç›˜ è¿™é‡Œä¿æŒé»˜è®¤ï¼Œåè¾¹ä¼šè¿›è¡Œåˆ é™¤ã€‚\nCPU åŒæ ·æŠŠj4125çš„å››ä¸ªæ ¸å¿ƒéƒ½ç»™åˆ°å®ƒ\nå†…å­˜ è¿è¡Œopenwrt,1GBçš„RAMå°±å¤Ÿç”¨äº†ã€‚\nç½‘ç»œ å…¨éƒ¨é»˜è®¤\nç¡®è®¤ ç¡®è®¤æ‰€æœ‰é€‰é¡¹æ˜¯å¦æ­£ç¡®ã€‚\næ²¡æœ‰é—®é¢˜å°±ç‚¹å®Œæˆã€‚\nç¡¬ä»¶é…ç½® åˆ›å»ºè¿‡ç¨‹ä¸­é€‰æ‹©çš„ç¡¬ç›˜æ˜¯éœ€è¦åˆ é™¤çš„ï¼Œæ‰€ä»¥éœ€è¦å¯¹ç¡¬ä»¶è¿›è¡Œä¸€äº›é…ç½®ã€‚\nç§»é™¤CD åœ¨ç¡¬ä»¶é…ç½®ä¸­å°†å·²å­˜åœ¨çš„CD/DVDé©±åŠ¨å™¨ç§»é™¤\nåˆ†ç¦»å¹¶ç§»é™¤ç¡¬ç›˜ é€‰ä¸­ç¡¬ç›˜ï¼Œå…ˆè¿›è¡Œåˆ†ç¦»ï¼Œç„¶åè¿›è¡Œç§»é™¤ã€‚\nç§»é™¤\næ·»åŠ ç£ç›˜ éœ€è¦é€šè¿‡è¿›å…¥pveçš„shellæ‰§è¡Œå‘½ä»¤æ¥å¯¼å…¥ç£ç›˜,æ‰§è¡Œå‘½ä»¤qm importdisk è™šæ‹Ÿä¸»æœºç¼–å· /var/lib/vz/template/iso/openwrté•œåƒå local-lvm ï¼Œè™šæ‹Ÿä¸»æœºç¼–å·æ˜¯åœ¨ç»è¿‡ä¸Šè¾¹åˆ›å»ºè™šæ‹Ÿæœºåpveç”Ÿæˆçš„ä¸€ä¸ªç¼–å·ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯101ï¼Œopenwrté•œåƒåæ˜¯åœ¨åˆšå¼€å§‹çš„æ—¶å€™ä¸Šä¼ åˆ°pveä¸­çš„åç§°ï¼Œæˆ‘çš„åç§°æ˜¯ï¼šopenwrt.img. æ›¿æ¢åçš„å‘½ä»¤å¦‚ä¸‹ï¼šqm importdisk 101 /var/lib/vz/template/iso/openwrt.img local-lvmã€‚\næ‰§è¡ŒæˆåŠŸåä¼šåœ¨ç¡¬ä»¶ä¸­çœ‹åˆ°ä¸€ä¸ªæœªä½¿ç”¨çš„ç£ç›˜ï¼Œè¿›è¡Œæ·»åŠ ã€‚\nå¼•å¯¼é¡ºåº ç£ç›˜æ·»åŠ åéœ€è¦ä¿®æ”¹å¼•å¯¼ä¸ºå½“å‰çš„ç£ç›˜\nç»è¿‡ä¸Šè¾¹çš„è®¾ç½®å°±å·²ç»å®Œå…¨okäº†ï¼Œå¯ä»¥æ¥å¯åŠ¨openwrtäº†ã€‚\nopenwrtè®¾ç½® å¯åŠ¨openwrtè™šæ‹Ÿæœºï¼Œå¦‚ä¸‹ä¼šå¡ä½ï¼Œæ•²å›è½¦å°±å¯ä»¥è¿›è¡Œä¸‹å»\nå›è½¦åå¦‚ä¸‹å›¾ï¼Œè¡¨ç¤ºå¯åŠ¨æˆåŠŸ\nè®¾ç½®ip ä¸€èˆ¬å›ºä»¶éƒ½æœ‰è‡ªå·±çš„ç®¡ç†ipï¼Œå¯èƒ½å’Œæˆ‘ä»¬è‡ªå·±çš„ç½‘ç»œä¸æ˜¯åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œæ¯”å¦‚æˆ‘ä¸‹è½½è¿™ä¸ªé»˜è®¤çš„ç®¡ç†ç½‘æ®µæ˜¯192.168.6.1ï¼Œæˆ‘éœ€è¦æ”¹æˆå’Œæˆ‘çš„ç½‘ç»œåœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œ192.168.1.xxxã€‚\nç¼–è¾‘ /etc/config/networkï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š\næˆ‘è¿™é‡Œæ”¹æˆ192.168.1.254ï¼Œä¿®æ”¹ä¿å­˜åé‡å¯openwrt,é‡å¯åå°±å¯ä»¥é€šè¿‡è®¿é—®192.168.1.254åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œç›¸å…³é…ç½®äº†ã€‚\nLANå£è®¾ç½® è¿›å…¥openwrtç³»ç»Ÿåï¼Œé¦–å…ˆæ˜¯å¯¹ç½‘ç»œæ¥å£LANå£è¿›è¡Œè®¾ç½®ï¼Œè®¾ç½®ç½‘å…³ä¸ºçˆ±å¿«(ikuai)çš„ç®¡ç†åœ°å€ï¼Œå¹¶å…³é—­LANå£çš„DHCPåŠŸèƒ½\nä¿®æ”¹ç½‘å…³\nè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘åœ¨åˆšå¼€å§‹è®¾ç½®çš„æ—¶å€™å¹¶æ²¡æœ‰è®¾ç½®ä½¿ç”¨è‡ªå®šä¹‰DNSæœåŠ¡å™¨ï¼Œåè¾¹å‘ç°openwrtæ— æ³•ä¸Šç½‘ï¼Œæœ€ç»ˆæ˜¯å¡«å†™äº†ä¸€ä¸ªDNSæœåŠ¡å™¨åæ‰è§£å†³çš„ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨223.5.5.5æˆ–è€…å…¶ä»–çš„DNSæœåŠ¡å™¨ã€‚\nå…³é—­é˜²ç«å¢™ æ¥ä¸‹æ¥å…³é—­openwrtçš„é˜²ç«å¢™\nUPNP å¼€å¯UPNP\nç»è¿‡ä¸Šè¾¹çš„è®¾ç½®ï¼ŒopenwrtåŸºæœ¬å·²è®¾ç½®å®Œæ¯•ï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº†ã€‚\næ—è·¯ç”±æ¨¡å¼ openwrtåšä¸ºæ—è·¯ç”±ï¼Œè¯¥æ€ä¹ˆå·¥ä½œå‘¢ï¼Œåœ¨ikuaiè®¾ç½®çš„æ—¶å€™æˆ‘è®¾ç½®äº†31-250çš„ä¸€ä¸ªDHCPç½‘ç»œæ®µï¼Œä»–ä»¬åªä¼šç»è¿‡ikuaiæ¥å¤„ç†æµé‡ï¼Œé‚£ä»€ä¹ˆè®¾å¤‡å¯ä»¥ç»è¿‡è¿™ä¸ªopenwrtæ—è·¯ç”±å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦åœ¨ikuaiä¸­è¿›è¡Œä¸€äº›è®¾ç½®äº†ï¼ŒåŒæ ·æ˜¯DHCPæœåŠ¡,æˆ‘è®¾ç½®äº†10-30è¿™ä¸ªipæ®µçš„ipçš„ç½‘å…³ä¸º192.168.1.254ä¹Ÿå°±æ˜¯openwrtçš„ipï¼Œé‚£ä¹ˆè¿™ä¸ªipæ®µé‡Œçš„è®¾ç½®çš„ç½‘ç»œå°±ä¼šç»è¿‡openwrtæ¥å¤„ç†ï¼Œæ»¡è¶³ç‰¹å®šéœ€æ±‚äº†ã€‚\nå› ä¸ºæˆ‘æ˜¯å…ˆè®¾ç½®çš„31-250è¿™ä¸ªipæ®µï¼Œæ‰€ä»¥è¿æ¥ä¸Šæ¥çš„è®¾ç½®è¢«ä¼˜å…ˆå¾€è¿™ä¸ªipæ®µåˆ†é…ï¼Œè‡ªå·±çš„å…¶ä»–è®¾ç½®å¦‚æœæƒ³è¦ä½¿ç”¨openwrtæ¥å¤„ç†æµé‡ï¼Œåˆ™å¯¹ç‰¹å®šè®¾ç½®å›ºå®šipå°±å¯ä»¥äº†ï¼Œè®¾ç½®ä»–ä»¬çš„ipåœ¨10-30ä¹‹é—´ã€‚\nå¤§åŠŸå‘Šæˆï¼Œä½¿ç”¨pveå®‰è£…ikuaiå¹¶ä½¿ç”¨openwrtåšä¸ºæ—è·¯ç”±ã€‚\n","date":"2024-03-24T05:43:31Z","image":"https://images.iminling.com/app/hide.php?key=UHVPZkRvYkllMlN2SzRMa09qTXcxSDNHaVd1czRGUGtjbmtNM2RoWnpCWEtWb0FYUmF5OHRtZWhxT3JQb2RUd2RDZkQvS3M9","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-install-openwrt/","title":"Proxmox VE(PVE)8.0å®‰è£…Openwrtå®ç°æ—è·¯ç”±æ¨¡å¼"},{"content":"ä¸Šä¸€ç¯‡ä»‹ç»äº†åœ¨J4125æœºå™¨ä¸Šå®‰è£…pveç¯å¢ƒï¼Œå®‰è£…å¥½pveåæ•´ä¸ªæœºå™¨è¿˜æ˜¯æ— æ³•ä¸Šç½‘çš„çŠ¶æ€ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±æ¥ä»‹ç»ä¸€ä¸‹åœ¨pveä¸­å®‰è£…çˆ±å¿«ï¼Œä½¿ç”¨çˆ±å¿«(ikuai)æ¥è¿›è¡Œæ‹¨å·ä¸Šç½‘ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…openwrt,å‡ºäºç»¼åˆè€ƒè™‘æˆ‘è¿™é‡Œè¿˜æ˜¯å®‰è£…çˆ±å¿«(ikuai)ï¼Œä¼šç¨³å®šä¸€äº›ï¼Œåç»­å†æŠ˜è…¾å…¶ä»–çš„ä¹Ÿä¸å½±å“å®¶äººä¸Šç½‘ã€‚\nçˆ±å¿«(ikuai)å›ºä»¶ çˆ±å¿«(ikuai)çš„å›ºä»¶ä¹Ÿä¸å¤§ï¼Œç›´æ¥å®˜ç½‘ä¸‹è½½å°±å¯ä»¥äº†ï¼Œä¸‹è½½ISO 64ä½çš„é•œåƒã€‚æŠŠä¸‹è½½çš„é•œåƒä¸Šä¼ åˆ°pveä¸­\nåˆ›å»ºikuaiè™šæ‹Ÿæœº é¼ æ ‡å³é”®ç‚¹å‡»pveé€‰æ‹©åˆ›å»ºè™šæ‹Ÿæœºï¼š\nå¸¸è§„ åç§°å‘½åä¸ºikuaiï¼Œå…¶ä»–é»˜è®¤\næ“ä½œç³»ç»Ÿ ISOé•œåƒé€‰æ‹©ä¸Šä¼ çš„çˆ±å¿«é•œåƒï¼š\nç³»ç»Ÿ ä¿æŒé»˜è®¤ç»§ç»­ä¸‹ä¸€æ­¥\nç£ç›˜ ikuaiæˆ‘ä¸åšå…¶ä»–ç”¨å¤„ï¼Œæ‰€ä»¥è¿™é‡Œç»™5GBç¡¬ç›˜\nCPU cpuæŠŠj4125çš„å››ä¸ªæ ¸å¿ƒéƒ½ç»™å®ƒ\nå†…å­˜ æˆ‘è¿™é‡Œç»™2GBçš„å†…å­˜\nç½‘ç»œ é»˜è®¤\nç¡®è®¤ æ˜¾ç¤ºikuaiè™šæ‹Ÿæœºçš„ä¸€äº›ä¿¡æ¯ï¼Œç¡®è®¤å’Œæˆ‘ä»¬é€‰æ‹©çš„æ˜¯å¦ä¸€è‡´\nä¸€äº›åŸºæœ¬ä¿¡æ¯å°±å·²ç»å®Œæˆäº†ã€‚\næ·»åŠ ç›´é€šç½‘å£ åœ¨ç•…ç½‘J4125å®‰è£…pve 8.0ä¸€ ç¯‡ä¸­å·²ç»è§„åˆ’äº†ETH3å½’ä¸ºpveçš„ç®¡ç†å£ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ä¸‰ä¸ªç½‘å£éƒ½ç›´é€šç»™ikuai,è®©ikuaiæ¥ç®¡ç†,é€‰æ‹©ç¡¬ä»¶ï¼Œç„¶åç‚¹å‡»æ·»åŠ ï¼ŒPCIè®¾å¤‡ï¼Œå°±ä¼šå¼¹å‡ºä¸‹å›¾ï¼š\nå¯ä»¥çœ‹åˆ°æ€»å…±æœ‰4ä¸ªI226-Vçš„ç½‘å£ï¼Œ04å·²ç»è¢«pveç®¡ç†å£ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠ01ï¼Œ02ï¼Œ03åˆ†åˆ«æ·»åŠ åˆ°ç¡¬ä»¶ä¸­ã€‚\nè®¾ç½®å¼•å¯¼é¡¹ é»˜è®¤ä¼˜å…ˆæ˜¯ä»æ·»åŠ çš„ç¡¬ç›˜å¯åŠ¨ï¼Œå› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ç¡¬ç›˜é‡Œè¿˜æ²¡æœ‰æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦å…ˆä»ä¸Šä¼ çš„ISOæ–‡ä»¶å¼•å¯¼å¯åŠ¨ï¼Œä¿®æ”¹å¯åŠ¨é¡¹ä¸ºISOæ–‡ä»¶\nå®‰è£… ç»è¿‡ä¸Šè¾¹çš„è®¾ç½®ï¼Œä¸‹è¾¹å°±å¯ä»¥æ¥çœŸæ­£çš„å®‰è£…ï¼Œç‚¹å‡»å¯åŠ¨\né€‰æ‹©1å®‰è£…åˆ°ç¡¬ç›˜ï¼Œå®‰è£…æˆåŠŸåå°±ä¼šè‡ªåŠ¨é‡å¯ã€‚é‡å¯åå…ˆå…³é—­è™šæ‹Ÿæœºï¼Œå› ä¸ºå¯åŠ¨é¡¹é—®é¢˜ è¿˜æ˜¯ä»é•œåƒå¯åŠ¨çš„ï¼Œæ‰€ä»¥å…ˆå…³æœº ç„¶åå»è°ƒæ•´å¯åŠ¨é¡¹ä¸ºç¡¬ç›˜\nè°ƒæ•´å®Œæˆåå°±å¯ä»¥å†æ¬¡å¯åŠ¨ikuaiè™šæ‹Ÿæœºäº†ã€‚\nè®¾ç½®LAN çœ‹åˆ°ä¸‹å›¾è¯´æ˜ikuaiå·²ç»å®‰è£…å¹¶å¯åŠ¨æˆåŠŸäº†\nå¯ä»¥çœ‹åˆ°ä¸Šå›¾é‡Œæœ‰å››ä¸ªç½‘å£ï¼Œeth0-eth3,å…¶ä¸­eth0æ˜¯pveä¸€ä¸ªè™šæ‹Ÿç½‘å£ï¼Œæ˜¯ikuaiçš„ç®¡ç†ç½‘å£ï¼Œå…¶ä»–ä¸‰ä¸ªç½‘å£æ˜¯ç›´é€šçš„ä¸‰ä¸ªPICç½‘å£è®¾å¤‡ï¼Œåè¾¹è¿›å…¥ikuaiè®¾ç½®ç•Œé¢åä¼šæŠŠeth1è®¾ç½®ä¸ºwanå£ï¼Œç”¨æ¥è¿æ¥å…‰çŒ«æ‹¨å·ä½¿ç”¨ã€‚\né€‰æ‹©2è®¾ç½®LAN,æˆ‘è§„åˆ’çš„ikuaiçš„ç®¡ç†åœ°å€æ˜¯192.168.1.253\nè®¾ç½®æˆåŠŸåå°±å¯ä»¥ä¸ç”¨å†ç†pveäº†ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ç½‘é¡µè¿›å…¥ikuaiçš„ç®¡ç†é¡µé¢ï¼Œæµè§ˆå™¨ç›´æ¥è®¿é—®192.168.1.253(è¿™ä¸ªæ ¹æ®è‡ªå·±è®¾ç½®çš„lanåœ°å€æ¥è¿›å…¥)ï¼Œå¯†ç éƒ½æ˜¯admin/adminã€‚åˆæ¬¡ç™»å½•ä¼šè®©æ”¹å¯†ç ï¼Œä¿®æ”¹ä¸ºè‡ªå·±å¸¸ç”¨çš„å¯†ç ã€‚\né…ç½®WAN è¿›å…¥ç®¡ç†é¡µé¢åä¼šçœ‹åˆ°WANå£æœ‰å¼‚å¸¸ï¼Œå…ˆé…ç½®WANå£\nç»‘å®šwanå¹¶è®¾ç½®pppoeæ‹¨å·ä¸Šç½‘ï¼š\nè®¾ç½®å¥½WANåï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰æŠŠWANå£å’Œå…‰çŒ«è¿åœ¨ä¸€èµ·ï¼Œç½‘ç»œè¿˜æ˜¯ä¸è¡Œï¼Œæˆ‘ä»¬å…ˆå®Œæˆä¸€äº›å…¶ä»–çš„é…ç½®é¡¹ã€‚\né…ç½®LAN å°†ç›´é€šç»™çˆ±å¿«çš„å…¶ä»–ä¸¤ä¸ªå£åˆ†é…ç»™lan\nDHCPé…ç½® å¯¹è¿æ¥ä¸Šæ¥çš„è®¾å¤‡è¿›è¡Œipåœ°å€è‡ªåŠ¨åˆ†é…\næ·»åŠ ä¸€æ¡æ–°çš„dhcpé…ç½®,æˆ‘è¿™é‡Œé¢„ç•™ä¸€äº›ipç»™è‡ªå·±ä½¿ç”¨ï¼Œæ‰€ä»¥åˆ†é…çš„ipæ˜¯ä»31åˆ°250ã€‚\nç½‘å…³ï¼šè®¾ç½®ä¸ºikuaiè‡ªå·±çš„ip\nDNSï¼šè®¾ç½®äº†ä¸€ä¸ªé˜¿é‡Œçš„å’Œä¸€ä¸ª114çš„ã€‚\nå…¶ä»–é»˜è®¤å°±å¥½ã€‚\nç„¶åé‡å¯dhcpæœåŠ¡ã€‚\nUPNP å¼€å¯ikuaiçš„UPNPæœåŠ¡\nikuaiçš„è®¾ç½®åŸºæœ¬å·²ç»è®¾ç½®å®Œæ¯•äº†ã€‚å‰©ä¸‹çš„å°±æ˜¯è¦æ¥å…¥äº’è”ç½‘äº†ã€‚\næŠŠå…‰çŒ«è¿åœ¨j4125æœºå™¨çš„eth1ä¸Šï¼Œè·¯ç”±å™¨æ¥åˆ°æœºå™¨çš„eth3ä¸Šæ¥å¼€å¯wifiï¼Œæ•´ä¸ªå®¶åº­çš„ç½‘ç»œå°±å·²ç»é€šäº†ã€‚\n","date":"2024-03-24T04:02:02Z","image":"https://images.iminling.com/app/hide.php?key=MGt0VDNLdUNhUDI2MXVlRkUvSXZvVS9KSE14UzlOazF4Z3JqRjhmVnhFbmV0UzdXNE1NUXUyNUxXNkVQNjN6VlVtL1JpN009","permalink":"https://konghanghang.github.io/iminling-pages/2024/pve-install-ikuai/","title":"Proxmox VE(PVE)8.0å®‰è£…çˆ±å¿«ikuaiè™šæ‹Ÿæœºå¹¶ç›´é€šç½‘å¡"},{"content":"å¹´å‰ç»¼åˆè€ƒè™‘ä¹°äº†ä¸€å°ç•…ç½‘çš„J4125ï¼Œä½åŠŸè€—ï¼Œä¹Ÿèƒ½æ»¡è¶³ä¸€äº›ææœºéœ€æ±‚ã€‚ç”±äºä¸€ç›´å¿™äºå·¥ä½œï¼Œä¸€ç›´æ²¡æœ‰æ—¶é—´ç ”ç©¶å®ƒï¼Œæœ€è¿‘ç»ˆäºæŠ½ç©ºç»™æœºå™¨è£…ä¸Šäº†PVE8.0ç³»ç»Ÿï¼Œè®°å½•ä¸€ä¸‹æŠ˜è…¾çš„è¿‡ç¨‹ã€‚\næœºå™¨é…ç½® ç•…ç½‘J4125\nè‹±ç‰¹å°”Â®ç¬¬åä»£Gemini Lakeä½åŠŸè€—å››æ ¸å¤„ç†å™¨ 4ä¸ªIntel i226-V 2.5Gç½‘å¡ 2æ¡SO-DIMM DDR4 2400MHzï¼ˆå…¼å®¹2666/3200MHzï¼‰ 1ä¸ªmSATAæ¥å£ã€1ä¸ªSATA3.0ç¡¬ç›˜æ¥å£ 1ä¸ªHDMI 1.4æ¥å£æ”¯æŒ4Kï¼ˆ4096x2160@30Hzï¼‰ 1ä¸ªDP 1.2æ¥å£æ”¯æŒ4Kï¼ˆ4096x2160@60Hzï¼‰ 4ä¸ªUSB 3.0 å…¨é•¿miniPCleæ’æ§½æ”¯æŒUSBä¿¡å·çš„4G/WiFié€šè®¯æ¨¡å— ç›´æµDC-12V 55*25è¾“å…¥æˆ–å‡¤å‡°ç«¯å­ä¾›ç”µ æ”¯æŒçœ‹é—¨ç‹—ã€GPIOã€PXEæ— ç›˜å¯åŠ¨ã€ç½‘ç»œå”¤é†’ æˆ‘è¿™è¾¹æ˜¯ä¹°äº†ä¸€ä¸ªæ¢µæƒ³çš„256G mSATAç¡¬ç›˜ï¼Œå¦å¤–ä¹°äº†ä¸¤ä¸ªä¸‰æ˜Ÿ8GB,3200HZçš„å†…å­˜æ¡ï¼Œæ•´æœºçš„ç¡¬ä»¶ç®—æ˜¯å®Œæˆã€‚\nå‡†å¤‡å·¥ä½œ Uç›˜ å®‰è£…PVEéœ€è¦ä»Uç›˜è¿›è¡Œå¯åŠ¨ï¼Œè¿™é‡Œä½¿ç”¨ventoryæ¥åˆ¶ä½œå¯åŠ¨ç›˜ã€‚ç”µè„‘ä¸Šæ’ä¸Šéœ€è¦åˆ¶ä½œå¯åŠ¨ç›˜çš„Uç›˜ï¼Œç„¶åä¸‹è½½ventoryè§£å‹åè¿è¡Œventory2Disk.exeï¼Œè®¾å¤‡é€‰æ‹©è‡ªå·±çš„Uç›˜ï¼Œå®‰è£…å°±å¯ä»¥äº†ã€‚\nPVEä¸‹è½½ ç›´æ¥PVEå®˜ç½‘è¿›è¡Œä¸‹è½½ï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µä¸‹è½½ï¼Œæˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯8.0çš„ç‰ˆæœ¬ã€‚\næŠŠä¸‹è½½å¥½çš„pveé•œåƒæ”¾åˆ°ä¸Šè¾¹åˆ¶ä½œå¥½çš„Uç›˜ä¸­ã€‚\nå‡†å¤‡å·¥ä½œå·²å®Œæˆã€‚\nå®‰è£…PVE å®‰è£…çš„æ‰€æœ‰æˆªå›¾éƒ½æ¥æºäºç½‘ç»œï¼Œå› ä¸ºå®‰è£…çš„è¿‡ç¨‹æ²¡åŠæ³•æˆªå›¾ï¼Œå…·ä½“çš„ipåœ°å€è¯·ä»¥æ–‡å­—ä¸­è¯´æ˜çš„ä¸ºå‡†ã€‚\nç½‘æ®µæ˜¯ï¼š192.168.1.xxx\nç½‘å…³ï¼š192.168.1.253\npveç®¡ç†ipï¼š192.168.1.251\nç½‘å£è§„åˆ’ æœºå™¨æœ‰4ä¸ªç½‘å£ï¼ŒETH0ã€ETH1ï¼ŒETH2ï¼ŒETH3ï¼Œæˆ‘æ‰“ç®—æ˜¯è®©ETH3æ¥ä½œä¸ºç®¡ç†ç«¯å£ï¼Œæ‰€ä»¥åœ¨åè¾¹å®‰è£…çš„æ—¶å€™é€‰æ‹©æœ€åä¸€ä¸ªç½‘å£ã€‚\nå®‰è£… ä¸‹è¾¹å°±å¯ä»¥å¼€å§‹å®‰è£…pveäº†ï¼Œæœºå™¨é€šè¿‡HDMIè¿æ¥åˆ°æ˜¾ç¤ºå™¨ï¼Œå¹¶è¿æ¥é”®ç›˜å’Œé¼ æ ‡ã€‚ç„¶åè¿›è¡Œå¼€æœºï¼Œæˆ‘è¿™å°æœºå™¨æ˜¯æŒ‰deleteé”®è¿›å…¥biosè®¾ç½®,åœ¨Booté€‰é¡¹ä¸­é€‰æ‹©Boot option #1ä¸­é€‰æ‹©ä¸Šè¾¹åˆ¶ä½œçš„å¯åŠ¨ç›˜ï¼Œç„¶åF10ä¿å­˜é‡å¯ã€‚\næ¨¡å¼é€‰æ‹© å¼€æœºåå°±è¿›å…¥äº†å®‰è£…ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªæ¨¡å¼è¿›è¡Œå®‰è£…ï¼š åè®® æ¥ä¸‹æ¥å°±æ˜¯åŒæ„åè®®ï¼š\nç¡¬ç›˜é€‰æ‹© é€‰æ‹©ç¡¬ç›˜ï¼Œé€‰æ‹©è‡ªå·±çš„J4125æœºå™¨ä¸­å®‰è£…çš„ç¡¬ç›˜ï¼Œä¸è¦é€‰æ‹©æˆäº†Uç›˜ã€‚ åœ°åŒºè®¾ç½® åœ°åŒºå’Œæ—¶åŒºä»¥åŠé”®ç›˜è®¾ç½®ï¼š å¯†ç è®¾ç½® ç®¡ç†å¯†ç å’Œé‚®ç®±è®¾ç½®,å¯†ç åœ¨åè¾¹ç™»å½•pveçš„æ—¶å€™è¦ç”¨åˆ°ï¼Œè¯·ç‰¢è®°ã€‚ ç½‘ç»œè®¾ç½® æ¥ä¸‹æ¥çš„å°±æ˜¯é‡ç‚¹äº†ï¼Œéœ€è¦æŒ‡å®špveçš„ç®¡ç†ç½‘å£ä»¥åŠipçš„ä¸€äº›ä¿¡æ¯ å‡å¦‚æˆ‘æƒ³è®©æˆ‘å®¶çš„æ‰€æœ‰è®¾ç½®çš„ipæ˜¯192.168.1.xxxå¼€å¤´,å…¶ä¸­ç¬¬ä¸‰ä½çš„1å¯ä»¥æ›¿æ¢ä¸ºè‡ªå·±æƒ³è¦çš„ç½‘æ®µï¼Œæ¯”å¦‚ï¼š192.168.31.xxx(å°ç±³è·¯ç”±å™¨å°±æ˜¯ç”¨è¿™ä¸ªç½‘æ®µ)\nè¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™5ä¸ªé€‰é¡¹ï¼š\nç®¡ç†æ¥å£ï¼šè¿™é‡Œåœ¨ä¸Šè¾¹ä¹Ÿè¯´äº†ï¼Œæˆ‘æ‰“ç®—æŠŠç®¡ç†æ¥å£æ”¾åœ¨ETH3ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œé€‰äº†æœ€åä¸€ä¸ªï¼šenp4s0.\nä¸»æœºåç§°ï¼šè¿™é‡Œå¯ä»¥ä¸ç”¨å¤„ç†ï¼Œé»˜è®¤å°±è¡Œäº†ã€‚\nipåœ°å€ï¼šè¿™é‡Œçš„ipæ˜¯ç­‰ä¸‹åœ¨ç½‘é¡µç™»å½•çš„åœ°å€ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚æ¥æŒ‡å®šï¼Œæˆ‘è‡ªå·±çš„è®¾ç½®ä¸º192.168.1.251,\nç½‘å…³ï¼šè¿™é‡Œæ˜¯ä¸»è·¯ç”±çš„åœ°å€ï¼Œæ¯”å¦‚æˆ‘åœ¨å®‰è£…pveåæƒ³è¦å†è£…ikuaiæ¥æ‹¨å·ä¸Šç½‘ï¼Œå¹¶ä¸”ikuaiçš„ç®¡ç†ipä¸ºï¼š192.168.1.253ï¼Œé‚£ä¹ˆæˆ‘è¿™é‡Œçš„ç½‘å…³åœ°å€å°±å¡«è¿™ä¸ªäº†ã€‚å¦‚æœä½ åè¾¹çš„ikuaiæ˜¯å…¶ä»–çš„ipï¼Œæ›¿æ¢ä¸ºè‡ªå·±çš„ã€‚\nDNSæœåŠ¡å™¨ï¼šå¡«å†™å’Œç½‘å…³ä¸€æ ·çš„åœ°å€å°±å¯ä»¥äº†ã€‚\nè¿™é‡Œçš„ç½‘å…³å¦‚æœå¡«é”™äº†ä¹Ÿæ²¡å…³ç³»ï¼Œåè¾¹åœ¨pveé‡Œä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœå¡«é”™æœ€ç›´æ¥çš„è¡¨ç°å°±æ˜¯pveæ²¡åŠæ³•ä¸Šç½‘ã€‚è¿™ä¸ªæˆ‘åœ¨æŠ˜è…¾çš„è¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†ã€‚\nå‰©ä¸‹çš„å°±æ˜¯æ ¸å¯¹ä¿¡æ¯ï¼Œç„¶åè¿›è¡Œå®‰è£…äº†ã€‚ç­‰å®‰è£…å®Œæˆåä¼šæç¤ºè®©é‡å¯ã€‚è¿›è¡Œé‡å¯å°±å¯ä»¥äº†ï¼Œåœ¨é‡å¯çš„æ—¶å€™æ‹”æ‰Uç›˜ï¼Œé˜²æ­¢åˆä»å¯åŠ¨ç›˜ä¸­è¿›è¡Œäº†å¯åŠ¨ã€‚\nPVEè®¾ç½® ä¸Šè¾¹å®‰è£…pveåä¼šè¿›è¡Œé‡å¯ï¼Œé‡å¯åä¼šè¿›å…¥ä¸€ä¸ªå‘½ä»¤ç•Œé¢ï¼Œéœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç æ‰èƒ½è¿›å…¥\nè¿™æ—¶å€™å¯ä»¥æŠŠæœºå™¨è¿æ¥åˆ°ç”µè„‘ï¼Œä½¿ç”¨ç”µè„‘é€šè¿‡ç½‘é¡µç«¯æ¥è®¾ç½®pveäº†ã€‚æ­£ç¡®çš„è¿æ¥æ–¹å¼æ˜¯ï¼šåœ¨å®‰è£…è¿‡ç¨‹ä¸­çš„ç®¡ç†ç«¯å£è¿ä¸Šç½‘çº¿ï¼Œç½‘çº¿çš„å¦ä¸€ç«¯æ’å…¥åˆ°ç”µè„‘çš„ç½‘çº¿å£ï¼Œå¹¶è®¾ç½®ç”µè„‘ç«¯å’Œpveåœ¨åŒä¸€ä¸ªç½‘æ®µï¼ˆè¿™ä¸ªåœ¨ä¸Šè¾¹å®‰è£…çš„æ—¶å€™å·²ç»è¯´æ˜è¿‡ï¼‰ï¼Œæ¯”å¦‚æˆ‘çš„å®‰è£…ç½‘æ®µæ˜¯192.168.1.xxxï¼Œpveç®¡ç†ipæ˜¯ï¼š192.168.1.251ï¼Œé‚£ä¹ˆè®¾ç½®ç”µè„‘çš„ç½‘ç»œä¸º192.168.1.200å°±å¯ä»¥äº†ã€‚\nè®¾ç½®å¥½åå°±å¯ä»¥é€šè¿‡ç½‘é¡µç«¯è®¿é—®ipï¼š192.168.1.251:8006æ¥è®¿é—®äº†,å¦‚æœæç¤ºä¸å®‰å…¨åˆ™ç‚¹å‡»é«˜çº§ç»§ç»­è®¿é—®ï¼š\nç„¶åè¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•ï¼Œç”¨æˆ·åï¼šrootï¼Œå¯†ç æ˜¯åœ¨å®‰è£…çš„æ—¶å€™è¾“å…¥çš„å¯†ç ã€‚å°±è¿›å…¥äº†pveçš„ç®¡ç†ç•Œé¢ï¼š\nç½‘å£ç›´é€š è¿›å…¥åé¦–å…ˆéœ€è¦è®¾ç½®çš„å°±æ˜¯ç½‘å£ç›´é€šï¼Œè¿›å…¥pveçš„shellç•Œé¢ï¼Œä¿®æ”¹/etc/default/grubæ–‡ä»¶ï¼Œä¿®æ”¹GRUB_CMDLINE_LINUX_DEFAULT=\u0026ldquo;quiet\u0026quot;ä¸ºGRUB_CMDLINE_LINUX_DEFAULT=\u0026ldquo;quiet intel_iommu=on\u0026rdquo;\nç„¶åæ‰§è¡Œupdate-grubæ›´æ–°å¹¶é‡å¯ï¼š\n1 2 3 4 5 6 7 8 9 root@pve:~# vim /etc/default/grub root@pve:~# update-grub Generating grub configuration file ... Found linux image: /boot/vmlinuz-6.2.16-3-pve Found initrd image: /boot/initrd.img-6.2.16-3-pve Found memtest86+ 64bit EFI image: /boot/memtest86+x64.efi Adding boot menu entry for UEFI Firmware Settings ... done root@pve:~# reboot è¿›è¡Œåˆ°è¿™é‡Œpveå®‰è£…åŸºæœ¬å·²ç»å®Œæˆäº†ï¼Œæˆªæ­¢åˆ°ç°åœ¨pveè¿˜ä¸å¯ä»¥ä¸Šç½‘ï¼Œè¿™ä¸ªéœ€è¦åœ¨è¿›è¡Œçˆ±å¿«(ikuai)å®‰è£…åï¼Œè¿›è¡Œæ‹¨å·ä¸Šç½‘è®©æ•´ä¸ªç¯å¢ƒéƒ½æœ‰ç½‘ç»œã€‚åç»­åœ¨è¿›è¡Œä»‹ç»ã€‚\n","date":"2024-03-23T09:15:47Z","image":"https://images.iminling.com/app/hide.php?key=ZG5zSWhxS29UVDdDc25iUEVOTmRiREVtRjdYOHNNMmNnbHVyRXd2QUJZRnVacll6TW8vZ3EzQ0g2ZnFhYXN5TEozU3hQOUU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/j4125-install-pve/","title":"ç•…ç½‘J4125å®‰è£…Proxmox VE(PVE)8.0"},{"content":"æœ€è¿‘ä¸Šè½¦çš„office365åˆ°æœŸäº†ï¼Œæœç´¢åå‘ç°åœ¨è‹¹æœåœŸè€³å…¶å•†åº—ä½¿ç”¨onedriveå¯ä»¥ä»¥23.99é‡Œæ‹‰æ¯ä¸ªæœˆçš„ä»·æ ¼æ¥å¼€é€šoffice365ï¼Œç®—ä¸‹æ¥ä¸€ä¸ªæœˆ6å—éƒ½ä¸åˆ°(åœŸè€³å…¶é’±åŒ…FUPSæ³¨å†Œå¯ä»¥å‚è€ƒå¦ä¸€ç¯‡æ–‡ç« ï¼šåœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSæ³¨å†Œæ•™ç¨‹)ï¼Œéå¸¸åˆ’ç®—ï¼Œæ‰€ä»¥å°±å¼€å§‹æŠ˜è…¾ã€‚æ‰‹ä¸Šçš„iphone se2çš„ç‰ˆæœ¬æ˜¯15.5ï¼Œåœ¨å•†åº—ä¸‹è½½onedriveçš„æ—¶å€™æç¤ºå½“å‰ç‰ˆæœ¬åªæ”¯æŒios16ä»¥åŠæ›´æ–°çš„iosç‰ˆæœ¬ï¼Œæˆ‘åˆä¸æƒ³å‡çº§æ‰‹ä¸Šè¿™ä¸ªæ‰‹æœºçš„ç‰ˆæœ¬ï¼Œäºæ˜¯å°±æƒ³ç€é€šè¿‡fiddleræŠ“åŒ…æ¥è·å–ios15æ”¯æŒçš„ç‰ˆæœ¬æ¥è¿›è¡Œå®‰è£…ã€‚\næ—§ç‰ˆæœ¬iTuneså®‰è£… æˆ‘è¿™é‡Œä¸‹è½½çš„æ˜¯12.6.5.3çš„ç‰ˆæœ¬ï¼ŒiTunesçš„å†å²ç‰ˆæœ¬å¯ä»¥å»åˆ°wikiç™¾ç§‘è¿›è¡Œä¸‹è½½ï¼šiTunesã€‚è¿™é‡Œè¾¹åŒ…å«æ‰€æœ‰çš„ç‰ˆæœ¬çš„ä¸‹è½½é“¾æ¥ï¼Œå¦‚æœæ‰“ä¸å¼€wikiç™¾ç§‘ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹è¾¹è¿™ä¸ªurlè¿›è¡Œä¸‹è½½ï¼Œä¹Ÿæ˜¯ç›´é“¾è‹¹æœå®˜ç½‘ï¼šiTunes 12.6.5.3ã€‚ä¸‹è½½æ­£å¸¸å®‰è£…ï¼ŒæˆåŠŸåç™»å½•è‡ªå·±çš„åœŸè€³å…¶apple idå°±å¯ä»¥äº†ã€‚\nfiddlerå®‰è£…é…ç½® fiddlerç›´æ¥å»å®˜ç½‘ä¸‹è½½å°±å¯ä»¥ï¼Œå®˜ç½‘åœ°å€ï¼šfiddlerã€‚å®‰è£…æˆåŠŸåé¦–å…ˆè¦å¼€å¯è§£å¯†httpsæµé‡ï¼Œä½ç½®ï¼šTools -\u0026gt; Options -\u0026gt; decrypt https trafficï¼Œå‹¾é€‰åå°±ä¼šè®©æ·»åŠ è¯ä¹¦åˆ°å½“å‰ç”µè„‘ï¼Œæ ¹æ®å¼¹çª—æç¤ºè¿›è¡Œå®‰è£…ã€‚\næ·»åŠ æˆåŠŸåï¼ŒæŠŠignore server certificate errors(unsafe)ä¹Ÿå‹¾é€‰ä¸€ä¸‹ã€‚åˆ°è¿™é‡Œfiddlerå°±è®¾ç½®å¥½äº†ã€‚\nè·å–oneDriveç‰ˆæœ¬ ç›´æ¥åœ¨iTunesä¸­è¿›è¡Œæœç´¢ï¼Œæ‰¾åˆ°oneDriveï¼š\nç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œå¯ä»¥çœ‹åˆ°ä¸€ä¸ªshow all versionsçš„é“¾æ¥ï¼Œç‚¹å‡»æŸ¥çœ‹æ‰€æœ‰çš„ç‰ˆæœ¬è¯´æ˜ï¼š\nç‰ˆæœ¬è¯´æ˜å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å®˜æ–¹çš„è¯´æ˜ï¼Œ14.21.7æ˜¯æœ€åä¸€ä¸ªæ”¯æŒios15çš„ç‰ˆæœ¬ï¼Œåç»­çš„ç‰ˆæœ¬åªæ”¯æŒ16å’Œ17.è¿™ä¸ªç‰ˆæœ¬å°±æ˜¯æˆ‘éœ€è¦çš„ç‰ˆæœ¬äº†ã€‚\nç°åœ¨åªæ˜¯çŸ¥é“äº†ç‰ˆæœ¬æ˜¯å“ªä¸ªï¼Œåœ¨ä¸‹è½½å†å²ç‰ˆæœ¬çš„æ—¶å€™éœ€è¦è·å–ä¸€ä¸ª9ä½æ•°çš„idæ‰èƒ½æ­£ç¡®çš„ä¸‹è½½åˆ°å¯¹åº”çš„ç‰ˆæœ¬ã€‚æ‰€ä»¥éœ€è¦å…ˆè·å–å†å²ç‰ˆæœ¬çš„idã€‚\nè·å–å†å²ç‰ˆæœ¬id æ­¤æ—¶éœ€è¦ä½¿ç”¨åˆ°fiddleræ¥è¿›è¡ŒæŠ“åŒ…ï¼Œå¦‚æœå·²ç»å¯åŠ¨äº†fiddlerå¯ä»¥å…ˆæ¸…ç†ä¸€ä¸‹å·²ç»æŠ“å–çš„å†å²è®°å½•,å¦‚ä¸‹å›¾ï¼Œremove allæˆ–è€…ä½¿ç”¨å¿«æ·é”®ï¼šctrl+xæ¸…é™¤ï¼š\næ¸…é™¤ååœ¨iTunesé‡Œè¿›è¡Œä¸€æ¬¡onedriveçš„ä¸‹è½½ï¼Œæ­¤æ—¶åœ¨fiddleré‡Œä¼šæœ‰ä¸€ä¸ªpxx-buyå¼€å¤´çš„urlï¼Œè¿™ä¸ªurlå°±æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾çš„urlï¼Œåœ¨è¿™é‡Œè¾¹å¯ä»¥è·å–åˆ°onedriveæ‰€æœ‰çš„å†å²ç‰ˆæœ¬idï¼Œå…ˆåŒå‡»è¿™ä¸ªurlï¼Œåœ¨å³ä¾§å°±ä¼šæœ‰ä¿¡æ¯å±•ç¤ºå‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š\nä¸Šå›¾æˆ‘æ¡†èµ·æ¥çš„æœ‰ä¸€å¤„æ˜¯è¯´å“åº”ä½“è¢«åŠ å¯†ï¼Œéœ€è¦ç‚¹å‡»æ¥è§£å¯†(Response body is encoded. Click to decode)ï¼Œé¼ æ ‡ç‚¹å‡»ä¸€ä¸‹ï¼Œåœ¨textViewä¸‹å°±å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„idäº†,è¿™ä¸ªidä»ä¸Šåˆ°ä¸‹ä¸€æ¬¡é€’å¢ï¼Œè¶Šæ–°çš„ç‰ˆæœ¬è¶Šé åï¼š\né€šè¿‡ä¸Šè¾¹æŸ¥çœ‹onedriveçš„ç‰ˆæœ¬è¯´æ˜çœ‹å‡ºæ˜¯å€’æ•°ç¬¬7ä¸ªç‰ˆæœ¬ï¼Œä»è¿™ä¸ªç‰ˆæœ¬åˆ—è¡¨é‡Œå€’åºå»æ‰¾ç¬¬7ä¸ªå†ä¸‹è½½ä¸€ä¸‹çœ‹çœ‹æ˜¯ä¸æ˜¯éœ€è¦çš„ç‰ˆæœ¬ï¼Œæˆ‘åœ¨å°è¯•åå‘ç°å¹¶ä¸æ˜¯å€’æ•°ç¬¬7ä¸ªidï¼Œå…·ä½“çš„è§„åˆ™ä¹Ÿä¸æ¸…æ¥šï¼Œä½†æ˜¯å¤§æ¦‚ä½ç½®ä¸ä¼šé”™ï¼Œä¸‹è½½åçœ‹ç‰ˆæœ¬ï¼šå¦‚æœå¤§äº†å°±ç»§ç»­å€’åºå¾€ä¸Šæ‰¾ï¼Œå¦‚æœå°äº†å°±æ­£åºå†å¾€ä¸‹æ‰¾ã€‚æœ€ç»ˆæˆ‘æ˜¯æ‰¾åˆ°äº†idï¼š861576168ï¼Œä¸‹è¾¹è¯´ä¸€ä¸‹æ€ä¹ˆå»ä¸‹è½½å†å²ç‰ˆæœ¬ã€‚\nä¸‹è½½å†å²ç‰ˆæœ¬ é€šè¿‡ä¸Šä¸€æ­¥æ‹¿åˆ°äº†å¾ˆå¤šçš„ç‰ˆæœ¬idï¼Œå€’åºä»åè¾¹å…ˆéšä¾¿æ‰¾ä¸€ä¸ªidæ¥ä¸‹è½½ä¸€ä¸‹çœ‹çœ‹ç‰ˆæœ¬å…·ä½“æ˜¯ä»€ä¹ˆã€‚å› ä¸ºåœ¨è·å–ç‰ˆæœ¬çš„æ—¶å€™å·²ç»ä¸‹è½½è¿‡äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥éœ€è¦åœ¨iTunesä¸­æŠŠåŸæ¥çš„ç»™åˆ é™¤äº†ï¼š\né€šè¿‡æ–‡ä»¶-\u0026gt;èµ„æ–™åº“-\u0026gt;æ‰“å¼€Geniusæ¥æ‰“å¼€å·²ä¸‹è½½çš„ç¨‹åº,å¦‚ä¸‹é€‰æ‹©åº”ç”¨ï¼Œç„¶åæŠŠå·²ç»ä¸‹è½½çš„ç»™åˆ é™¤äº†ã€‚\nåˆ é™¤æˆåŠŸäº†åï¼Œéœ€è¦åœ¨fiddlerç¨‹åºé‡Œè¾“å‡ºä¸€ä¸‹å‘½ä»¤:Â bpu MZBuy.woaã€‚ï¼Œç„¶åfiddlerå°±å¯ä»¥æ‹¦æˆªè¯·æ±‚ï¼Œç»™å’±ä»¬æœºä¼šå»ä¿®æ”¹è¯·æ±‚çš„idï¼Œä»è€Œè¾¾åˆ°ä¸‹è½½å†å²ç‰ˆæœ¬çš„éœ€æ±‚ï¼Œè¾“å…¥å®Œéœ€è¦æ•²å›è½¦ï¼Œä½¿ä¹‹ç”Ÿæ•ˆï¼š\nç„¶åå°±æ˜¯ç»§ç»­æ¸…é™¤fiddleré‡Œå·²ç»æŠ“å–çš„urlæ–¹ä¾¿ä¸‹è¾¹å»æ‰¾urlï¼Œæ¸…é™¤åå†å»itunesé‡Œç‚¹å‡»ä¸€æ¬¡ä¸‹è½½ï¼š\nç‚¹å‡»ä¸‹è½½åï¼Œåœ¨fiddleré‡Œå¯ä»¥çœ‹åˆ°å›¾æ ‡æ˜¯ä¸€ä¸ªTå­—çš„urlï¼Œå®ƒæ­¤æ—¶å·²ç»è¢«æ‹¦æˆªäº†ï¼Œéœ€è¦ç­‰å¾…æˆ‘ä»¬æ‰‹åŠ¨çš„å¤„ç†æ˜¯ä¸­æ–­(Break on Response)è¿˜æ˜¯ç»§ç»­è¿è¡Œå®Œæˆ(Run to Completion),æ­¤æ—¶éœ€è¦æˆ‘ä»¬åœ¨TextViewä¸‹å»ä¿®æ”¹stringåŒ…è£¹çš„é‚£ä¸€ä¸²idï¼Œæ›¿æ¢æˆéœ€è¦çš„å†å²idï¼Œæ›¿æ¢å®Œæˆåï¼Œç‚¹å‡»Run to Completionå°±ä¼šæŒ‰ç…§æˆ‘ä»¬æ›¿æ¢åçš„idæ¥ç»§ç»­ä¸‹è½½äº†ã€‚ä¸‹è½½å®Œæˆååœ¨æ–‡ä»¶å¤¹é‡ŒæŸ¥çœ‹å½“å‰ä¸‹è½½çš„æ–‡ä»¶ï¼Œå°±ä¼šæ˜¾ç¤ºæ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼š\nå¦‚ä¸Šä¸‹è½½åˆ°äº†æœ€ç»ˆçš„14.21.7ç‰ˆæœ¬ã€‚\nå®‰è£… ä¸‹è½½äº†ä¹‹åå°±éœ€è¦å®‰è£…åˆ°æ‰‹æœºä¸Šï¼Œè¿™é‡Œä¹Ÿéå¸¸ç®€å•ï¼Œç”µè„‘ä¸‹è½½çˆ±æ€åŠ©æ‰‹ï¼Œé€‰æ‹©æ‰‹åŠ¨å®‰è£…è½¯ä»¶ï¼Œé€‰æ‹©ä¸Šè¾¹ä¸‹è½½å¥½çš„ipaæ–‡ä»¶å°±å¯ä»¥äº†ã€‚\nè®°å½•å¦‚ä¸Šã€‚æ„‰å¿«çš„ä½¿ç”¨oneDriveæ¥è´­ä¹°office365\n","date":"2024-02-20T15:17:33Z","image":"https://images.iminling.com/app/hide.php?key=U0c5REZ3L1p2bU1COUVtaVVxeWhJUndqNHNUYXYwQ0E5aGM1Zld1dEhyMUt1c0l5eGpxQjhUOGJOOS84RXhaN0FIcXo3SWs9","permalink":"https://konghanghang.github.io/iminling-pages/2024/fiddler-captures-the-old-version-of-itunes/","title":"ä½¿ç”¨fiddleræŠ“åŒ…æ—§ç‰ˆæœ¬iTuneså¹¶ä¸‹è½½ioså†å²ç‰ˆæœ¬è½¯ä»¶"},{"content":"å‰è¾¹å†™è¿‡ä¸€ç¯‡é€šè¿‡fail2banæ¥æ‹¦æˆªsshæš´åŠ›ç ´è§£ï¼šdockerå®‰è£…fail2banå¹¶é…ç½®é˜²æ­¢sshç™»å½•çˆ†ç ´ï¼Œfail2banèƒ½åšåˆ°çš„è¿œä¸æ­¢è¿™äº›ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘ç«™ï¼Œé‚£ä¹ˆä¸€å®šä¼šé‡åˆ°æœ‰æ— æ•°ä¸çŸ¥æ˜ipæ¥è®¿é—®ä½ ç½‘ç«™çš„æ•æ„Ÿè·¯å¾„ï¼Œæ€»æ˜¯æƒ³ç€è¦æ¥è·å–ä½ ç½‘ç«™çš„ä¸€äº›æœ‰ç”¨ä¿¡æ¯ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥ä½¿ç”¨fail2banå»æ‹¦æˆªé‚£äº›éæ³•è®¿é—®çš„ipåœ°å€ã€‚\nç¯å¢ƒä¸ç›®å½•æƒ…å†µ fail2banå¦‚ä¸Šç¯‡ï¼šä¸­çš„å®‰è£…æ–¹å¼ï¼Œæ˜¯ä½¿ç”¨dockeræ¥å®‰è£…çš„ nginxä¹Ÿæ˜¯ä½¿ç”¨dockeræ¥å®‰è£…çš„ï¼Œå¹¶ä½¿ç”¨çš„æ˜¯æ¡¥æ¥ç½‘ç»œã€‚ ç„¶åå†æ¥çœ‹ä¸€ä¸‹é…ç½®çš„ç›®å½•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ tree . â”œâ”€â”€ data â”‚Â â”œâ”€â”€ filter.d â”‚Â â”‚Â â””â”€â”€ nginx-cc.conf â”‚Â â””â”€â”€ jail.d â”‚Â â”œâ”€â”€ nginx-cc.conf â”‚Â â”œâ”€â”€ sshd.conf â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ .env â””â”€â”€ logs å¦‚ä¸Šï¼Œéœ€è¦åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯é’ˆå¯¹éæ³•è®¿é—®çš„æ—¥å¿—çš„è¿‡æ»¤è§„åˆ™ï¼Œå¦ä¸€ä¸ªæ˜¯é’ˆå¯¹éæ³•è®¿é—®çš„ipçš„ç›‘ç‹±è§„åˆ™ã€‚æˆ‘è¿™é‡Œæš‚å®šè¿™ä¸ªç›‘ç‹±çš„åç§°å°±å«åšï¼šnginx-cc,filter.då’Œjail.dä¸­çš„é…ç½®æ–‡ä»¶åç§°ä¸€è‡´ã€‚\nè¿‡æ»¤é…ç½® å…ˆæ¥çœ‹ä¸€ä¸‹è¿‡æ»¤è§„åˆ™çš„é…ç½®ï¼š\n1 2 3 [Definition] failregex = ^\u0026lt;HOST\u0026gt; .* \u0026#34;(GET|POST|HEAD).*HTTP.*\u0026#34; (404|503) .*$ ignoreregex =.*(robots.txt|favicon.ico|jpg|png) failregexé…ç½®çš„å°±æ˜¯é’ˆå¯¹é”™è¯¯è®¿é—®æ—¥å¿—è¿›è¡Œè¿‡æ»¤çš„æ­£åˆ™è¡¨è¾¾è¯•ï¼Œä»¥ipå¼€å¤´ï¼Œå¹¶æŠŠipä½¿ç”¨\u0026lt;HOST\u0026gt;ä»£æ›¿ã€‚è¿™é‡Œæ˜¯é’ˆå¯¹è®¿é—®çŠ¶æ€æ˜¯404å’Œ503çš„è¯·æ±‚ã€‚ ignoreregexé…ç½®äº†é’ˆå¯¹ä»€ä¹ˆæ ·çš„è·¯å¾„æ—¥å¿—è¿›è¡Œå¿½ç•¥ã€‚\nä»¥ä¸Šæ˜¯nginxé»˜è®¤æ—¥å¿—çš„è®¿é—®æ—¥å¿—åŒ¹é…çš„æ­£åˆ™ï¼Œå¦‚æœä½ ä¿®æ”¹äº†è‡ªå·±çš„nginxçš„è®¿é—®æ—¥å¿—è¾“å‡ºæ ¼å¼ï¼Œåˆ™éœ€è¦æŒ‰è‡ªå·±çš„æ—¥å¿—è¾“å‡ºæ ¼å¼æ¥ç¼–å†™å¤±è´¥è¯·æ±‚çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚\nç›‘ç‹±é…ç½® ç›´æ¥å…ˆçœ‹ä¸€ä¸‹ç›‘ç‹±çš„å…·ä½“é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 [nginx-cc] enabled = true filter = nginx-cc chain = DOCKER-USER #action = iptables-multiport[name=nginx-cc, port=\u0026#34;http,https\u0026#34;, protocol=tcp] port = http,https logpath = /var/logs/nginx/access.log maxretry = 3 bantime = 86400 findtime = 3600 ignoreip = 192.168.0.1/24 ä¸‹è¾¹è¯¦ç»†è¯´æ˜ä¸€ä¸‹å„å‚æ•°ï¼š filterå¯¹åº”çš„å°±æ˜¯ä¸Šè¾¹çš„è¿‡æ»¤è§„åˆ™ä¸­çš„åç§° chainä¸ºDOCKER-USER,å› ä¸ºnginxæ˜¯ä½¿ç”¨dockerå®‰è£…çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠiptablesçš„è§„åˆ™æ·»åŠ åˆ°DOCKER-USERä¸­ï¼ŒDOCKER-USERä¸­çš„è§„åˆ™åœ¨Dockerè‡ªåŠ¨åˆ›å»ºçš„ä»»ä½•è§„åˆ™ä¹‹å‰åŠ è½½ï¼Œæ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚ portæ»¡è¶³æ·»åŠ æ˜¯ç¦æ­¢çš„ç«¯å£ logpathè¯»å–çš„æ—¥å¿—è·¯å¾„ findtimeæ—¥å¿—æ–‡ä»¶ä¸­åˆ†æé”™è¯¯è¿æ¥æ•°çš„æ—¶é—´ã€‚ä»¥ç§’è®¡ç®—\nå¯åŠ¨é…ç½® å› ä¸ºä»¥å‰å·²ç»é…ç½®è¿‡sshdçš„ç›‘ç‹±ï¼Œå¹¶ä¸”fail2banä¹Ÿæ˜¯æ­£å¸¸è¿è¡Œçš„ï¼Œæ­¤æ—¶åªéœ€è¦å¯¹é…ç½®è¿›è¡Œé‡æ–°åŠ è½½å°±å¯ä»¥äº†ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 2 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ docker exec fail2ban fail2ban-client reload OK å†æ¥æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„ç›‘ç‹±æœ‰å“ªäº›ï¼š\n1 2 3 4 ubuntu@VM-20-3-ubuntu:~/images/fail2ban# docker exec fail2ban fail2ban-client status Status |- Number of jail: 2 `- Jail list: nginx-cc, sshd å¯ä»¥çœ‹åˆ°nginx-ccç›‘ç‹±å·²ç»ç”Ÿæ•ˆäº†ï¼Œå†æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç›‘ç‹±çš„è¯¦ç»†æƒ…å†µï¼š\n1 2 3 4 5 6 7 8 9 10 ubuntu@VM-20-3-ubuntu:~/images/fail2ban# docker exec fail2ban fail2ban-client status nginx-cc Status for the jail: nginx-cc |- Filter | |- Currently failed: 0 | |- Total failed: 134 | `- File list: /var/logs/nginx/access.log `- Actions |- Currently banned: 0 |- Total banned: 21 `- Banned IP list: å¯ä»¥çœ‹åˆ°é‰´äºçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ­¤æ—¶ä¸å‡ºæ„å¤–å°±å¯ä»¥æ‹¦æˆªåˆ°é‚£äº›å¼‚å¸¸æƒ…å†µäº†ã€‚\né‡åˆ°çš„é—®é¢˜ ä¸å‡ºæ„å¤–ï¼Œè‚¯å®šä¼šå‡ºæ„å¤–ã€‚æˆ‘åœ¨debian11çš„æœºå™¨ä¸Šå®‰è£…ï¼Œè¯·æ±‚404çš„urlä¼šè¢«è®°å½•åˆ°Total failedé‡Œï¼Œå¹¶ä¸”è¯·æ±‚å¤±è´¥çš„ipä¹Ÿä¼šå‡ºç°åœ¨Banned Ip listé‡Œï¼Œä½†æ˜¯è¢«banåç«Ÿç„¶è¿˜å¯ä»¥è®¿é—®ï¼Œæ­¤æ—¶é€šè¿‡æŸ¥çœ‹fail2banå®¹å™¨å‘ç°ç«Ÿç„¶æ·»åŠ iptablesè§„åˆ™çš„æ—¶å€™å‡ºç°äº†å¼‚å¸¸ã€‚\nå¦‚ä¸Šå›¾ï¼Œå‡ºç°iptables: No chain/target/match by that name é”™è¯¯ï¼Œå¯¼è‡´iptablesè§„åˆ™æ·»åŠ å¤±è´¥ï¼Œé€šè¿‡iptables -nvLçš„ç¡®ä¹Ÿçœ‹ä¸æ·»åŠ çš„è¢«ç¦çš„ipã€‚åœ¨ç½‘ä¸Šæ‰¾äº†å¥½ä¹…ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œåæ¥å‘ç°å®˜æ–¹çš„githubä»“åº“çš„è¯´æ˜é‡Œå°±æœ‰å…³äºè¿™ä¸ªçš„è¯´æ˜crazy-max/docker-fail2banï¼š\nIf your system\u0026rsquo;sÂ iptablesÂ tooling uses the nftables backend, this will throw the errorÂ stderr: 'iptables: No chain/target/match by that name.'. You need to switch theÂ iptablesÂ tooling to \u0026rsquo;legacy\u0026rsquo; mode to avoid these problems. This is the case on at least Debian 10 (Buster), Ubuntu 19.04, Fedora 29 and newer releases of these distributions by default. RHEL 8 does not support switching to legacy mode, and is therefore currently incompatible with this image.\nåŸæ¥æ˜¯å› ä¸ºiptableçš„æ¨¡å¼é—®é¢˜ï¼Œé»˜è®¤debian11ä½¿ç”¨çš„nf_tablesæ¨¡å¼,æŒ‰ç…§å®˜æ–¹çš„æç¤ºéœ€è¦åˆ‡æ¢ä¸ºlegacyæ¨¡å¼ï¼Œå¦‚ä½•æŸ¥çœ‹è‡ªå·±çš„iptablesæ˜¯å“ªç§æ¨¡å¼å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨iptables --versionæ¥æŸ¥çœ‹ï¼Œå¦‚ä¸‹å°±ä½¿ç”¨çš„æ˜¯nf_tablesæ¨¡å¼ã€‚\n1 2 ubuntu@VM-20-3-ubuntu:~# iptables --version iptables v1.8.7 (nf_tables) é‚£å¦‚ä½•ä¿®æ”¹æˆlegacyæ¨¡å¼å‘¢ï¼Ÿå®˜æ–¹ä¹Ÿç»™äº†è§£å†³æ–¹æ¡ˆï¼š\nOn Ubuntu or Debianï¼š\n1 2 3 4 $ update-alternatives --set iptables /usr/sbin/iptables-legacy $ update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy $ update-alternatives --set arptables /usr/sbin/arptables-legacy $ update-alternatives --set ebtables /usr/sbin/ebtables-legacy On Fedora:\n1 $ update-alternatives --set iptables /usr/sbin/iptables-legacy æˆ‘çš„ç³»ç»Ÿæ˜¯debianï¼Œæ‰€ä»¥æŒ‰ç…§ä¸Šè¾¹çš„å››æ¡æ¥æ‰§è¡Œï¼Œåè¾¹ä¸¤æ¡å¹¶æ²¡æœ‰æ‰§è¡ŒæˆåŠŸï¼Œæç¤ºæ²¡æœ‰å¼€å¯ï¼Œé‚£å°±ä¸ç®¡äº†ã€‚æ‰§è¡Œå®Œåå¯ä»¥å†ä½¿ç”¨ä¸Šè¾¹çš„versionå‘½ä»¤æŸ¥çœ‹æ¨¡å¼æ˜¯å¦å·²ç»æ”¹è¿‡æ¥äº†:\n1 2 3 ubuntu@VM-20-3-ubuntu:~/images/fail2ban# iptables --version iptables v1.8.7 (legacy) ubuntu@VM-20-3-ubuntu:service networking restart å¯ä»¥çœ‹åˆ°ï¼Œå·²ç»åˆ‡æ¢æˆåŠŸäº†ï¼Œå¹¶ä¸”é‡å¯äº†networkingæœåŠ¡ã€‚æ­¤æ—¶å†å»çœ‹ç¦æ­¢ipå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œä»ç„¶å¯ä»¥è®¿é—®ï¼Œå®˜æ–¹å»ºè®®é‡å¯ï¼Œæˆ‘ä»¥ä¸ºé‡å¯networkingå°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¹¶ä¸è¡Œï¼Œæœ€ååªå¥½å¯¹æœåŠ¡å™¨è¿›è¡Œäº†é‡å¯ï¼Œæœ€ç»ˆç»ˆäºç”Ÿæ•ˆï¼ŒæˆåŠŸçš„å¯¹å¼‚å¸¸è®¿é—®ipè¿›è¡Œäº†ç¦æ­¢ã€‚\nä»¥ä¸Šå°±æ˜¯æŠ˜è…¾è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°å¤§å®¶ã€‚\n","date":"2024-02-05T13:12:33Z","image":"https://images.iminling.com/app/hide.php?key=S2lnNFVkM3BpS1h5b1RvRlF3V0tocVFuZ3YrTHQ3YWhJQXp6YnNJdUZlenRpSTZOdmF2b0M0MTJpR2VoaVU1eG1PNTZ6Z1E9","permalink":"https://konghanghang.github.io/iminling-pages/2024/docker-install-fail2ban-interception-nginx-ip/","title":"dockeré…ç½®fail2banæ‹¦æˆªnginxéæ³•è¯·æ±‚ip"},{"content":"å¹³æ—¶ä¹Ÿæ²¡æœ‰æ€ä¹ˆå…³æ³¨è¿‡sshçš„æ—¥å¿—ï¼Œè€Œä¸”æœåŠ¡å™¨çš„sshç™»å½•ç«¯å£ä¹Ÿæ˜¯é»˜è®¤çš„22ï¼Œåªæ˜¯å¯†ç è®¾ç½®çš„ç›¸å¯¹æ¥è¯´å¤æ‚äº†ç‚¹ï¼Œåè¾¹å¬è¯´æœ‰äººä¼šè¿›è¡Œå¯†ç çˆ†ç ´ï¼Œäºæ˜¯å°±æŸ¥çœ‹äº†ä¸€ä¸‹sshçš„æ—¥å¿—ï¼Œæ—¥å¿—è·¯å¾„æ˜¯/var/log/auth.logï¼Œä¸€çœ‹æ•´ä¸ªäººéƒ½å‘†äº†ï¼Œç™»å½•é”™è¯¯çš„æ—¥å¿—ä¸åœçš„åˆ·ï¼Œéƒ½ä¸å¸¦åœçš„ã€‚å¦‚æœå¯†ç è®¾ç½®çš„ç®€å•ç‚¹ï¼Œä¼°è®¡æ—©å°±è¢«äººç»™è¯•å‡ºæ¥äº†ã€‚åœ¨ç½‘ä¸ŠæŸ¥è¯¢åˆ°å¯ä»¥ä½¿ç”¨fail2banæ¥è¿›è¡Œé˜²å¾¡ï¼ŒæŠŠç»å¸¸è®¿é—®å‡ºé”™çš„ipåŠ å…¥åˆ°iptablesä¸­ï¼Œç¦æ­¢æ‰å®ƒçš„è®¿é—®ï¼Œäºæ˜¯å°±å¼€å¹²äº†ï¼Œå¼€å§‹æ‘¸ç´¢fail2banå¦‚ä½•å®‰è£…ä½¿ç”¨ã€‚\n1 2 3 4 5 6 Feb 3 15:04:36 localhost sshd[3030796]: pam_unix(sshd:auth): check pass; user unknown Feb 3 15:04:36 localhost sshd[3030796]: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=170.64.155.113 Feb 3 15:04:37 localhost sshd[3030785]: pam_unix(sshd:auth): authentication failure; logname= uid=0 euid=0 tty=ssh ruser= rhost=104.250.50.16 user=root Feb 3 15:04:38 localhost sshd[3030796]: Failed password for invalid user es from 170.64.155.113 port 56728 ssh2 Feb 3 15:04:39 localhost sshd[3030796]: Connection closed by invalid user es 170.64.155.113 port 56728 [preauth] Feb 3 15:04:39 localhost sshd[3030785]: Failed password for root from 104.250.50.16 port 57284 ssh2 å®‰è£…fail2ban æˆ‘è¿™é‡Œä½¿ç”¨dockerè¿›è¡Œå®‰è£…fail2ban,ä½¿ç”¨çš„dockeré•œåƒåœ°å€ï¼šcrazy-max/docker-fail2ban,ç›®å½•å¦‚ä¸‹æ‰€ç¤ºï¼š\n1 2 3 4 5 6 7 8 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ tree . â”œâ”€â”€ data â”‚Â â””â”€â”€ jail.d â”‚Â â””â”€â”€ sshd.conf â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ .env â””â”€â”€ logs docker-compose.yamlæ–‡ä»¶ å…ˆçœ‹ä¸€ä¸‹docker-compose.yamlçš„å†…å®¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 version: \u0026#34;3\u0026#34; services: fail2ban: image: crazymax/fail2ban:latest container_name: fail2ban restart: unless-stopped network_mode: \u0026#34;host\u0026#34; cap_add: - NET_ADMIN - NET_RAW env_file: - .env volumes: - ./data:/data - ./logs/:/var/log/ # sshd æ—¥å¿—æ˜ å°„ - /var/log:/var/logs/sshd:ro logging: driver: \u0026#34;json-file\u0026#34; options: max-size: \u0026#34;5m\u0026#34; max-file: \u0026#34;10\u0026#34; è¿™é‡Œè¯´æ˜ä¸¤ç‚¹ï¼Œé¦–å…ˆæ˜¯ç½‘ç»œæ¨¡å¼ä½¿ç”¨çš„æ˜¯hostæ¨¡å¼ï¼Œç¬¬äºŒï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è¦æ£€æµ‹æš´åŠ›ç ´è§£sshdç™»å½•çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¯»å–sshç™»å½•çš„æ—¥å¿—ï¼Œæ—¥å¿—æ–‡ä»¶è·¯å¾„æ˜¯/var/log/auth.log,æ‰€ä»¥åœ¨å·æŒ‚è½½é‚£é‡Œå°±æŠŠsshæ—¥å¿—çš„ç›®å½•è¿›è¡ŒæŒ‚è½½ã€‚\né…ç½®ç›‘ç‹±æ‹¦æˆª fail2banä¸­æ˜¯éœ€è¦å®šä¹‰ç›‘ç‹±(jail)æ¥å¯¹è®¿é—®è€…è¿›è¡Œè¿‡æ»¤ï¼Œæ¯ä¸ªç›‘ç‹±(jail)å¯ä»¥å¯¹åº”æˆ‘ä»¬çš„ä¸€ä¸ªæœåŠ¡æˆ–è€…æœåŠ¡çš„æŸä¸€ä¸ªç»´åº¦ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦å¯¹sshçš„ç™»å½•è¿™ä¸ªåœºæ™¯è¿›è¡Œç›‘æ§ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªåç§°ä¸ºsshd.confçš„ç›‘ç‹±é…ç½®ï¼Œè¿™é‡Œä¹Ÿæ˜¯å‚è€ƒgithubä¸Šçš„ç¤ºä¾‹ï¼šsshd.conf,å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 [sshd] enabled = true chain = INPUT # port = ssh port = 22 filter = sshd[mode=aggressive] logpath = /var/logs/sshd/auth.log maxretry = 3 bantime = 86400 # ç¦æ­¢ä¸€å¤©ï¼Œå•ä½ç§’ logpathçš„é…ç½®ï¼Œå› ä¸ºåœ¨docker-compose.yamlä¸­å¯¹sshæ—¥å¿—çš„ç›®å½•è¿›è¡Œäº†æŒ‚è½½é…ç½®ï¼Œè¿™é‡Œæ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹maxretryä¹Ÿä¿®æ”¹ä¸º3æ¬¡ï¼Œä¸¥æ ¼ä¸€ç‚¹\nå¯åŠ¨æ‹¦æˆª é¦–å…ˆå¯åŠ¨å®¹å™¨ï¼š\n1 2 3 4 5 6 7 8 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ docker compose up -d [+] Running 4/4 â ¿ fail2ban Pulled 36.8s â ¿ 7264a8db6415 Pull complete 8.6s â ¿ 81330df9fd42 Pull complete 9.4s â ¿ 39280c79d189 Pull complete 9.5s [+] Running 1/1 â ¿ Container fail2ban Started 0.6s æŸ¥çœ‹å½“å‰fail2bançš„çŠ¶æ€ï¼Œå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªç›‘ç‹±ï¼šsshdæ­£åœ¨ç”Ÿæ•ˆä¸­:\n1 2 3 4 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ docker exec fail2ban fail2ban-client status Status |- Number of jail: 1 `- Jail list: sshd ç„¶åå†æ¥æŸ¥çœ‹ä¸€ä¸‹sshdç›‘ç‹±çš„çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°æ€»å…±å‡ºç°äº†53æ¬¡é”™è¯¯ç™»å½•ï¼Œå½“å‰å·²ç»æ‹¦æˆªäº†6ä¸ªipï¼Œä¿¡æ¯å¾ˆè¯¦ç»†ï¼š\n1 2 3 4 5 6 7 8 9 10 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ docker exec fail2ban fail2ban-client status sshd Status for the jail: sshd |- Filter | |- Currently failed: 6 | |- Total failed: 53 | `- File list: /var/logs/sshd/auth.log `- Actions |- Currently banned: 6 |- Total banned: 6 `- Banned IP list: 112.213.110.8 196.189.21.247 104.250.50.16 175.144.208.9 183.56.193.178 141.98.11.90 è¢«bançš„ipä¼šæ·»åŠ åˆ°iptablesä¸­ï¼Œå¹¶ä¸”fail2banä¼šä¸»åŠ¨ä¸ºæ¯ä¸ªç›‘ç‹±åˆ›å»ºä¸€ä¸ªChain,Chainçš„åç§°ä¸ºf2b-ç›‘ç‹±åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ¥æŸ¥çœ‹iptablesä¸­æ·»åŠ çš„è§„åˆ™:\n1 2 3 4 5 6 7 8 9 ubuntu@VM-20-3-ubuntu:~/images/fail2ban$ sudo iptables -nvL f2b-sshd Chain f2b-sshd (1 references) pkts bytes target prot opt in out source destination 0 0 REJECT all -- * * 183.56.193.178 0.0.0.0/0 reject-with icmp-port-unreachable 3 156 REJECT all -- * * 175.144.208.9 0.0.0.0/0 reject-with icmp-port-unreachable 1 60 REJECT all -- * * 104.250.50.16 0.0.0.0/0 reject-with icmp-port-unreachable 3 180 REJECT all -- * * 196.189.21.247 0.0.0.0/0 reject-with icmp-port-unreachable 0 0 REJECT all -- * * 112.213.110.8 0.0.0.0/0 reject-with icmp-port-unreachable 354 24037 RETURN all -- * * 0.0.0.0/0 0.0.0.0/0 å¯ä»¥çœ‹åˆ°å¾ˆå¤šipå·²ç»è¢«banäº†ï¼Œè¿™æ˜¯æˆ‘æ‰åˆšå¯åŠ¨1åˆ†é’Ÿä¸åˆ°ï¼Œå°±è¿™ä¹ˆå¤šipè¢«banäº†ï¼Œå¯è§åäººçœŸå¤šï¼Œè€æ˜¯æƒ³ç€çˆ†ç ´æˆ‘çš„æœåŠ¡å™¨ã€‚\nfail2bançš„ä½¿ç”¨ ä½¿ç”¨docker exec \u0026lt;å®¹å™¨åç§°\u0026gt; fail2ban-clientå‘½ä»¤æ¥æ“ä½œfail2banã€‚\næŸ¥çœ‹çŠ¶æ€ ä¸€ä¸ªæ˜¯æŸ¥çœ‹å½“å‰æ€»çŠ¶æ€ï¼šå¯ç”¨äº†ä»€ä¹ˆç›‘ç‹±ï¼Œå¦ä¸€ä¸ªæ˜¯æŸ¥çœ‹æŸä¸ªç›‘ç‹±çš„çŠ¶æ€ï¼Œä¸Šè¾¹å·²ç»å±•ç¤ºè¿‡äº†ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†è¯´äº†ï¼š\n1 2 3 4 5 # æŸ¥çœ‹çŠ¶æ€ docker exec fail2ban fail2ban-client status # æŸ¥çœ‹æŒ‡å®šç›‘ç‹±çŠ¶æ€ docker exec fail2ban fail2ban-client status sshd ä¸»åŠ¨å±è”½ip æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸»åŠ¨çš„å±è”½æŸä¸ªipçš„è®¿é—®ï¼Œé€šè¿‡ä¸‹è¾¹å‘½ä»¤ï¼š\n1 2 3 4 5 # æŒ‡å®šç›‘ç‹±å±è”½IPï¼ˆ\u0026lt;JAIL\u0026gt;ä¸ºç›‘ç‹±åï¼‰ docker exec fail2ban fail2ban-client set \u0026lt;JAIL\u0026gt; banip \u0026lt;IP\u0026gt; # ç¤ºä¾‹ï¼šdocker exec fail2ban fail2ban-client set sshd banip 1.1.1.1 ubuntu@VM-20-3-ubuntu:~$ docker exec fail2ban fail2ban-client set sshd banip 183.56.193.179 1 ç„¶åå†é€šè¿‡æŸ¥çœ‹ç›‘ç‹±çŠ¶æ€å‘½ä»¤æŸ¥çœ‹Banned Ip Listä¸­æ˜¯å¦å·²ç»æœ‰äº†è¿™ä¸ªipæ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸã€‚\nä¸»åŠ¨è§£é™¤å·²å±è”½ip æœ‰ä¸»åŠ¨çš„å»å±è”½æŸä¸ªipï¼Œå¦‚æœè®¾ç½®é”™è¯¯å°±éœ€è¦ä¸»åŠ¨æŠŠè®¾ç½®é”™è¯¯çš„å–æ¶ˆæ‰ï¼Œå¯ä»¥é€šè¿‡ä¸‹è¾¹çš„å‘½ä»¤æ¥è¿›è¡Œå–æ¶ˆï¼š\n1 2 3 4 5 # æŒ‡å®šç›‘ç‹±è§£å°IPï¼ˆ\u0026lt;JAIL\u0026gt;ä¸ºç›‘ç‹±åï¼‰ docker exec fail2ban fail2ban-client set \u0026lt;JAIL\u0026gt; upbanip \u0026lt;IP\u0026gt; # ç¤ºä¾‹ï¼šdocker exec fail2ban fail2ban-client set sshd upbanip 1.1.1.1 ubuntu@VM-20-3-ubuntu:~$ docker exec fail2ban fail2ban-client set sshd unbanip 183.56.193.179 1 ç„¶åå†é€šè¿‡æŸ¥çœ‹ç›‘ç‹±çŠ¶æ€çš„å‘½ä»¤æŸ¥çœ‹ipæ˜¯å¦å·²ç»è¢«å–æ¶ˆæ‰ã€‚\nä»¥ä¸Šå°±æ˜¯é€šè¿‡å®‰è£…fail2banæ¥å¯¹æš´åŠ›ç ´è§£sshå¯†ç è¿›è¡Œæ‹¦æˆªï¼Œå¦å¤–ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹sshçš„ç«¯å£æ¥è¿›è¡Œç®€å•çš„æ‹¦æˆªï¼Œé€šå¸¸é»˜è®¤çš„sshç«¯å£æ˜¯22ï¼Œå¦‚æœæ¢äº†ç«¯å£ä»–ä»¬æƒ³è¦æ‰¾åˆ°è¿™ä¸ªsshç«¯å£ä¹Ÿæ˜¯è¦èŠ±è´¹ä¸€äº›æ—¶é—´çš„ï¼Œå†å°±æ˜¯å¯ä»¥é€šè¿‡ç¦ç”¨å¯†ç åªä½¿ç”¨keyæ¥ç™»å½•ï¼Œä¼šæ›´å®‰å…¨ä¸€äº›ï¼Œè¿™ä¸ªå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šä¿®æ”¹SSHç«¯å£ä½¿ç”¨å…¬é’¥ç™»å½•å¹¶ç¦ç”¨rootå¯†ç ç™»å½•ä¿®æ”¹SSHç«¯å£ä½¿ç”¨å…¬é’¥ç™»å½•å¹¶ç¦ç”¨rootå¯†ç ç™»å½•ã€‚å¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2024-02-03T14:52:53Z","image":"https://images.iminling.com/app/hide.php?key=SVBwbXRUTnkxdENoNlUzQ0w1QjVKd2xKc3pVK3BWZjlZNk1aeEtRT1BmcXpEcGlaa1h2c3ZhMnVGZlRXV2sweE1TcDhYTVU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/docker-install-fail2ban-protect-ssh/","title":"dockerå®‰è£…fail2banå¹¶é…ç½®é˜²æ­¢sshç™»å½•çˆ†ç ´"},{"content":"ä¸Šç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•å¿«é€Ÿçš„æ³¨å†ŒåœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSï¼šåœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSæ³¨å†Œæ•™ç¨‹ï¼Œæ³¨å†Œåå¯ä»¥ç”³è¯·ä¸‰å¼ åœŸè€³å…¶çš„visaè™šæ‹Ÿé“¶è¡Œå¡ï¼Œç”³è¯·åæƒ³è¦ä½¿ç”¨é¢ä¸´çš„ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•ç»™è¿™å¼ è™šæ‹Ÿé“¶è¡Œå¡æ¥è¿›è¡Œå…¥é‡‘ï¼Œæ²¡æ³•å…¥é‡‘åŸºæœ¬å°±ä»£è¡¨è¿™å¼ å¡æ˜¯ä¸€å¼ åºŸå¡ã€‚è¿™ç¯‡æ–‡ç« å°±æ¥ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ç«å¸æ¥ç»™è¿™å¼ åœŸè€³å…¶çš„è™šæ‹Ÿé“¶è¡Œå¡è¿›è¡Œå…¥é‡‘ï¼Œæ»¡è¶³è´­ä¹°éœ€æ±‚ã€‚\nç«å¸æ³¨å†Œ æˆ‘åœ¨æ³¨å†Œç«å¸å‰æ˜¯å…ˆæ³¨å†Œäº†å¸å®‰çš„ï¼Œåˆšå¼€å§‹ä»€ä¹ˆéƒ½ä¸æ¸…æ¥šï¼Œç›´æ¥å°±åœ¨å¸å®‰ä¸­è´­ä¹°äº†20USDTï¼Œåæ¥å‘ç°å¤§é™†KYCçš„ç”¨æˆ·åªèƒ½äº¤æ˜“RMBï¼Œç„¶åå°±æ‰¾åˆ°äº†ç«å¸ï¼Œç«å¸çš„KYCç”¨å››çº§è®¤è¯ï¼ŒL1åŸºç¡€è®¤è¯å°±å¯ä»¥è¿›è¡Œäº¤æ˜“ï¼Œè€Œä¸”L1çš„è®¤è¯åªéœ€è¦é€‰æ‹©å›½å®¶å°±å¯ä»¥è®¤è¯æˆåŠŸï¼Œç„¶åå°±å¯ä»¥è¿›è¡Œäº¤æ˜“ï¼Œå¯¹å¸ç§ä¹Ÿæ²¡æœ‰é™åˆ¶ï¼Œå¾ˆæ˜¯æ–¹ä¾¿ã€‚\nè´­ä¹°USDT USDTæ˜¯ä¸€ç§èµ„äº§æ”¯æŒçš„åŠ å¯†ç¨³å®šå¸ï¼ŒåŸºæœ¬å’Œç¾å…ƒç­‰ä»·ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè‡ªå·±çš„RMBè½¬æ¢æˆUSDTï¼Œç„¶åå†é€šè¿‡USDTæ¢æˆæˆ‘ä»¬æƒ³è¦çš„åœŸè€³å…¶é‡Œæ‹‰TRYï¼Œé¦–å…ˆæˆ‘ä»¬è¦ç™»å½•åˆ°ç«å¸å®˜ç½‘ï¼Œé€‰æ‹©C2Cäº¤æ˜“ï¼Œå¦‚ä¸‹å›¾ï¼š\nç„¶åå°±æ˜¯è´­ä¹°ï¼Œä½¿ç”¨RMBè¿›è¡Œè´­ä¹°ï¼Œç„¶åå¯¹å•†å®¶è¿›è¡Œç­›é€‰ï¼Œé¦–å…ˆæ˜¯é€‰æ‹©å¯äº¤æ˜“çš„ï¼Œæœ‰äº›å•†å®¶å¯¹äº¤æ˜“æœ‰é™åˆ¶ï¼Œéœ€è¦å®åæˆ–è€…æœ‰äº¤æ˜“è¿‡ç­‰æ¡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å…ˆç­›é€‰å‡ºæˆ‘ä»¬å¯ä»¥ç«‹é©¬è¿›è¡Œäº¤æ˜“çš„ï¼›å…¶æ¬¡æ˜¯é€‰æ‹©å¯ä»¥ä½¿ç”¨å¾®ä¿¡ã€æ”¯ä»˜å®æˆ–é“¶è¡Œå¡çš„å•†å®¶ï¼Œç”¨è¿™äº›ä»˜æ¬¾æœ€æ–¹ä¾¿ï¼›å¦å¤–æœ‰äº›å•†å®¶å¯¹è´­ä¹°é¢åº¦æœ‰é™åˆ¶ï¼Œæ¯”å¦‚ä¸‹å›¾ä¸­çš„ç¬¬ä¸€ä¸ªéœ€è¦1.5wèµ·è´­ä¹°ï¼Œæˆ‘å¯èƒ½åªéœ€è¦è´­ä¹°å‡ åå…ƒï¼Œæ‰€ä»¥è¿™ç±»å•†å®¶å°±é€‚åˆæˆ‘ä»¬ï¼Œéœ€è¦æ‰¾ä¸€äº›èµ·æ­¥é‡‘é¢è¾ƒä½çš„å•†å®¶ï¼š\nç„¶åå°±è´­ä¹°äº†ï¼Œæˆ‘å½“æ—¶è´­ä¹°çš„ä¸€ä¸ªæ˜¯éœ€è¦è¿›è¡Œæ·»åŠ å¾®ä¿¡ï¼Œç„¶ååœ¨å¾®ä¿¡ç›´æ¥è½¬è´¦ç»™ä»–ï¼Œä»–åœ¨HTXå¹³å°è¿›è¡Œæ”¾è¡Œï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥æ”¶åˆ°è´­ä¹°çš„å¸äº†ï¼Œæ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒä¸æ»‘çš„ï¼Œ5åˆ†é’Ÿæå®šã€‚\nè´­ä¹°åçš„usdtå¥½åƒæ˜¯åœ¨æ³•å¸ä¸­ï¼Œå…·ä½“ä¹Ÿä¸è®°å¾—äº†ï¼Œç«å¸å¥½åƒä¸éœ€è¦åœ¨æ³•å¸å’Œç°è´§é‡Œè¿›è¡Œè½¬æ¢å°±å¯ä»¥ç›´æ¥è¿›è¡Œäº¤æ˜“å–å‡ºï¼Œå¦‚æœä¸è¡Œï¼Œå°±éœ€è¦ä»æ³•å¸è½¬ç§»åˆ°ç°è´§ï¼Œè¿™ä¸ªæ ¹æ®å…·ä½“æ“ä½œçš„æ—¶å€™çš„æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚èµ„äº§-æˆ‘çš„èµ„äº§-åˆ’è½¬ ä¸‰æ­¥æå®šã€‚\nå–å‡ºæ¢TRY è´­ä¹°åˆ°USDTåï¼Œéœ€è¦è¿›è¡Œå–å‡ºæ¢TRYåˆ°æˆ‘ä»¬çš„FUPSè´¦æˆ·ä¸­ï¼Œè¿˜æ˜¯åœ¨C2Cäº¤æ˜“ä¸­è¿›è¡Œï¼Œåœ¨æ­¤ä¹‹å‰éœ€è¦å…ˆåœ¨ç«å¸å¹³å°ç»‘å®šä¸€ç§æ”¶æ¬¾æ–¹å¼ï¼Œå…·ä½“è·¯å¾„å¦‚ä¸‹å›¾ï¼Œå¯ä»¥éšä¾¿æ·»åŠ ä¸€ç§æ–¹å¼ï¼Œå®é™…çš„ä»˜æ¬¾æ–¹å¼è¿˜æ˜¯åœ¨ä¸‹å•åçš„èŠå¤©çª—å£è¿›è¡Œæ²Ÿé€šï¼Œåªè¦ç¡®ä¿å¯ä»¥æœ€åå¯ä»¥æ”¶åˆ°é’±å°±è¡Œäº†ã€‚\næ·»åŠ äº†æ”¶æ¬¾æ–¹å¼åæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œå–å‡ºäº†ï¼Œé€‰æ‹©TRYè¿›è¡Œäº¤æ˜“ï¼š\nåŒæ ·ä¹Ÿæœ‰äº¤æ˜“é™é¢ï¼Œé€‰æ‹©æˆ‘ä»¬å¯ä»¥æ¥å—çš„é™é¢å•†å®¶è¿›è¡Œäº¤æ˜“ï¼Œç„¶ååœ¨èŠå¤©çª—å£è¯¢é—®æ˜¯å¦æ”¯æŒFUPSï¼Œæˆ–è€…æœ‰äº›å•†å®¶æè¿°é‡Œä¹Ÿæ˜¯æœ‰å†™çš„ï¼Œæ ¹æ®å®é™…éœ€æ±‚æ¥é€‰æ‹©å…·ä½“çš„å•†å®¶ã€‚\nä½¿ç”¨FUPSæ”¶æ¬¾æˆ‘ä»¬å¯ä»¥æä¾›äºŒç»´ç æˆ–è€…ä¸€ä¸ªä»˜æ¬¾é“¾æ¥ï¼Œå…·ä½“çš„ç”Ÿæˆæ˜¯åœ¨FUPSçš„åº”ç”¨ç¨‹åºçš„é¦–é¡µç‚¹å‡»top upï¼Œç„¶åè·³è½¬åˆ°ä¸‹é¢é¡µé¢ï¼Œé€‰æ‹©request from othersï¼Œç„¶åå°±é€šè¿‡ç”ŸæˆäºŒç»´ç æˆ–ä»˜æ¬¾é“¾æ¥è®©å¯¹æ–¹æ¥ä»˜æ¬¾ã€‚\nç”Ÿæˆçš„æ—¶å€™éœ€è¦è¾“å…¥å¯¹æ–¹ä»˜æ¬¾çš„é‡‘é¢ï¼Œè¾“å…¥å®Œæˆå°±å¯ä»¥ç”Ÿæˆï¼Œç„¶åå‘é€ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹ä»˜æ¬¾åç«‹é©¬å°±å¯ä»¥åˆ°ã€‚\næˆ‘é€‰æ‹©çš„å•†å®¶ä½¿ç”¨FUPSéœ€è¦æ”¶å–4%çš„æ‰‹ç»­è´¹ï¼Œæ‰€ä»¥åœ¨ç”Ÿæˆä»˜æ¬¾é“¾æ¥çš„æ—¶å€™è‡ªå·±ç®—åæ‰£å‡ºæ‰‹ç»­è´¹åçš„é‡‘é¢å¹¶ç”Ÿæˆï¼Œå‘é€ç»™å¯¹æ–¹ã€‚\næ„‰å¿«è´­ç‰© åœ¨å‡ºUæˆåŠŸåï¼Œæˆ‘æ”¶åˆ°1080çš„é‡Œæ‹‰ï¼Œç„¶åå°±å»spotifyè¿›è¡ŒPremiumçš„è´­ä¹°ï¼Œåœ¨è´­ä¹°çš„æ—¶å€™å‘ç°éœ€è¦å…ˆå¯¹è™šæ‹Ÿå¡è¿›è¡Œäº¤æ˜“é‡‘é¢é™åˆ¶ï¼Œå¦åˆ™spotifyæ— æ³•è¿›è¡Œæ‰£æ¬¾ï¼Œå…·ä½“çš„é™é¢è®¾ç½®æ˜¯åœ¨FUPSçš„appä¸‹æ–¹èœå•ä¸­çš„Cardsä¸­è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥çœ‹åˆ°Your Virtual Card Limité€‰é¡¹ï¼Œæœ‰ä¸€ä¸ªnew limitå’ŒAutomatic Card Limité€‰é¡¹ï¼Œè¿™é‡Œä¸€å®šè¦è®¾ç½®New Limit,å¦åˆ™è¿˜æ˜¯æ— æ³•è´­ä¹°ã€‚æˆ‘è¿™é‡Œè®¾ç½®100é‡Œæ‹‰ã€‚\næœ€åç¥å¤§å®¶éƒ½å¯ä»¥æˆåŠŸçš„å…¥é‡‘è¿›è¡Œè´­ä¹°è‡ªå·±æƒ³è¦ä¹°çš„ä¸œè¥¿ã€‚\n","date":"2024-01-31T14:07:04Z","image":"https://images.iminling.com/app/hide.php?key=VkRUWThzZStta2habm5URkFLUHNTRHM3aVI5Nm0rcHdwZE1hU01aMWQxRU91Ry9NUWN3alQrbWdQY1crZ2FtdmZWSVhOaXM9","permalink":"https://konghanghang.github.io/iminling-pages/2024/huobi-fups-payment/","title":"ä½¿ç”¨ç«å¸ç»™åœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSè¿›è¡Œå¿«é€Ÿå…¥é‡‘"},{"content":"ä»¥å‰æ³¨å†Œè¿‡Oldubilï¼Œåæ¥Oldubilé™åˆ¶äº¤æ˜“åï¼Œä¸€ç›´æ²¡æœ‰å»ç ”ç©¶æ–°çš„ä»£æ›¿æ–¹æ¡ˆï¼Œæœ€è¿‘åœ¨è®ºå›çœ‹åˆ°æœ‰äººæˆåŠŸä½¿ç”¨FUPSæ¥è´­ä¹°çš„Telegramçš„ä¼šå‘˜ï¼Œæƒ³ç€è‡ªå·±çš„termiusä¼šå‘˜ä¹Ÿå¿«è¦è¿‡æœŸäº†ï¼Œæ‰€ä»¥å°±ç ”ç©¶ä¸€ä¸‹å¦‚ä½•æ³¨å†ŒFUPSæ¥ä»£æ›¿Oldubilï¼Œä¸‹é¢åˆ†äº«ä¸€ä¸‹æ³¨å†Œæµç¨‹ã€‚\næ³¨å†Œæ¡ä»¶ æ³¨å†ŒFUPSç®—æ˜¯æ¯”è¾ƒç®€å•çš„äº†ï¼Œéœ€è¦ä¸¤ä¸ªé‡è¦çš„ä¿¡æ¯ï¼š\nåœŸè€³å…¶æ‰‹æœºå· åœŸè€³å…¶èº«ä»½ä¿¡æ¯ ä»¥ä¸Šä¸¤ä¸ªä¿¡æ¯çœ‹ä¼¼å¾ˆéš¾ï¼Œä½†æ˜¯å¯¹äºæˆ‘ä»¬äº‘åœŸè€³å…¶ç”¨æˆ·æ¥è¯´æ²¡æœ‰ä»€ä¹ˆå›°éš¾æ˜¯ä¸èƒ½è§£å†³çš„ã€‚ä¸‹è¾¹æˆ‘ä»¬å°±çœ‹ä¸€ä¸‹ä¸¤ç§ä¿¡æ¯å¦‚ä½•å¿«é€Ÿçš„è·å–åˆ°ã€‚\nåœŸè€³å…¶æ‰‹æœºå· å¯¹äºç»å¸¸æ’¸åœŸè€³å…¶ç›¸å…³æœåŠ¡çš„äººæ¥è¯´ï¼Œè‚¯å®šéƒ½çŸ¥é“å¯ä»¥æ‰¾æ¥ç å¹³å°ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯éšä¾¿å“ªä¸ªæ¥ç å¹³å°å°±å¯ä»¥æ¥FUPSçš„ç ï¼Œæ¯”å¦‚æˆ‘ç»å¸¸ä½¿ç”¨çš„sms-activateå°±æ²¡æœ‰å¯ä»¥æ¥FUPSçš„æœåŠ¡ï¼Œä¸è¿‡åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œåœ¨å¦ä¸€ä¸ªæ¥ç å¹³å°sms-manè¿˜æ˜¯æ‰¾åˆ°äº†:\nä¸Šè¾¹å°±æ˜¯åœ¨sms-manå¹³å°é€šè¿‡å…ˆé€‰æ‹©å›½å®¶ï¼Œç„¶åå†é€‰æ‹©æœåŠ¡åé”å®šçš„FUPSçš„å¯ç”¨æ¥ç æœåŠ¡ã€‚æˆåŠŸè§£å†³äº†æ‰‹æœºå·é—®é¢˜ã€‚\nåœŸè€³å…¶èº«ä»½ä¿¡æ¯ çœ‹ç½‘ä¸Šè¯´åœŸè€³å…¶æœ‰æ³„æ¼è¿‡ä¸€æ¬¡ä¿¡æ¯ï¼Œå¯¼è‡´ä»–ä»¬å›½å®¶å¾ˆå¤šäººçš„ä¿¡æ¯éƒ½è¢«æ³„æ¼å‡ºå»äº†ï¼Œå¦‚æœæœ‰èƒ½åŠ›å¯ä»¥æ‰¾åˆ°é‚£ä¸ªæ³„æ¼çš„æ•°æ®å°±å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯æˆ‘ä¿¡æ¯å¤§éƒ¨åˆ†äººå’Œæˆ‘ä¸€æ ·ï¼Œåªéœ€è¦å¿«é€Ÿçš„æ‹¿åˆ°ä¿¡æ¯å°±è¡Œäº†ï¼Œæ— éœ€äº†è§£è¿‡å¤šï¼Œé‚£ä¹ˆæˆ‘åœ¨ç½‘ä¸Šä¹Ÿæœåˆ°ä¸€ä¸ªå‘å¡ç«™ï¼Œé‡Œè¾¹æœ‰å‡ºå”®åœŸè€³å…¶èº«ä»½ä¿¡æ¯ï¼Œå”®ä»·5å…ƒï¼Œå¯ä»¥æ— è„‘è´­ä¹°ã€‚ç½‘ç«™ï¼šhttps://pay.catiz.cnã€‚\næ”¶åˆ°çš„ä¿¡æ¯æ ¼å¼å¦‚ä¸‹ï¼š\u0026ldquo;TC\u0026rdquo; \u0026ldquo;FIRST NAME\u0026rdquo; \u0026ldquo;LAST NAME\u0026rdquo; \u0026ldquo;æ€§åˆ«\u0026rdquo; \u0026ldquo;å‡ºç”Ÿæ—¥æœŸ\u0026rdquo; \u0026ldquo;åœ°å€\u0026rdquo; \u0026ldquo;åŒº\u0026rdquo; \u0026ldquo;æ•™åŒº\u0026rdquo;\næœ€åè¿˜çœŸçš„æ‰¾åˆ°äº†å…è´¹çš„åœŸè€³å…¶ç”¨æˆ·ä¿¡æ¯ï¼šTelegramï¼Œé‡Œè¾¹æœ‰å…è´¹çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå¤§å®¶æ ¹æ®è‡ªå·±éœ€è¦è¿›è¡Œè·å–ã€‚\nè‡³æ¬¡ï¼Œä¸¤ä¸ªéš¾é¢˜å°±éƒ½è§£å†³äº†ã€‚\næ³¨å†Œ æ»¡è¶³äº†ä¸¤ä¸Šè¾¹ä¸¤ä¸ªæ¡ä»¶åï¼Œæ³¨å†Œå°±å˜çš„å¾ˆç®€å•äº†ï¼Œæ‰‹æœºä¸‹è½½FUPSçš„åº”ç”¨ç¨‹åºï¼Œé¦–æ¬¡æ‰“å¼€é»˜è®¤æ˜¾ç¤ºçš„æ˜¯åœŸè€³å…¶è¯­ï¼Œæˆ‘æƒ³å¤§éƒ¨åˆ†äººéƒ½æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œå¯ä»¥ç‚¹åˆä¸Šè§’çš„_ä¸‰ä¸ªç‚¹_è®¾ç½®è¯­è¨€ä¸ºè‹±æ–‡ï¼Œæœ€èµ·ç å¯ä»¥è¯»æ‡‚ä¸€äº›ï¼š\nç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®ï¼šregisterï¼Œè¿›å…¥æ³¨å†Œé¡µé¢ï¼š\nç›¸å…³ä¿¡æ¯å¡«å†™å¦‚ä¸‹ï¼š\nYour Name: è´­ä¹°çš„åœŸè€³å…¶ä¿¡æ¯ä¸­çš„firstName\nYour Surname: è´­ä¹°çš„åœŸè€³å…¶ä¿¡æ¯ä¸­çš„lastName\nID Number: è´­ä¹°çš„åœŸè€³å…¶ä¿¡æ¯ä¸­çš„TC\nBirth: è´­ä¹°çš„åœŸè€³å…¶ä¿¡æ¯ä¸­çš„å‡ºç”Ÿæ—¥æœŸ\nå¡«å®Œä¿¡æ¯å°±ä¸‹ä¸€æ­¥ï¼Œè¿›è¡Œæ¥ç éªŒè¯ï¼Œåœ¨å‘é€éªŒè¯ç ååœ¨æ¥ç å¹³å°ç‚¹å‡»è·å–éªŒè¯ç å°±å¯ä»¥äº†ã€‚\nè·å–è™šæ‹Ÿå¡ æ³¨å†ŒæˆåŠŸåæˆ‘ä»¬å°±å¯ä»¥å»è·å–è™šæ‹Ÿå¡äº†ï¼Œæˆ‘ä»¬é»˜è®¤æ³¨å†Œçš„è´¦æˆ·æ˜¯æ ‡å‡†è´¦æˆ·ï¼Œé™åˆ¶æœ€å¤§é‡‘é¢æ˜¯2750é‡Œæ‹‰ï¼Œæ›´é«˜çš„é™é¢éœ€è¦å‡çº§è´¦æˆ·ç­‰çº§ï¼Œå‡çº§å¯èƒ½å°±éœ€è¦æ›´å¤šèµ„æ–™äº†ï¼Œé»˜è®¤2750ä¹Ÿæ˜¯å¤Ÿç”¨çš„ã€‚\nç™»å½•åï¼Œç‚¹å‡»ä¸‹æ–¹çš„transactionsèœå•è¿›è¡Œï¼Œç„¶åé€‰æ‹©New Cardé€‰é¡¹æ¥è¿›è¡Œå¼€å¡ï¼š\nç‚¹å‡»äº†New Cardåè·³è½¬åˆ°å¦‚ä¸‹é¡µé¢ï¼Œé€‰æ‹©virtual Cardè¿›è¡Œå¼€å¡:\nä¸€ä¸ªè´¦æˆ·æœ€å¤šæœ‰3å¼ å…è´¹çš„è™šæ‹Ÿå¡ï¼Œç»è¿‡ä¸Šè¾¹æ­¥éª¤å°±æˆåŠŸçš„å¼€åˆ°äº†åœŸè€³å…¶çš„è™šæ‹Ÿvisaå¡ï¼Œä¸ºæˆ‘ä»¬å¿«ä¹çš„è´­ç‰©å¥ å®šäº†åŸºç¡€ã€‚\næ³¨æ„ åœ¨æ³¨å†ŒæˆåŠŸåï¼Œæˆ‘æƒ³åœ¨å¦ä¸€å°æ‰‹æœºä¸Šç™»å½•FUPSï¼Œå‘ç°æ— æ³•ç™»å½•ï¼Œéœ€è¦ç”¨æ³¨å†Œæ—¶çš„æ‰‹æœºå·å†ä¸€æ¬¡æ¥ç ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç”¨çš„æ¥ç å¹³å°ï¼Œå†ä¸€æ¬¡æ¥ç æ˜¯ä¸å¯èƒ½çš„äº†ï¼Œæ‰€ä»¥è¿™ä¸ªè´¦æˆ·åº”è¯¥å°±åªèƒ½åœ¨è¿™ä¸€ä¸ªæ‰‹æœºä¸Šç™»å½•äº†ï¼Œå¤§å®¶éœ€è¦è®°ä½ç›¸å…³çš„å¡ä¿¡æ¯ï¼Œé˜²æ­¢appæ— æ³•ç™»å½•ï¼Œå°±æ— æ³•å†ä½¿ç”¨è¿™äº›è™šæ‹Ÿå¡äº†ã€‚\nä¸Šè¾¹ä»‹ç»äº†å¦‚ä½•æ³¨å†ŒFUPSï¼Œä½†æ˜¯è·ç¦»èƒ½è´­ç‰©è¿˜æœ‰ä¸€æ®µè·ç¦»ï¼Œæ•™ç¨‹å°±å…ˆåˆ°è¿™é‡Œï¼Œåç»­å†æ›´æ–°å¦‚ä½•å…¥é‡‘åˆ°FUPSä¸­æ¥è¿›è¡Œè´­ç‰©ã€‚\nå…¥é‡‘æ•™ç¨‹å·²æ›´æ–°ï¼Œè¯¦ç»†ï¼šä½¿ç”¨ç«å¸ç»™åœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSè¿›è¡Œå¿«é€Ÿå…¥é‡‘ã€‚\n","date":"2024-01-29T15:10:25Z","image":"https://images.iminling.com/app/hide.php?key=MVR5VDd0N0p4aGdsc2s1azE5bng2aHZMb2RndnVrM211TVgxTFNSck1ualZzVnQxVWZ5Q3lvSU1DQkJVYTZTVE40Nm11c2M9","permalink":"https://konghanghang.github.io/iminling-pages/2024/turkey-fups-register/","title":"åœŸè€³å…¶è™šæ‹Ÿé“¶è¡ŒFUPSæ³¨å†Œæ•™ç¨‹"},{"content":"ä¸å¾—ä¸è¯´è¿™ä¸ªä¸–ç•Œä¸Šåäººè¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œä»¥ä¸ºè´­ä¹°ä¸€å°æœåŠ¡å™¨åéƒ¨ç½²è‡ªå·±çš„æœåŠ¡åå°±å¯ä»¥é«˜æ•æ— å¿§äº†å—ï¼ŸNOï¼Œæ€»æœ‰åˆæ°‘æƒ³è¿˜æœ•ï¼Œé»˜è®¤çš„SSHç«¯å£æ˜¯22ï¼Œè¿™ä¸ªæ˜¯SSHåè®®çš„è§„èŒƒï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†äººè´­ä¹°äº†æœåŠ¡å™¨åä¹Ÿä¸ä¼šæƒ³ç€å»æ›´æ”¹è¿™ä¸ªç«¯å£ï¼Œé‚£ä¹ˆå°±ä¼šè¢«ä¸€äº›ä¸æ³•åˆ†å­åˆ©ç”¨ï¼ŒæœåŠ¡å™¨ç”¨æˆ·åé»˜è®¤rootï¼Œç«¯å£é»˜è®¤22ï¼Œé‚£ä¹ˆä»–ä»¬å°±ä¼šé€šè¿‡è¿™ä¸ªæ¥æ‰«ä½ çš„æœºå™¨ï¼Œä¸åœçš„å°è¯•ç™»å½•ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®çš„å¯†ç å¼ºåº¦ä¸å¤Ÿï¼Œé‚£ä¹ˆå¾ˆå¿«å°±ä¼šè¢«ç©·ä¸¾å‡ºæ¥ï¼Œç„¶åä½ çš„æœåŠ¡å™¨å°±è¢«åˆ«äººæ§åˆ¶ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥åšä¸‰æ­¥æ“ä½œå¢å¼ºæˆ‘ä»¬æœåŠ¡å™¨çš„å®‰å…¨æ€§ã€‚\né…ç½®å…¬é’¥ ç”Ÿæˆå¯†é’¥å¯¹ æˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯ç”Ÿæˆä¸€å¯¹å¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨ssh-keygenæ¥ç”Ÿæˆä¸€å¯¹ï¼Œç”Ÿæˆè¯­æ³•å¦‚ä¸‹ï¼š\n1 ssh-keygen -t rsa -f ~/.ssh/my-ssh-key -C [USERNAME] å…¶ä¸­\n-t æŒ‡å®šç®—æ³•ï¼Œä¸€èˆ¬ä½¿ç”¨rsaéå¯¹ç§°åŠ å¯†ç®—æ³•\n-f æŒ‡å®šç”Ÿæˆçš„å¯†é’¥å¯¹å­˜æ”¾çš„è·¯å¾„ï¼Œå¯ä»¥ä¸æŒ‡å®šã€‚\n-C ä¸ºè¯¥å¯†é’¥å¯¹åˆ†é…ä¸€ä¸ªç”¨æˆ·åï¼Œåªæ˜¯ä¸ºäº†åˆ†ç»„ä½¿ç”¨ï¼Œå¯ä»¥éšæ„å‘½åã€‚\nå½“æˆ‘ä»¬æ‰§è¡Œç”Ÿæˆå‘½ä»¤æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤ä¼šæ”¾åœ¨å½“å‰ç”¨æˆ·çš„.sshç›®å½•ä¸‹ï¼Œå¹¶ä¼šä¸ºæ”¹å¯†é’¥è®¾ç½®å¯†ç ï¼Œé»˜è®¤ä¸è®¾ç½®ï¼Œç›´æ¥å›è½¦è·³è¿‡ï¼Œç»è¿‡è¿™ä¸ªå‘½ä»¤å°±ç”Ÿæˆäº†ä¸€å¯¹å¯†é’¥ï¼Œå…¬é’¥åç§°ï¼šid_rsa.pubï¼Œç§é’¥åç§°ï¼šid_rsa\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 $ ssh-keygen -t rsa Generating public/private rsa key pair. Enter file in which to save the key (/Users/aaa/.ssh/id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /Users/aaa/.ssh/id_rsa Your public key has been saved in /Users/aaa/.ssh/id_rsa.pub The key fingerprint is: SHA256:03Gf81aw0hniwCGSylV1VbOntYOrgsw1RicsUxWwKs aaa The key\u0026#39;s randomart image is: +---[RSA 3072]----+ | .oo.o ooB=o| | o. o o B.oo| | . o + O.*.o| | o . = XoOo| | S . +oOo.| | . Eo.ooo| | + . .o| | o . | | | +----[SHA256]-----+ $ ls .ssh config id_rsa.pub id_rsa known_hosts ä¸Šä¼ å…¬é’¥ ç”Ÿæˆå¯†é’¥åï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯æŠŠå…¬é’¥ä¸Šä¼ çš„éœ€è¦ç™»å½•çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·å­æˆ‘ä»¬æ‰èƒ½åœ¨è‡ªå·±æœ¬åœ°æˆ–è€…å…¶ä»–æœåŠ¡å™¨ä¸Šä½¿ç”¨ç§é’¥å»ç™»å½•åˆ°è¿™å°æœåŠ¡å™¨ã€‚ä¸Šä¼ å…¬é’¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯æˆ‘ä»¬ç›´æ¥æ‹·è´å…¬é’¥é‡Œçš„å†…å®¹åˆ°éœ€è¦ç™»å½•æœåŠ¡å™¨çš„\n1 ~/.ssh/authorized_keys æ–‡ä»¶ä¸­ï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ç›´æ¥æ–°å»ºä¸€ä¸ªã€‚å¦ä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨ssh-copy-idå‘½ä»¤æ¥å®Œæˆã€‚\nç›´æ¥ä¸Šä¼ æ–‡ä»¶å†…å®¹ æˆ‘è¿™é‡Œä½¿ç”¨scpå‘½ä»¤æŠŠæ–‡ä»¶ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶ååœ¨æœåŠ¡å™¨ä¸ŠæŠŠå†…å®¹å†™å…¥åˆ°authorized_keysä¸­ã€‚ä¸Šä¼ å‘½ä»¤ä¸­ç«¯å£æ˜¯éå¿…å¡«çš„é»˜è®¤æ˜¯22ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ç«¯å£å¯ä»¥æ·»åŠ æ­¤å‚æ•°ï¼Œåè¾¹çš„.pubæ–‡ä»¶å°±æ˜¯ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œåè¾¹ç´§è·Ÿç€ä½ æœåŠ¡å™¨çš„ç”¨æˆ·å@ip:å…·ä½“æœåŠ¡å™¨è·¯å¾„\n1 2 3 4 5 6 7 # scp [-P ç«¯å£] ./my-ssh-key.pub [USERNAME]@[EXTERNAL_IP_ADDRESS]:/root/.ssh scp ./my-ssh-key.pub root@192.168.31.1:/root/.ssh # ä¸Šä¼ æˆåŠŸåï¼Œsshç™»å½•åˆ°æœåŠ¡å™¨ä¸Šï¼ŒæŠŠä¸Šä¼ çš„pubæ–‡ä»¶è¿½åŠ åˆ°.sshç›®å½•ä¸‹çš„authorized_keysä¸­ã€‚ $ ssh root@192.168.31.1 $ cd .ssh $ cat my-ssh-key.pub \u0026gt;\u0026gt; ~/.ssh/authorized_keys ç»è¿‡ä¸Šè¾¹æ­¥éª¤å°±ä¸Šä¼ å¥½äº†pubå…¬é’¥äº†ï¼Œå°±å¯ä»¥ä½¿ç”¨keyæ¥ç™»å½•äº†ã€‚ä¸‹è¾¹ä»‹ç»ä¸€ä¸‹ä½¿ç”¨ssh-copy-idæ¥ä¸Šä¼ ã€‚\nssh-copy-idä¸Šä¼  è¿™ä¸ªä¸Šä¼ å°±å¾ˆç®€å•äº†ï¼Œç›´æ¥ä½¿ç”¨å‘½ä»¤ï¼š\n1 2 # ssh-copy-id -i ./my-ssh-key.pub [USERNAME]@[EXTERNAL_IP_ADDRESS] [-p ç«¯å£] $ ssh-copy-id -i ./my-ssh-key.pub root@192.168.31.1 -i æŒ‡å®šè¦ä¸Šä¼ çš„æ–‡ä»¶è·¯å¾„ï¼Œ\n-p æŒ‡å®šç«¯å£ï¼Œé»˜è®¤22ï¼Œå¦‚æœæ²¡ä¿®æ”¹è¿‡sshç«¯å£å°±ç›´æ¥ä¸éœ€è¦è¯¥å‚æ•°\nå…¬é’¥ç™»å½• åœ¨ç™»å½•å‰è¦å…ˆç¡®è®¤è¦ç™»å½•çš„æœåŠ¡å™¨æ˜¯å¦å¼€å¯äº†æ”¯æŒå…¬é’¥ç™»å½•ï¼Œå…¶å®ç°åœ¨å¤§éƒ¨åˆ†æœåŠ¡å™¨éƒ½æ˜¯é»˜è®¤æ”¯æŒçš„ï¼Œå¦‚æœé‡åˆ°ç™»å½•ä¸äº†çš„æƒ…å†µå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å¼€å¯ï¼Œå…·ä½“çš„æ–‡ä»¶è·¯å¾„æ˜¯/etc/ssh/sshd_conf,è®¾ç½®ä»¥ä¸‹å‚æ•°ä¸ºyesï¼š\n1 2 3 PasswordAuthentication yesã€€# å£ä»¤ç™»å½• RSAAuthentication yesã€€# RSAè®¤è¯ PubkeyAuthentication yesã€€# å…¬é’¥ç™»å½• å¦‚æœæœ‰ä¿®æ”¹éœ€è¦é‡å¯ä¸€ä¸‹æœåŠ¡å™¨çš„sshdæœåŠ¡ï¼š\n1 service sshd restart ç„¶åå°±å¯ä»¥åœ¨æœ¬åœ°æˆ–è€…å…¶ä»–æœåŠ¡å™¨ä½¿ç”¨sshå¹¶æŒ‡å®šè¦ä½¿ç”¨çš„ç§é’¥æ–‡ä»¶ç›®å½•æ¥è¿æ¥è¿™ä¸ªè¿œç¨‹çš„æœåŠ¡å™¨äº†ï¼š\n1 2 # ssh -i .ssh/my-ssh-key [USERNAME]@[EXTERNAL_IP_ADDRESS] [-p ç«¯å£] ssh -i .ssh/my-ssh-key root@192.168.31.1 ç»è¿‡ä¸Šè¾¹æ­¥éª¤å°±å¯ä»¥ä½¿ç”¨å…¬é’¥è¿æ¥åˆ°æœåŠ¡å™¨äº†ã€‚\nä¿®æ”¹SSHç«¯å£ é»˜è®¤çš„sshç«¯å£æ˜¯22ï¼Œæ˜¯åœ¨/etc/ssh/sshd_confä¸­é…ç½®çš„ï¼Œåœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­æˆ‘ä»¬å…ˆæ‰¾åˆ°åŸæ¥çš„é…ç½®22ç«¯å£ï¼Œç„¶åå¤åˆ¶ä¸€è¡Œå‡ºæ¥ï¼Œæ”¹æˆå¦å¤–ä¸€ä¸ªç«¯å£ï¼Œæ¯”å¦‚æˆ‘æ”¹æˆ1024ç«¯å£ï¼Œé‚£ä¹ˆæ­¤æ—¶22ç«¯å£å’Œ1024ç«¯å£åº”è¯¥éƒ½æ˜¯å¯ä»¥é€šè¿‡SSHæ¥è®¿é—®çš„ï¼Œè¿™é‡Œä¸€å®šè¦å°å¿ƒï¼Œä¸èƒ½ä¸€ä¸Šæ¥å°±æŠŠ22ç«¯å£å¹²æ‰ï¼Œä¸‡ä¸€é…ç½®é”™è¯¯å°±å‡‰å‡‰äº†ã€‚æ‰€ä»¥é…ç½®ä¸¤ä¸ªç«¯å£ï¼Œä¿è¯22ç«¯å£æ˜¯è‚¯å®šå¯ä»¥ä½¿ç”¨çš„ï¼Œç„¶åå†æ·»åŠ ä¸€ä¸ªæ–°çš„ç«¯å£ï¼Œé…ç½®åé‡å¯sshdæœåŠ¡ã€‚ç„¶åçœ‹æ–°é…ç½®çš„ç«¯å£æ˜¯å¦å¯ä»¥è®¿é—®SSHï¼Œå¦‚æœå¯ä»¥é‚£è¯´æ˜é…ç½®æ²¡æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥å¹²æ‰åŸæ¥çš„22ç«¯å£äº†ã€‚\n1 2 Port 22 Port 1024 é…ç½®çš„å±æ€§å°±å«Portã€‚\nç¦ç”¨å¯†ç ç™»å½• ä¸Šè¾¹å·²ç»é…ç½®äº†ä½¿ç”¨å…¬é’¥ç™»å½•ï¼Œå¹¶ä¸”ä¹Ÿä¿®æ”¹äº†SSHçš„ç«¯å£ï¼Œä½†æ˜¯rootç”¨æˆ·çš„å¯†ç è¿˜åœ¨ï¼Œé‚£ä¹ˆä¸€æ—¦ä¸€äº›äººæ‰«åˆ°äº†æœåŠ¡å™¨çš„1024ç«¯å£æ˜¯sshï¼Œé‚£ä¹ˆä»–ä»¬è¿˜æ˜¯ä¼šä¸åœçš„å°è¯•å¯†ç ï¼Œæš´åŠ›ç ´è§£å¯†ç ï¼Œæ‰€ä»¥éœ€è¦æŠŠå¯†ç ç™»å½•å…³æ‰ï¼Œåªç”¨å…¬é’¥æ¥ç™»å½•ã€‚åŒæ ·ä¹Ÿæ˜¯ä¿®æ”¹/etc/ssh/sshd_confï¼Œä¿®æ”¹PasswordAuthenticationä¸ºnoå°±å¯ä»¥äº†ï¼š\n1 2 3 PasswordAuthentication no # å£ä»¤ç™»å½• RSAAuthentication yesã€€# RSAè®¤è¯ PubkeyAuthentication yesã€€# å…¬é’¥ç™»å½• ç»è¿‡ä¸Šè¾¹çš„é…ç½®å°±å¯ä»¥ç¦ç”¨æ‰rootç”¨æˆ·çš„å¯†ç ç™»å½•åŠŸèƒ½ï¼Œå¹¶ä¿®æ”¹äº†SSHç™»å½•çš„ç«¯å£ï¼Œè¿™æ ·å­æœåŠ¡å™¨çš„å®‰å…¨æ€§å°±æé«˜äº†ä¸€äº›ã€‚\né‡åˆ°çš„é—®é¢˜ åœ¨ç¬¬ä¸€æ­¥ä¸Šä¼ å…¬é’¥åˆ°æœåŠ¡å™¨çš„æ—¶å€™ï¼Œä¸Šä¼ æˆåŠŸäº†ï¼Œä½†æ˜¯å§‹ç»ˆæ— æ³•é€šè¿‡å…¬é’¥å»ç™»å½•åˆ°æœåŠ¡å™¨ï¼Œç ”ç©¶äº†å¥½ä¹…å‘ç°æ˜¯æœåŠ¡å™¨ä¸Šçš„ç›®å½•æƒé™ä¸æ­£ç¡®ï¼Œæ­£ç¡®çš„æƒé™åº”è¯¥æ˜¯ä¸‹è¾¹è¿™æ ·å­çš„:\n1 2 $ chmod 700 ~/.ssh $ chmod 600 ~/.ssh/authorized_keys ","date":"2024-01-05T15:14:15Z","image":"https://images.iminling.com/app/hide.php?key=b0w0Mnh3eThuS0JueUNaajQrNU1LVXlDSVZsMEY4YlRqQU9leUEzazk0eVJXU2xxRFlLV1pKbXhmdnFpUnArVE1GbTEvZlU9","permalink":"https://konghanghang.github.io/iminling-pages/2024/modify-ssh-port-and-use-publick-key-login/","title":"ä¿®æ”¹SSHç«¯å£ä½¿ç”¨å…¬é’¥ç™»å½•å¹¶ç¦ç”¨rootå¯†ç ç™»å½•"},{"content":"åœ¨æœ¬åœ°å¼€å‘æˆ–è€…åœ¨çº¿ä¸Šç¯å¢ƒçš„æ—¶å€™ï¼Œæœ¬åœ°å¼€å‘æœºå™¨å’Œçº¿ä¸Šéƒ½æœ‰å¯èƒ½æœ‰å¤šå¼ ç½‘å¡ï¼šç‰©ç†ç½‘å¡æˆ–è€…è™šæ‹Ÿç½‘å¡ï¼Œå¦‚æœåªæœ‰ä¸€å¼ ç½‘å¡ï¼Œé‚£ä¹ˆ Spring Cloudå¾®æœåŠ¡ä¹Ÿä¸ä¼šæœ‰æ³¨å†Œé”™ipçš„æƒ…å†µï¼Œä¸€æ—¦æœ‰å¤šå¼ ç½‘å¡ï¼Œé—®é¢˜å°±ä¼šæš´éœ²å‡ºæ¥ï¼Œä¸åŒçš„ç½‘å¡ç½‘ç»œæ®µè‚¯å®šæ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆipä¹‹é—´ä¹Ÿä¸å¯èƒ½äº’é€šï¼Œå°±ä¼šå‡ºç°è™½ç„¶æœåŠ¡æ³¨å†Œåˆ°äº†æ³¨å†Œä¸­å¿ƒï¼Œä½†æ˜¯å´æ— æ³•è®¿é—®åˆ°è¿™ä¸ªå·²æ³¨å†Œçš„æœåŠ¡ã€‚\né‡åˆ°é—®é¢˜è¿‡ç¨‹ æˆ‘é‡åˆ°è¿™ä¸ªé—®é¢˜ä¸»è¦æ˜¯åœ¨è‡ªå·±çš„æœ¬åœ°ç”µè„‘ä¸Šï¼Œæˆ‘ç”µè„‘ä¸Šæœ‰ä¸¤ä¸ªç½‘å¡çš„åœ°å€ä¸æ˜¯åŒä¸€ä¸ªæ®µä¸Šçš„ï¼Œå¦‚ä¸‹ï¼š\næœ‰ä¸€ä¸ª192.168.6.6å’Œå¦ä¸€ä¸ª192.168.64.1çš„ï¼Œåœ¨æˆ‘å¯åŠ¨æˆ‘çš„æœ¬åœ°çš„CloudæœåŠ¡çš„æ—¶å€™ï¼ŒNacosä¸­é»˜è®¤æ³¨å†Œçš„æ˜¯192.168.6.6çš„åœ°å€ï¼š\nç»è¿‡æŸ¥è¯¢ååœ¨boostrap.yamlé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ï¼š\n1 2 3 4 5 spring: cloud: inetutils: preferredNetworks: - 192.168.64 ç»è¿‡é…ç½®åï¼Œå†æ¬¡å¯åŠ¨é¡¹ç›®ï¼Œå†çœ‹æ³¨å†Œä¸­å¿ƒä¸­æ³¨å†Œçš„åœ°å€å¦‚ä¸‹ï¼š\nå·²ç»æ˜¯æƒ³è¦çš„ç»“æœäº†ã€‚\né—®é¢˜æ·±å…¥ åœ¨springå®˜æ–¹æ–‡æ¡£å¯ä»¥æŸ¥è¯¢åˆ°ï¼Œæœ‰å‡ ç§æ–¹å¼å¯ä»¥é…ç½®ï¼Œåœ°å€ï¼šcommon-abstractionsã€‚\nå¯ä»¥ä½¿ç”¨å¿½ç•¥ç‰¹å®šçš„ç½‘ç»œæ¥å£ï¼š\n1 2 3 4 5 6 spring: cloud: inetutils: ignoredInterfaces: - docker0 - veth.* å¦‚ä¸Šå¿½ç•¥äº†dockerçš„ç½‘ç»œæ¥å£ä»¥åŠvethç›¸å…³çš„ç½‘ç»œæ¥å£ã€‚\nå¦ä¸€ç§å°±æ˜¯æˆ‘ä¸Šè¾¹æåˆ°çš„preferredNetworks\né…ç½®é¦–é€‰ç½‘ç»œï¼Œåå‘ä¸ä½¿ç”¨å“ªä¸ªipåœ°å€ã€‚\nå®˜ç½‘è¿˜æåˆ°å¯ä»¥å¼ºåˆ¶åªä½¿ç”¨ç«™ç‚¹æœ¬åœ°åœ°å€ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š\n1 2 3 4 spring: cloud: inetutils: useOnlySiteLocalInterfaces: true å…·ä½“è¯¦è§å®˜ç½‘çš„æ–‡æ¡£ã€‚\n","date":"2023-12-24T09:02:19Z","image":"https://images.iminling.com/app/hide.php?key=SmJabnJsdTlXbDExYlljU3RzemUyTVRlcHFScHFZRUJYSTR1c1BoYkhrZHE3L2RpK05qbkpLQlprcTFPY2QvY3lJaVB3Y3M9","permalink":"https://konghanghang.github.io/iminling-pages/2023/spring-cloud-use-true-ip-register-nacos/","title":"å¤šç½‘å¡ç¯å¢ƒä¸‹Spring Cloudå¾®æœåŠ¡æ³¨å†Œç‰¹å®šç½‘å¡Ipåˆ°æ³¨å†Œä¸­å¿ƒ(Nacos)"},{"content":"å…¬å¸æœ‰ä¸€ä¸ªé¡¹ç›®ä½¿ç”¨çš„æ˜¯Antæ¥è¿›è¡Œæ‰“åŒ…æ„å»ºçš„ï¼Œæ²¡å‡çº§IDEAå‰è¿˜å¯ä»¥åœ¨å·¥å…·æ æ‰¾åˆ°AntåŠŸèƒ½æ¥è¿›è¡Œæ„å»ºï¼Œå‡çº§2023.3ç‰ˆæœ¬åï¼ŒAntå°±æ‰¾ä¸åˆ°äº†ï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œç»ˆäºæ‰¾å›äº†Antã€‚å†æ¬¡æé†’å„ä½ï¼Œå‡çº§è¿˜æ˜¯éœ€è¦è°¨æ…å‘€ï¼Œæ—§çš„åˆä¸æ˜¯ä¸èƒ½ç”¨ï¼Œå“ˆå“ˆã€‚åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹è¾¹ç»™å‡ºå…·ä½“çš„è§£å†³æ–¹æ³•ã€‚\n2023.3ä»¥å‰ç‰ˆæœ¬ åœ¨2023.3ç‰ˆæœ¬ä»¥å‰ï¼Œå¦‚æœåœ¨å·¥å…·æ æ‰¾ä¸åˆ°Antï¼Œå¯ä»¥åœ¨IDEAçš„èœå•ä¸­æŠŠAntç»™æ·»åŠ åˆ°å·¥å…·æ ï¼Œå¦‚ä¸‹å›¾ï¼š\nviewèœå• tool windows - Antå°±å¯ä»¥æ‰¾åˆ°Antå·¥å…·ã€‚\n2023.3ç‰ˆæœ¬ å‡çº§åˆ°2023.3ç‰ˆæœ¬åï¼Œåœ¨viewèœå• tool windowsä¸­æ‰¾ä¸åˆ°Anté€‰é¡¹äº†ï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ª AI AssistantÂ çš„åŠŸèƒ½ï¼Œåœ¨IDEAä¸­æ‰¾Antç›¸å…³çš„é…ç½®ä¹Ÿæ˜¯æ— æœã€‚\næœ€ååœ¨IDEAçš„å®˜æ–¹æ—¥å¿—ä¸­æ‰¾åˆ°äº†åŸå› ï¼Œå®˜æ–¹åœ°å€ï¼šIntelliJ IDEA 2023.3 æœ€æ–°å˜åŒ–ã€‚å…¶å®ä¸Šå›¾é‡Œä¹Ÿæœ‰è¯´æ˜ï¼Œåªæ˜¯å‡çº§åå¹¶æ²¡æœ‰ä»”ç»†é˜…è¯»ï¼Œè€Œæ˜¯åæ¥ç½‘ä¸Šæ‰¾åˆ°äº†ä¸­æ–‡çš„å‡çº§è¯´æ˜ï¼š\nåœ¨æ–°ç‰ˆæœ¬ä¸­Antè¦å»åˆ°å¸‚åœºä¸‹è½½äº†ã€‚\nä¸‹è½½Antæ’ä»¶ åœ¨pluginä¸­æœç´¢Antï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªjetbrainsæä¾›çš„Antæ’ä»¶ï¼Œè¿›è¡Œä¸‹è½½ï¼Œç„¶åå°±å¯ä»¥åœ¨view - tool windowsä¸­æ‰¾åˆ°Antæ’ä»¶äº†ã€‚\nå®‰è£…åç«‹é©¬å°±å¯ä»¥æ‰¾åˆ°ï¼Œä¹Ÿä¸éœ€è¦é‡å¯IDEAï¼Œç»è¿‡ä¸Šè¿°è¿‡ç¨‹å°±æˆåŠŸçš„æ‰¾å›äº†Antæ’ä»¶ï¼Œå¯ä»¥æ„‰å¿«çš„ä½¿ç”¨Antæ¥ç¼–è¯‘æ‰“åŒ…é¡¹ç›®äº†ã€‚\nIDEAå¦‚ä½•ä½¿ç”¨å¼€æºé¡¹ç›®ç”³è¯·å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šå¼€æºé¡¹ç›®ç”³è¯·JetBrains Open Source Development Licenseã€‚\n","date":"2023-12-16T03:00:20Z","image":"https://images.iminling.com/app/hide.php?key=MklMSXFFczNLSWQ5Zkl4N1RrVGo4NkxlOXJXRTZ6L1B2cndwZEJ2ai9OMnRkV21kdVdzcTZsek1qK1ZKMFJINHVWenoyNjg9","permalink":"https://konghanghang.github.io/iminling-pages/2023/intellij-idea2023-find-ant-tool/","title":"å‡çº§Intellij IDEA 2023.3åæ‰¾å›Antæ„å»ºå·¥å…·"},{"content":"åœ¨ä»Šå¹´ä¸‰æœˆä»½æˆ‘æˆåŠŸçš„æ‹¿åˆ°äº†itinï¼Œç„¶åä½¿ç”¨itinç”³è¯·äº†ç¬¬ä¸€å¼ ç¾å›½ä¿¡ç”¨å¡ï¼šcaptail oneçš„æŠ¼é‡‘ä¿¡ç”¨å¡ï¼Œå…·ä½“çš„ç”³è¯·è¿‡ç¨‹å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šä½¿ç”¨ITINç”³è¯·capital oneä¿¡ç”¨å¡ï¼Œç»è¿‡å‡ ä¸ªæœˆçš„ä½¿ç”¨ï¼Œä¿¡ç”¨åˆ†ä¹Ÿç§¯æ”’çš„å·®ä¸å¤šäº†ï¼Œæ‰€ä»¥å°±èŒç”Ÿäº†ç”³è¯·American Express(ç¾å›½è¿é€š)ä¿¡ç”¨å¡çš„æƒ³æ³•ï¼Œäºæ˜¯å°±å¼€å§‹äº†ç”³è¯·ä¹‹è·¯ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„ç”³è¯·ç»å†ã€‚\nè‡ªèº«æƒ…å†µ ä»ä¸‰æœˆä»½æ‹¿åˆ°itinç”³è¯·captial oneä¿¡ç”¨å¡åï¼Œä»5æœˆå¼€å§‹å‡ºè´¦å•ï¼Œåˆ°ç°åœ¨å¤§æ¦‚ä¹Ÿæ˜¯å‡ºäº†åŠå¹´çš„è´¦å•ï¼Œ11æœˆ6æ—¥åœ¨equifaxæŸ¥è¯¢ä¿¡ç”¨åˆ†æ˜¯731åˆ†ï¼Œç»è¿‡11æœˆwiseæ‰£æ¬¾å¤±è´¥äº§ç”Ÿé€¾æœŸè´¹ç”¨ï¼Œæˆ‘æœ¬ä»¥ä¸ºä¿¡ç”¨åˆ†ä¼šé™ä½ï¼Œæ²¡æƒ³åˆ°12æœˆ6å·åœ¨equifaxæŸ¥è¯¢ä¿¡ç”¨åˆ†çš„æ—¶å€™è¿˜æ¶¨äº†1åˆ†ï¼Œç”³è¯·çš„æ—¶å€™ä¿¡ç”¨åˆ†æ˜¯732åˆ†ã€‚\nç”³è¯· æˆ‘ä»¬å»åˆ°AEå®˜ç½‘ï¼Œæ‰¾åˆ°å…å¹´è´¹çš„ä¿¡ç”¨å¡ï¼Œæˆ‘ç”³è¯·çš„æ˜¯ï¼šBlue Cash EverydayÂ® Cardï¼Œ å¯ä»¥æ ¹æ®éœ€æ±‚æ¥ç”³è¯·**ã€‚**\nå¾€ä¸‹æ¥æ‰¾åˆ°éœ€è¦ç”³è¯·çš„å¡ç‰‡ï¼Œç‚¹å‡»apply now æˆ–è€… view detailsï¼Œä¸‹é¢æ˜¯è¯¦ç»†ä¿¡æ¯é¡µé¢ï¼š\nç”³è¯·é¡µé¢éœ€è¦å¡«çš„éƒ½æ˜¯ä¸€äº›åŸºç¡€ä¿¡æ¯ï¼Œæ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œå¡«å†™ï¼Œå¡«å†™SSNçš„æ—¶å€™ï¼Œæ ¹æ®æç¤ºå®é™…ä¸ŠITINä¹Ÿæ˜¯okçš„ã€‚\nå¡«å†™å®Œæˆå°±æäº¤ä¸‹ä¸€æ­¥ï¼ŒåŒæ„ä¸€äº›æ¡æ¬¾å¹¶æäº¤ç”³è¯·ï¼š\nä¹‹åå°±ä¼šå‡ºç°ä½ çš„è¿½è¸ªå·ç é¡µé¢ï¼š\nåŒæ—¶ä¹Ÿä¼šæ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œå’Œä¸Šå›¾çš„æç¤ºå·®ä¸å¤šï¼Œæ€»ä¹‹å°±æ˜¯è®©æ‰“ç”µè¯ç»™ä»–ä»¬æä¾›æ›´å¤šçš„ä¿¡æ¯æ¥ç”³è¯·è¿™å¼ å¡ã€‚é™¤äº†è¿™ä¸ªé‚®ä»¶å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å¯ä»¥æŸ¥çœ‹ç”³è¯·è¿›åº¦çš„é‚®ä»¶ï¼Œåè¾¹æˆ‘ä»¬ä¼šä½¿ç”¨è¿™ä¸ªåœ°å€æ¥æŸ¥çœ‹æˆ‘ä»¬çš„ç”³è¯·è¿›åº¦ï¼š\næäº¤ç”³è¯·åçš„ç”³è¯·è¿›åº¦æŸ¥çœ‹\nç”µè¯å®¢æœ æˆ‘å¤§æ¦‚æ˜¯åœ¨æ™šä¸Š10ç‚¹å·¦å³ç»™å®¢æœç”µè¯ï¼Œå®¢æœè¯¢é—®äº†æˆ‘çš„åå­—ï¼Œç”Ÿæ—¥ï¼ŒSSN(æˆ‘æŠ¥çš„æ˜¯ITIN)ã€‚ä»¥åŠè¿˜é—®æˆ‘çš„å†›äº‹èº«ä»½ï¼Œå›ç­”NOã€‚ç„¶åè¯´è®©æˆ‘è®°ä¸‹èµ„æ–™ä¸Šä¼ çš„ç½‘å€ï¼Œéœ€è¦ä¸Šä¼ SSNæˆ–è€…é©¾é©¶è¯ç­‰ä¸€äº›èµ„æ–™ä¿¡æ¯ï¼Œå…·ä½“çš„ç½‘å€æ˜¯ï¼šhttps://www.americanexpress.com/uploadï¼Œéšåå°±æŒ‚äº†ç”µè¯ï¼Œæˆ‘å°±åœ¨èµ„æ–™ä¸Šä¼ çš„åœ°å€ä¸ŠæŠŠæŠ¤ç…§å’ŒITINçš„ä¿¡ä¸Šä¼ äº†ä¸Šå»ï¼ŒåŒæ—¶ä¹Ÿæ”¶åˆ°äº†é‚®ä»¶ï¼Œæç¤ºæ”¶åˆ°èµ„æ–™ã€‚åˆšä¸Šä¼ å®Œæ²¡å¤šä¹…ï¼Œå°±æ”¶åˆ°äº†ç¾å›½æ‰“æ¥çš„ä¸€ä¸ªç”µè¯ï¼Œè¿›è¡ŒäºŒæ¬¡ä¿¡æ¯ç¡®è®¤ï¼Œä¹Ÿæ˜¯ç®€å•çš„é—®äº†ä¸€ä¸‹ç”Ÿæ—¥å’ŒSSNï¼Œä»¥åŠæé†’æˆ‘ä¸Šä¼ è¿™äº›ä¿¡æ¯ï¼Œä½†æ˜¯å¥¹å¾ˆå¿«å°±å‘ç°æˆ‘å·²ç»ä¸Šä¼ äº†ï¼Œå°±ç®€å•è¯´äº†ä¸¤å¥å°±æŒ‚äº†ç”µè¯ã€‚\näºŒæ¬¡ç”µè¯å®¢æœ åœ¨æäº¤ç”³è¯·èµ„æ–™åçš„ç¬¬äºŒå¤©ï¼Œæˆ‘é€šè¿‡æŸ¥çœ‹ç”³è¯·è¿›åº¦çš„è¿æ¥å‘ç°è¿˜éœ€è¦æˆ‘ä¸Šä¼ ä¸€äº›èµ„æ–™ï¼Œç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œé‡Œè¾¹è¦è®©æˆ‘æä¾›SSNï¼Œæˆ‘åªæœ‰ITINæ€ä¹ˆæä¾›å‘¢ï¼Ÿ\nview the full decision detailsçš„å¦‚ä¸‹ï¼š\næ— å¥ˆåˆæ‰“ç”µè¯ç»™äº†å®¢æœï¼ŒæŠ¥äº†åå­—ï¼Œè¿½è¸ªå·ç ä»¥åŠåœ°å€ä¿¡æ¯ï¼Œç„¶åè¡¨æ˜æ²¡æœ‰SSNï¼Œåªæœ‰ITINï¼Œç„¶åå°±è®©æˆ‘å†æ¬¡ä¸Šä¼ è¿™äº›èµ„æ–™ï¼ŒæŒ‚äº†ç”µè¯åæˆ‘å°±åˆå»ä¸Šä¼ äº†ITINä¿¡å’ŒæŠ¤ç…§çš„ç…§ç‰‡ï¼Œè¿™æ¬¡æäº¤èµ„æ–™å¹¶æ²¡æœ‰åƒç¬¬ä¸€æ¬¡é‚£æ ·æ”¶åˆ°é‚®ä»¶æç¤ºè¯´æ”¶åˆ°èµ„æ–™ï¼Œç„¶åå°±æ˜¯ç»§ç»­ç­‰å¾…ã€‚\nå®¡æ‰¹é€šè¿‡ å†äºŒæ¬¡è‡´ç”µå®¢æœå¹¶æäº¤èµ„æ–™åï¼Œç»ˆäºåœ¨ç¬¬äºŒå¤©æ—©ä¸Šé†’æ¥æ”¶åˆ°äº†å®¡æ‰¹é€šè¿‡çš„é‚®ä»¶ï¼š\næ ¹æ®é‚®ä»¶æç¤ºï¼Œå½“å‰è¿™ä¸ªèŠ‚ç‚¹è¿˜æ²¡æœ‰å½±å“åˆ°æˆ‘çš„ä¿¡ç”¨åˆ†ï¼Œå¦‚æœæˆ‘åœ¨ç¾å›½ä¸œéƒ¨æ—¶é—´12æœˆ14æ—¥æ™šä¸Š11ç‚¹59åˆ†ä¹‹å‰æ²¡æœ‰æ¥å—è¿™ä¸ªå¡ç‰‡ï¼Œé‚£ç”³è¯·å°†ä¼šè¢«å–æ¶ˆã€‚\nAccept Your Card æ ¹æ®é‚®ä»¶æç¤ºï¼Œå»æ¥å—ç”³è¯·çš„é‚£å¼ å¡ç‰‡ï¼Œæ‰“å¼€é“¾æ¥åå…ˆæ˜¯ä¸€ä¸ªéªŒè¯ï¼Œéœ€è¦è¾“å…¥é‚®ç¼–å·å’Œç”Ÿæ—¥\nç»§ç»­ä¸‹ä¸€æ­¥ï¼š æ¥å—æˆ–è€…å–æ¶ˆç”³è¯·ï¼Œå½“æ—¶å°±æ¥å—äº†ã€‚\næˆåŠŸæ¥å—äº†ç”³è¯·å¡ç‰‡ï¼Œæ ¹æ®å›¾ç‰‡æç¤ºæˆ‘çš„å¡åº”è¯¥ä¼šåœ¨12æœˆ19å·æ”¶åˆ°ã€‚ç„¶åå°±æ˜¯åˆ›å»ºAEçš„è´¦æˆ·äº†ã€‚æ ¹æ®æç¤ºè‡ªè¡Œåˆ›å»ºå°±å¯ä»¥äº†ï¼Œä¹Ÿæ²¡æœ‰å¤ªå¤šéœ€è¦æ³¨æ„çš„ã€‚\nå¡ç‰‡é¢åº¦ captial oneçš„é¢åº¦æ˜¯$3200ï¼ŒAEçš„é¢åº¦5000ï¼Œä¸­è§„ä¸­çŸ©å§\nä»ç”³è¯·åˆ°ä¸‹å¡ä¹Ÿä¸ç®—å¤ªæ›²æŠ˜ï¼Œä¸­é—´å†æ—¶ä¸‰å¤©ã€‚å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚\nå¡ç‰‡é‚®å¯„ åœ¨12æœˆ11æ—¥æ”¶åˆ°é‚®ä»¶é€šçŸ¥å¡ç‰‡å·²é‚®å¯„\nè¿½è¸ªé‚®ä»¶ï¼Œåœ¨12æœˆ15æ—¥æ˜¾ç¤ºå°±å·²ç»åˆ°äº†ï¼Œä½†æ˜¯åè¾¹ä¸¤å¤©è¿Ÿè¿Ÿæ²¡æœ‰æ”¶åˆ°anytimemailboxçš„é‚®ä»¶ï¼Œæˆ‘è¿˜ä»¥ä¸ºä¸¢ä»¶äº†å‘¢ï¼Œåæ¥æƒ³æƒ³åº”è¯¥æ˜¯å‘¨å…­æ—¥çš„ç¼˜æ•…å§ï¼Œæ›´æ–°å»¶è¿Ÿäº†ä¸€äº›ï¼Œåœ¨12æœˆ19æ—¥æ”¶åˆ°äº†é€šçŸ¥\nä¹‹åå°±æ˜¯è½¬è¿å›å›½ï¼Œè®©æˆ¿ä¸œä½¿ç”¨çš„DHLé‚®å¯„å›æ¥ï¼Œè´¹ç”¨80$ã€‚ä»12æœˆ20å·ä»ç¾å›½å¯„å‡ºï¼Œåˆ°ä»Šå¤©(12æœˆ26å·)ç»ˆäºæ”¶åˆ°äº†å¡ç‰‡ï¼Œå†æ—¶6å¤©ã€‚\nå¡ç‰‡ç…§ç‰‡ ä¿¡ç”¨åˆ† åœ¨ç”³è¯·çš„å¡ç‰‡çš„æ—¶å€™ï¼Œæˆ‘ç”¨equifaxæŸ¥è¯¢çš„ä¿¡ç”¨åˆ†æ˜¯732ï¼Œåœ¨è¿é€šå¯„æ¥çš„ä¿¡é‡Œè¾¹æœ‰ä¸€å¼ çº¸å†™æ˜¯FICOä¿¡ç”¨åˆ†ï¼Œç«Ÿç„¶æ˜¯769åˆ†ï¼Œä¸åŒçš„åœ°æ–¹ä¿¡ç”¨åˆ†åŸæ¥è¿˜ä¸ä¸€æ ·ã€‚\n","date":"2023-12-09T03:40:08Z","image":"https://images.iminling.com/app/hide.php?key=WU9YMHZjQWREeUdDWmVDOVhpWS9RSkRMQU1yejdWSGFZcUZmVCt5aHJDd0ZIZUlzMXBGM085MzgyOEJ6NFB3WFM5bUJyZGs9","permalink":"https://konghanghang.github.io/iminling-pages/2023/itin-apply-american-express-credit-card/","title":"ä½¿ç”¨ITINç”³è¯·American Express(ç¾å›½è¿é€š)ä¿¡ç”¨å¡"},{"content":"åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è®²è§£äº†å¦‚ä½•åœ¨dockerç¯å¢ƒä¸‹å¿«é€Ÿçš„å®‰è£…prometheusï¼šdebianç³»ç»Ÿä½¿ç”¨dockerå¿«é€Ÿå®‰è£…promutheusï¼Œè¿™ç¯‡æ–‡ç« å’±ä»¬æ¥è®²ä¸€ä¸‹å¦‚ä½•åœ¨linuxä¸»æœºä¸­å®‰è£…node exporteræ¥é‡‡é›†linuxç³»ç»Ÿçš„å„é¡¹æŒ‡æ ‡ã€‚\nå®‰è£…node exporter node exporterçš„å®‰è£…éå¸¸ç®€å•ï¼Œå¯ä»¥å»prometheusçš„å®˜ç½‘ä¸‹è½½ï¼šnode exporter - prometheusï¼Œæˆ–è€…å»githubè¿›è¡Œä¸‹è½½ï¼šnode_exporter - githubï¼Œæˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨wgetå‘½ä»¤ä»githubä¸Šä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…wget https://github.com/prometheus/node_exporter/releases/download/v1.2.2/node_exporter-1.2.2.linux-amd64.tar.gzï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 root@admin:~# wget https://github.com/prometheus/node_exporter/releases/download/v1.2.2/node_exporter-1.2.2.linux-amd64.tar.gz --2023-11-25 22:35:44-- https://github.com/prometheus/node_exporter/releases/download/v1.2.2/node_exporter-1.2.2.linux-amd64.tar.gz Resolving github.com (github.com)... 20.205.243.166 Connecting to github.com (github.com)|20.205.243.166|:443... connected. HTTP request sent, awaiting response... 302 Found Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/9524057/28598a7c-d8ad-483d-85ba-8b2c9c08cf57?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231126%2Fus-east-1%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20231126T033542Z\u0026amp;X-Amz-Expires=300\u0026amp;X-Amz-Signature=cf09a0c524756802e669d7ccb2b60b9dcc5f3cfd0855cd9abad7d31947596c2f\u0026amp;X-Amz-SignedHeaders=host\u0026amp;actor_id=0\u0026amp;key_id=0\u0026amp;repo_id=9524057\u0026amp;response-content-disposition=attachment%3B%20filename%3Dnode_exporter-1.2.2.linux-amd64.tar.gz\u0026amp;response-content-type=application%2Foctet-stream [following] --2023-11-25 22:35:45-- https://objects.githubusercontent.com/github-production-release-asset-2e65be/9524057/28598a7c-d8ad-483d-85ba-8b2c9c08cf57?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026amp;X-Amz-Credential=AKIAIWNJYAX4CSVEH53A%2F20231126%2Fus-east-1%2Fs3%2Faws4_request\u0026amp;X-Amz-Date=20231126T033542Z\u0026amp;X-Amz-Expires=300\u0026amp;X-Amz-Signature=cf09a0c524756802e669d7ccb2b60b9dcc5f3cfd0855cd9abad7d31947596c2f\u0026amp;X-Amz-SignedHeaders=host\u0026amp;actor_id=0\u0026amp;key_id=0\u0026amp;repo_id=9524057\u0026amp;response-content-disposition=attachment%3B%20filename%3Dnode_exporter-1.2.2.linux-amd64.tar.gz\u0026amp;response-content-type=application%2Foctet-stream Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.111.133, ... Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 8898481 (8.5M) [application/octet-stream] Saving to: â€˜node_exporter-1.2.2.linux-amd64.tar.gzâ€™ node_exporter-1.2.2.linux-amd64.tar.gz 100%[===============================================================================\u0026gt;] 8.49M 20.2MB/s in 0.4s 2023-11-25 22:35:46 (20.2 MB/s) - â€˜node_exporter-1.2.2.linux-amd64.tar.gzâ€™ saved [8898481/8898481] ä¸‹è½½åˆ°æœ¬åœ°ä¸»æœºåè§£å‹åˆšä¸‹è½½çš„æ–‡ä»¶ï¼Œé‡Œè¾¹æœ‰ä¸‰ä¸ªæ–‡ä»¶ï¼Œnode_exporterå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼š\n1 2 3 4 5 6 root@admin:~# tar -zxf node_exporter-1.2.2.linux-amd64.tar.gz root@admin:~# ls images node_exporter-1.2.2.linux-amd64 node_exporter-1.2.2.linux-amd64.tar.gz root@admin:~# cd node_exporter-1.2.2.linux-amd64 root@admin:~/node_exporter-1.2.2.linux-amd64# ls LICENSE node_exporter NOTICE è¿è¡Œnode exporter å¯ä»¥è¿›å…¥åˆ°node_exporter-1.2.2.linux-amd64\nç›®å½•ï¼Œæ‰§è¡Œ./node_exportæ¥æ‰§è¡Œé¡¹ç›®ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 root@admin:~/node_exporter-1.2.2.linux-amd64# ./node_exporter level=info ts=2023-11-26T06:17:11.718Z caller=node_exporter.go:182 msg=\u0026#34;Starting node_exporter\u0026#34; version=\u0026#34;(version=1.2.2, branch=HEAD, revision=26645363b486e12be40af7ce4fc91e731a33104e)\u0026#34; ....... level=info ts=2023-11-26T06:17:11.720Z caller=node_exporter.go:199 msg=\u0026#34;Listening on\u0026#34; address=:9100 level=info ts=2023-11-26T06:17:11.720Z caller=tls_config.go:191 msg=\u0026#34;TLS is disabled.\u0026#34; http2=false ä»ä¸Šè¾¹å¯åŠ¨çš„æ—¥å¿—å¯ä»¥çœ‹å‡ºé‡‡é›†çš„å…·ä½“æŒ‡æ ‡ï¼Œå€’æ•°ç¬¬äºŒè¡Œæ—¥å¿—å¯ä»¥çœ‹å‡ºnode_exporterå ç”¨çš„æ˜¯9100ç«¯å£ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ§åˆ¶é‡‡é›†çš„æŒ‡æ ‡æˆ–è€…æ›´æ”¹å ç”¨ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨-hå‘½ä»¤æŸ¥çœ‹å¯åŠ¨å‚æ•°è¯´æ˜ï¼š\n1 2 3 4 5 6 7 8 9 10 root@admin:~/node_exporter-1.2.2.linux-amd64# ./node_exporter -h --web.listen-address=\u0026#34;:9100\u0026#34; # ç›‘å¬çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯9100 --web.telemetry-path=\u0026#34;/metrics\u0026#34; # metricsçš„è·¯å¾„ï¼Œé»˜è®¤ä¸º/metrics --web.disable-exporter-metrics # æ˜¯å¦ç¦ç”¨goã€promeé»˜è®¤çš„metrics --web.max-requests=40 # æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°ï¼Œé»˜è®¤40ï¼Œè®¾ç½®ä¸º0æ—¶ä¸é™åˆ¶ --log.level=\u0026#34;info\u0026#34; # æ—¥å¿—ç­‰çº§: [debug, info, warn, error, fatal] --log.format=logfmt # ç½®æ—¥å¿—æ‰“å°targetå’Œæ ¼å¼: [logfmt, json] --version # ç‰ˆæœ¬å· --collector.{metric-name} # å„ä¸ªmetricå¯¹åº”çš„å‚æ•° ...... å…·ä½“çš„é‡‡é›†å‚æ•°åç»­åœ¨ä½¿ç”¨çš„æ—¶å€™å†è¯¦ç»†ç ”ç©¶ï¼Œè¿™é‡Œå°±å…ˆå…¨éƒ¨è®©å®ƒé‡‡é›†ã€‚ä»¥ä¸Šè¾¹çš„æ–¹å¼å¯åŠ¨æ˜¯ä»¥å‰å°è¿è¡Œçš„ï¼Œæˆ‘ä»¬å…³é—­çª—å£ç¨‹åºå°±ä¼šè‡ªåŠ¨é€€å‡ºï¼Œä¸‹è¾¹æ¥é…ç½®systemdç®¡ç†node_exporter.\né…ç½®node_exporter.services é¦–å…ˆæŠŠæŠŠè§£å‹åçš„node_exporterç§»åŠ¨åˆ°/usr/local/binç›®å½•ä¸‹ï¼Œç„¶åæ–°å»ºä¸€ä¸ªnode_exporter.serviceï¼Œéœ€è¦å»ºåˆ°/etc/systemd/systemç›®å½•ä¸‹ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Unit] Description=node exporter service Documentation=https://prometheus.io After=network.target [Service] Type=simple User=root Group=root ExecStart=/usr/local/bin/node_exporter --web.listen-address=\u0026#34;:9100\u0026#34; Restart=on-failure [Install] WantedBy=multi-user.target å¦‚ä¸Šæ‰€ç¤ºï¼Œå¯åŠ¨å‘½ä»¤æŒ‡å®šäº†å¯åŠ¨çš„æ—¶å€™å ç”¨çš„ç«¯å£ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè¿›è¡Œæ›´æ”¹ï¼Œåˆ›å»ºå®Œæ¯•åéœ€è¦é‡å¯systemdæœåŠ¡ï¼Œå¹¶ä½¿ç”¨systemdå¯åŠ¨æœåŠ¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 root@admin:/usr/local/bin# systemctl daemon-reload root@admin:/usr/local/bin# systemctl start node_exporter root@admin:/usr/local/bin# systemctl status node_exporter â— node_exporter.service - node exporter service Loaded: loaded (/etc/systemd/system/node_exporter.service; disabled; vendor preset: enabled) Active: active (running) since Sun 2023-11-26 01:28:25 EST; 6s ago Docs: https://prometheus.io Main PID: 2794065 (node_exporter) Tasks: 4 (limit: 2358) Memory: 4.7M CPU: 15ms CGroup: /system.slice/node_exporter.service â””â”€2794065 /usr/local/bin/node_exporter --web.listen-address=:9100 Nov 26 01:28:25 WIKI-HK-A1 node_exporter[2794065]: level=info ts=2023-11-26T06:28:25.705Z caller=node_exporter.go:115 collector=xfs Nov 26 01:28:25 WIKI-HK-A1 node_exporter[2794065]: level=info ts=2023-11-26T06:28:25.705Z caller=node_exporter.go:115 collector=zfs Nov 26 01:28:25 WIKI-HK-A1 node_exporter[2794065]: level=info ts=2023-11-26T06:28:25.706Z caller=node_exporter.go:199 msg=\u0026#34;Listening on\u0026#34; address=:9100 Nov 26 01:28:25 WIKI-HK-A1 node_exporter[2794065]: level=info ts=2023-11-26T06:28:25.706Z caller=tls_config.go:191 msg=\u0026#34;TLS is disabled.\u0026#34; http2=false ç»è¿‡ä¸Šè¿°æ­¥éª¤å°±åœ¨éœ€è¦è¢«ç›‘æ§çš„linuxä¸»æœºä¸Šå®‰è£…å¥½äº†node exporterï¼Œæ¥ä¸‹æ¥éœ€è¦åœ¨prometheusä¸­é…ç½®å¯¹è¯¥ä¸»æœºçš„æŒ‡æ ‡è¿›è¡ŒæŠ“å–ã€‚\nprometheusæŒ‡æ ‡è·å– åœ¨æ–‡ç« ï¼šdebianç³»ç»Ÿä½¿ç”¨dockerå¿«é€Ÿå®‰è£…promutheusä¸­åªé…ç½®äº†å¯¹promutheusæœ¬èº«æŒ‡æ ‡çš„é‡‡é›†ï¼Œä¸‹è¾¹æˆ‘ä»¬ä¿®æ”¹prometheusçš„é…ç½®æ–‡ä»¶ï¼Œå¯¹åˆšæ‰é…ç½®çš„linuxä¸»æœºè¿›è¡ŒæŒ‡æ ‡é‡‡é›†ï¼Œä¿®æ”¹prometheusçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 global: scrape_interval: 1m scrape_configs: - job_name: \u0026#39;prometheus\u0026#39; scrape_interval: 1m static_configs: - targets: [\u0026#39;localhost:9090\u0026#39;] - job_name: \u0026#39;linux-node\u0026#39; static_configs: - targets: [\u0026#39;127.0.0.1:9100\u0026#39;] å¦‚ä¸Šï¼Œé…ç½®äº†ä¸€ä¸ªä»»åŠ¡åç§°ä¸ºlinux-nodeçš„ä»»åŠ¡ï¼Œå®ƒå»è·å–127.0.0.1æœºå™¨çš„æŒ‡æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨prometheusçš„åå°æŸ¥çœ‹åˆ°å¯¹åº”çš„targets:\nåˆ°è¿™é‡Œå°±é…ç½®å¥½äº†prometheusé‡‡é›†linuxä¸»æœºæŒ‡æ ‡çš„é…ç½®ï¼Œå¯ä»¥åœ¨prometheusçš„åå°å¯¹ä¿¡æ¯è¿›è¡ŒæŸ¥è¯¢ï¼Œåç»­ä¹Ÿå¯ä»¥é…ç½®grafanaçš„å›¾å½¢ç•Œé¢æ¥å¯¹node exporteré‡‡é›†çš„æ•°æ®è¿›è¡Œå¯è§†åŒ–å±•ç¤ºã€‚\n","date":"2023-11-26T06:42:47Z","image":"https://images.iminling.com/app/hide.php?key=M3JOYmRIT1UyZHJjcTZJRXloNjR6aTUyME1KbkhNak8yVDlTVm9saGloSXUwWkNsN0VZSStxRGU1Q1ZTQS9xVzRuY0szTHM9","permalink":"https://konghanghang.github.io/iminling-pages/2023/install-node-exporter/","title":"å®‰è£…node exporterç›‘æ§linuxä¸»æœºå„é¡¹æŒ‡æ ‡"},{"content":"Prometheusæ˜¯ä¸€å¥—å¼€æºçš„ç›‘æ§\u0026amp;æŠ¥è­¦\u0026amp;æ—¶é—´åºåˆ—æ•°æ®åº“çš„ç»„åˆ,èµ·å§‹æ˜¯ç”±SoundCloudå…¬å¸å¼€å‘çš„ã€‚å®ƒçš„åŠŸèƒ½å¼ºå¤§ï¼Œè¢«å¹¿æ³›ä½¿ç”¨ã€‚ä»Šå¤©è¿™è¾¹æ–‡ç« å°±ç®€å•ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨dockerå¿«é€Ÿçš„æ­å»ºä¸€ä¸ªprometheusçš„æœåŠ¡ï¼Œå…¶ä»–ç›¸å…³çš„çŸ¥è¯†åœ¨åç»­çš„æ–‡ç« é‡Œå†è¯¦ç»†åˆ†äº«ã€‚å…ˆæŠŠæœåŠ¡è·‘èµ·æ¥ã€‚\nå¦‚æœè¿˜æ²¡æœ‰å®‰è£…dockerçš„åŒå­¦å¯ä»¥å‚è€ƒçš„æˆ‘å¦ä¸€ç¯‡æ–‡ç« æ¥å¿«é€Ÿçš„å®‰è£…dockerç¯å¢ƒï¼šdockerå®‰è£…ã€‚\ndocker-composeæ–‡ä»¶å‡†å¤‡ æˆ‘ä¹ æƒ¯ç›´æ¥ä½¿ç”¨docker-composeæ¥å®‰è£…æ‰€æœ‰æœåŠ¡ï¼Œæˆ‘çš„æ‰€æœ‰æœåŠ¡éƒ½ä½¿ç”¨åŒä¸€ä¸ªç½‘ç»œï¼Œå®ç°æœåŠ¡çš„äº’é€šï¼Œä¸‹è¾¹è´´å‡ºæˆ‘çš„é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 networks: mynet: external: true services: prometheus: image: prom/prometheus:v2.46.0 restart: unless-stopped container_name: prometheus volumes: - ./config/prometheus.yml:/etc/prometheus/prometheus.yml - /data/prometheus/data:/prometheus command: - \u0026#39;--config.file=/etc/prometheus/prometheus.yml\u0026#39; - \u0026#39;--storage.tsdb.path=/prometheus\u0026#39; - \u0026#39;--web.console.libraries=/etc/prometheus/console_libraries\u0026#39; - \u0026#39;--web.console.templates=/etc/prometheus/consoles\u0026#39; - \u0026#39;--web.enable-lifecycle\u0026#39; networks: - mynet ports: - 9090:9090 environment: - TZ=Asia/Shanghai user: \u0026#34;0\u0026#34; ä»¥ä¸Šæ˜¯æˆ‘çš„docker-composeæ–‡ä»¶ï¼Œä¸‹è¾¹æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ä¸ªé¡¹çš„æ„ä¹‰\nnetworks ç½‘ç»œï¼Œæˆ‘æŒ‡å®šäº†ä¸€ä¸ªå·²ç»åˆ›å»ºå¥½çš„æ¡¥æ¥ç½‘ç»œï¼šmynetï¼Œè¿™ä¸ªå¤§å®¶å¯ä»¥æŒ‡å®šè‡ªå·±çš„ç½‘ç»œï¼Œæˆ–è€…åˆ é™¤è¿™ä¸ªnetworksï¼Œè®©dockerä¸ºè¯¥composeåˆ›å»ºä¸€ä¸ªç½‘ç»œã€‚\nservices æœåŠ¡ï¼Œå°±æ˜¯æˆ‘ä»¬è¦åˆ›å»ºçš„prometheusæœåŠ¡äº†ï¼ŒæŒ‡å®šäº†é•œåƒï¼Œé‡å¯ç­–ç•¥ï¼Œå¯åŠ¨å‘½ä»¤ï¼Œç½‘ç»œï¼Œç«¯å£ä»¥åŠæ—¶åŒºç­‰ä¿¡æ¯ã€‚\nç›®å½•ç»“æ„ ä¸Šè¾¹æ˜¯docker-composeçš„é…ç½®ä¿¡æ¯ï¼Œé‡Œè¾¹æŒ‡å®šäº†prometheuså¯åŠ¨çš„é…ç½®æ–‡ä»¶åœ°å€ï¼Œæˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªæœ€ç®€å•çš„é…ç½®æ–‡ä»¶ï¼Œprometheusè‡ªå·±æ‹‰å–è‡ªå·±çš„ç›‘æ§ä¿¡æ¯ï¼š\n1 2 3 4 5 6 7 8 global: scrape_interval: 1m scrape_configs: - job_name: \u0026#39;prometheus\u0026#39; scrape_interval: 1m static_configs: - targets: [\u0026#39;localhost:9090\u0026#39;] å…·ä½“çš„é…ç½®ä¿¡æ¯ä»¥åå†è®²ï¼Œè¿™é‡Œçš„globalè®¾ç½®äº†æ•´ä¸ªæ‹‰å–é—´éš”ä¸º1åˆ†é’Ÿï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ªæ‹‰å–é…ç½®ï¼Œä»»åŠ¡åå«ï¼šprometheusï¼Œç›®æ ‡æ˜¯localhost:9090ï¼Œå°±æ˜¯å®‰è£…çš„prometheusè‡ªå·±ã€‚\næ•´ä¸ªçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 prometheus â”œâ”€â”€ README.md â”œâ”€â”€ config â”‚ â””â”€â”€ prometheus.yml â””â”€â”€ docker-compose.yaml å¯åŠ¨æœåŠ¡ åœ¨æ ¹ç›®å½•ä½¿ç”¨å‘½ä»¤æ¥å¯åŠ¨prometheusï¼š\n1 docker compose up -d å¯åŠ¨åå¯ä»¥ä½¿ç”¨docker ps æ¥æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨æˆåŠŸï¼Œå¦‚ä¸‹å¯åŠ¨æˆåŠŸï¼š\n1 2 3 root@WIKI-HK-A1:~# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9b24b2c868ad prom/prometheus:v2.46.0 \u0026#34;/bin/prometheus --câ€¦\u0026#34; 3 hours ago Up 34 minutes 0.0.0.0:9090-\u0026gt;9090/tcp, :::9090-\u0026gt;9090/tcp prometheus è®¿é—®æœåŠ¡ prometheuså¯åŠ¨å ç”¨çš„æ˜¯9090ç«¯å£ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå·±æœåŠ¡å™¨çš„ip:9090æ¥è®¿é—®ï¼š\nè®¿é—®åå¦‚ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨staus-targetsä¸­æŸ¥çœ‹æˆ‘ä»¬æ·»åŠ çš„é‚£ä¸ªä»»åŠ¡ï¼š\nä»¥ä¸Šå°±æ˜¯ç®€å•çš„å®‰è£…prometheusçš„è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2023-11-26T00:00:00Z","image":"https://images.iminling.com/app/hide.php?key=M3JOYmRIT1UyZHJjcTZJRXloNjR6aTUyME1KbkhNak8yVDlTVm9saGloSXUwWkNsN0VZSStxRGU1Q1ZTQS9xVzRuY0szTHM9","permalink":"https://konghanghang.github.io/iminling-pages/2023/debian-use-docker-install-promutheus/","title":"debianç³»ç»Ÿä½¿ç”¨dockerå¿«é€Ÿå®‰è£…promutheus"},{"content":"ä½¿ç”¨Macçš„åŒå­¦åº”è¯¥å¯¹Macè‡ªå¸¦çš„ç»ˆç«¯é…ç½®éƒ½æ²¡ä»€ä¹ˆå¥½æ„Ÿï¼Œé»˜è®¤ç™½åº•é»‘å­—ï¼Œæ–‡ä»¶å¤¹ä¹Ÿæ²¡æœ‰ç‰¹æ®Šæ ‡è¯†ï¼Œè¿˜æ˜¯ä¸Šä¸€å¼ å›¾æ¥æ„Ÿå—ä¸€ä¸‹å§ï¼š\né»‘å‘¼å‘¼çš„ä¸€å›¢ï¼Œçœ‹ç€å®åœ¨æ˜¯éš¾å—ï¼Œä¸‹è¾¹å°±è®©æˆ‘ä»¬ä½¿ç”¨Oh My Zshæ¥è¿›è¡Œç¾åŒ–ä¸€ä¸‹ã€‚\nOh My Zshå®‰è£… oh my zshçš„å®‰è£…æ˜¯éå¸¸ç®€å•çš„ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒå®˜ç½‘æ¥è¿›è¡Œå®‰è£…ï¼šOh My Zsh Install,é€šè¿‡curlæˆ–wgetéƒ½å¯ä»¥å®‰è£…ï¼Œä¸‹è¾¹ä½¿ç”¨curlè¿›è¡Œå®‰è£…ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 k@MacBook-Pro ~ % sh -c \u0026#34;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\u0026#34; Cloning Oh My Zsh... remote: Enumerating objects: 1370, done. remote: Counting objects: 100% (1370/1370), done. remote: Compressing objects: 100% (1318/1318), done. remote: Total 1370 (delta 32), reused 1155 (delta 28), pack-reused 0 Receiving objects: 100% (1370/1370), 2.01 MiB | 2.66 MiB/s, done. Resolving deltas: 100% (32/32), done. From https://github.com/ohmyzsh/ohmyzsh * [new branch] master -\u0026gt; origin/master branch \u0026#39;master\u0026#39; set up to track \u0026#39;origin/master\u0026#39;. Switched to a new branch \u0026#39;master\u0026#39; /Users/k Looking for an existing zsh config... Using the Oh My Zsh template file and adding it to /Users/k/.zshrc. __ __ ____ / /_ ____ ___ __ __ ____ _____/ /_ / __ \\/ __ \\ / __ `__ \\/ / / / /_ / / ___/ __ \\ / /_/ / / / / / / / / / / /_/ / / /_(__ ) / / / \\____/_/ /_/ /_/ /_/ /_/\\__, / /___/____/_/ /_/ /____/ ....is now installed! Before you scream Oh My Zsh! look over the `.zshrc` file to select plugins, themes, and options. â€¢ Follow us on Twitter: https://twitter.com/ohmyzsh â€¢ Join our Discord community: https://discord.gg/ohmyzsh â€¢ Get stickers, t-shirts, coffee mugs and more: https://shop.planetargon.com/collections/oh-my-zsh ä¸Šè¾¹å°±å®‰è£…æˆåŠŸäº†oh my zshã€‚\nåˆ‡æ¢ä¸»é¢˜ å®‰è£…æˆåŠŸåï¼Œé»˜è®¤çš„ä¸»é¢˜(robbyrussell)å¦‚ä¸‹æ‰€ç¤ºï¼š\næ–‡ä»¶å¤¹ä¹Ÿå¯ä»¥é«˜äº®äº†ï¼Œçœ‹ç€è¿˜æ˜¯ä¸é”™çš„ã€‚å‰©ä¸‹çš„å°±æ˜¯ä¿®æ”¹è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜äº†ã€‚oh my zshè‡ªå¸¦äº†ä¸€äº›ä¸»é¢˜ï¼Œå­˜æ”¾åœ¨~/.oh-my-sh/themesä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 # k @ MacBook-Pro in ~/.oh-my-zsh/themes on git:master o [17:47:16] $ ls 3den.zsh-theme kennethreitz.zsh-theme Soliah.zsh-theme kiwi.zsh-theme adben.zsh-theme kolo.zsh-theme af-magic.zsh-theme kphoen.zsh-theme afowler.zsh-theme lambda.zsh-theme agnoster.zsh-theme linuxonly.zsh-theme alanpeabody.zsh-theme lukerandall.zsh-theme amuse.zsh-theme macovsky-ruby.zsh-theme apple.zsh-theme macovsky.zsh-theme arrow.zsh-theme maran.zsh-theme aussiegeek.zsh-theme mgutz.zsh-theme avit.zsh-theme mh.zsh-theme awesomepanda.zsh-theme michelebologna.zsh-theme bira.zsh-theme mikeh.zsh-theme blinks.zsh-theme miloshadzic.zsh-theme bureau.zsh-theme minimal.zsh-theme candy-kingdom.zsh-theme mira.zsh-theme candy.zsh-theme mlh.zsh-theme clean.zsh-theme mortalscumbag.zsh-theme cloud.zsh-theme mrtazz.zsh-theme crcandy.zsh-theme murilasso.zsh-theme crunch.zsh-theme muse.zsh-theme cypher.zsh-theme nanotech.zsh-theme dallas.zsh-theme nebirhos.zsh-theme darkblood.zsh-theme nicoulaj.zsh-theme daveverwer.zsh-theme norm.zsh-theme dieter.zsh-theme obraun.zsh-theme dogenpunk.zsh-theme oldgallois.zsh-theme dpoggi.zsh-theme peepcode.zsh-theme dst.zsh-theme philips.zsh-theme dstufft.zsh-theme pmcgee.zsh-theme duellj.zsh-theme pygmalion-virtualenv.zsh-theme eastwood.zsh-theme pygmalion.zsh-theme edvardm.zsh-theme random.zsh-theme emotty.zsh-theme re5et.zsh-theme essembeh.zsh-theme refined.zsh-theme evan.zsh-theme rgm.zsh-theme fino-time.zsh-theme risto.zsh-theme fino.zsh-theme rixius.zsh-theme fishy.zsh-theme rkj-repos.zsh-theme flazz.zsh-theme rkj.zsh-theme fletcherm.zsh-theme robbyrussell.zsh-theme fox.zsh-theme sammy.zsh-theme frisk.zsh-theme simonoff.zsh-theme frontcube.zsh-theme simple.zsh-theme funky.zsh-theme skaro.zsh-theme fwalch.zsh-theme smt.zsh-theme gallifrey.zsh-theme sonicradish.zsh-theme gallois.zsh-theme sorin.zsh-theme garyblessington.zsh-theme sporty_256.zsh-theme gentoo.zsh-theme steeef.zsh-theme geoffgarside.zsh-theme strug.zsh-theme gianu.zsh-theme sunaku.zsh-theme gnzh.zsh-theme sunrise.zsh-theme gozilla.zsh-theme superjarin.zsh-theme half-life.zsh-theme suvash.zsh-theme humza.zsh-theme takashiyoshida.zsh-theme imajes.zsh-theme terminalparty.zsh-theme intheloop.zsh-theme theunraveler.zsh-theme itchy.zsh-theme tjkirch.zsh-theme jaischeema.zsh-theme tjkirch_mod.zsh-theme jbergantine.zsh-theme tonotdo.zsh-theme jispwoso.zsh-theme trapd00r.zsh-theme jnrowe.zsh-theme wedisagree.zsh-theme jonathan.zsh-theme wezm+.zsh-theme josh.zsh-theme wezm.zsh-theme jreese.zsh-theme wuffers.zsh-theme jtriley.zsh-theme xiong-chiamiov-plus.zsh-theme juanghurtado.zsh-theme xiong-chiamiov.zsh-theme junkfood.zsh-theme ys.zsh-theme kafeitu.zsh-theme zhann.zsh-theme kardan.zsh-theme æ¯”å¦‚é»˜è®¤çš„ä¸»é¢˜ï¼šrobbyrussell.zsh-themeï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œåœ¨.zshrcæ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ï¼Œ\n1 2 3 4 5 6 # Set name of the theme to load --- if set to \u0026#34;random\u0026#34;, it will # load a random theme each time oh-my-zsh is loaded, in which case, # to know which specific one was loaded, run: echo $RANDOM_THEME # See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes #ZSH_THEME=\u0026#34;robbyrussell\u0026#34; ZSH_THEME=\u0026#34;ys\u0026#34; ç»ˆç«¯é…è‰² æˆ‘è¿™é‡Œå°†ä¸»é¢˜ä¿®æ”¹ä¸ºäº†ysã€‚ä¸‹è¾¹å±•ç¤ºä¸€ä¸‹æˆ‘ä¿®æ”¹åçš„ç»ˆç«¯é…è‰²ï¼š\nåŠ äº†ä¸€äº›é€æ˜åœ¨é‡Œè¾¹ï¼Œä¸‹è¾¹æŠŠæˆ‘è‡ªå·±ä½¿ç”¨çš„ç»ˆç«¯é…è‰²åˆ†äº«ç»™å¤§å®¶ï¼Œå¤§å®¶å¦‚æœå–œæ¬¢å¯ä»¥ç›´æ¥ä¸‹è½½åè¿›è¡Œå¯¼å…¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;BackgroundAlphaInactive\u0026lt;/key\u0026gt; \u0026lt;real\u0026gt;0.29155388779527558\u0026lt;/real\u0026gt; \u0026lt;key\u0026gt;BackgroundBlur\u0026lt;/key\u0026gt; \u0026lt;real\u0026gt;0.197831572862122\u0026lt;/real\u0026gt; \u0026lt;key\u0026gt;BackgroundBlurInactive\u0026lt;/key\u0026gt; \u0026lt;real\u0026gt;0.15034141538180704\u0026lt;/real\u0026gt; \u0026lt;key\u0026gt;BackgroundColor\u0026lt;/key\u0026gt; \u0026lt;data\u0026gt; YnBsaXN0MDDUAQIDBAUGKyxYJHZlcnNpb25YJG9iamVjdHNZJGFyY2hpdmVyVCR0b3AS AAGGoKcHCBMZHSQoVSRudWxs1QkKCwwNDg8QERJcTlNDb21wb25lbnRzVU5TUkdCXE5T Q29sb3JTcGFjZV8QEk5TQ3VzdG9tQ29sb3JTcGFjZVYkY2xhc3NPECowLjQwMjQ2MTQ0 OTcgMC40MDExMDYzNjA2IDAuNDAzODE2NTM4OCAwLjVPECowLjMyODQwNDM2NyAwLjMy Njc0MDM4NDEgMC4zMjk2NjQyMzAzIDAuNQAQAYACgAbTFA0VFhcYVU5TSUNDWU5TU3Bh Y2VJRIADgAUQDNIaDRscV05TLmRhdGFPEQIkAAACJGFwcGwEAAAAbW50clJHQiBYWVog B+EABwAHAA0AFgAgYWNzcEFQUEwAAAAAQVBQTAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEA AAAA0y1hcHBsyhqVgiV/EE04mRPV0eoVggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAKZGVzYwAAAPwAAABlY3BydAAAAWQAAAAjd3RwdAAAAYgAAAAUclhZWgAAAZwA AAAUZ1hZWgAAAbAAAAAUYlhZWgAAAcQAAAAUclRSQwAAAdgAAAAgY2hhZAAAAfgAAAAs YlRSQwAAAdgAAAAgZ1RSQwAAAdgAAAAgZGVzYwAAAAAAAAALRGlzcGxheSBQMwAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAENvcHlyaWdodCBBcHBsZSBJ bmMuLCAyMDE3AABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAACD3wAAPb////+7 WFlaIAAAAAAAAEq/AACxNwAACrlYWVogAAAAAAAAKDgAABELAADIuXBhcmEAAAAAAAMA AAACZmYAAPKnAAANWQAAE9AAAApbc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeTAAD9kP// +6L///2jAAAD3AAAwG6ABNIeHyAhWiRjbGFzc25hbWVYJGNsYXNzZXNdTlNNdXRhYmxl RGF0YaMgIiNWTlNEYXRhWE5TT2JqZWN00h4fJSZcTlNDb2xvclNwYWNloicjXE5TQ29s b3JTcGFjZdIeHykqV05TQ29sb3KiKSNfEA9OU0tleWVkQXJjaGl2ZXLRLS5Ucm9vdIAB AAgAEQAaACMALQAyADcAPwBFAFAAXQBjAHAAhQCMALkA5gDoAOoA7ADzAPkBAwEFAQcB CQEOARYDPgNAA0UDUANZA2cDawNyA3sDgAONA5ADnQOiA6oDrQO/A8IDxwAAAAAAAAIB AAAAAAAAAC8AAAAAAAAAAAAAAAAAAAPJ \u0026lt;/data\u0026gt; \u0026lt;key\u0026gt;BackgroundSettingsForInactiveWindows\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;CursorColor\u0026lt;/key\u0026gt; \u0026lt;data\u0026gt; YnBsaXN0MDDUAQIDBAUGKyxYJHZlcnNpb25YJG9iamVjdHNZJGFyY2hpdmVyVCR0b3AS AAGGoKcHCBMZHSQoVSRudWxs1QkKCwwNDg8QERJcTlNDb21wb25lbnRzVU5TUkdCXE5T Q29sb3JTcGFjZV8QEk5TQ3VzdG9tQ29sb3JTcGFjZVYkY2xhc3NPECswLjA5MDY1NzM4 MzIxIDAuMDkwMzY5NTgxOTkgMC4wOTA5NDUxODQ0MyAxTxAqMC4wNzEzODQ3ODc1NiAw LjA3MTE0Nzg2NjU1IDAuMDcxNTY2Mzg4MDEAEAGAAoAG0xQNFRYXGFVOU0lDQ1lOU1Nw YWNlSUSAA4AFEAzSGg0bHFdOUy5kYXRhTxECJAAAAiRhcHBsBAAAAG1udHJSR0IgWFla IAfhAAcABwANABYAIGFjc3BBUFBMAAAAAEFQUEwAAAAAAAAAAAAAAAAAAAAAAAD21gAB AAAAANMtYXBwbMoalYIlfxBNOJkT1dHqFYIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAACmRlc2MAAAD8AAAAZWNwcnQAAAFkAAAAI3d0cHQAAAGIAAAAFHJYWVoAAAGc AAAAFGdYWVoAAAGwAAAAFGJYWVoAAAHEAAAAFHJUUkMAAAHYAAAAIGNoYWQAAAH4AAAA LGJUUkMAAAHYAAAAIGdUUkMAAAHYAAAAIGRlc2MAAAAAAAAAC0Rpc3BsYXkgUDMAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAdGV4dAAAAABDb3B5cmlnaHQgQXBwbGUg SW5jLiwgMjAxNwAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAg98AAD2///// u1hZWiAAAAAAAABKvwAAsTcAAAq5WFlaIAAAAAAAACg4AAARCwAAyLlwYXJhAAAAAAAD AAAAAmZmAADypwAADVkAABPQAAAKW3NmMzIAAAAAAAEMQgAABd7///MmAAAHkwAA/ZD/ //ui///9owAAA9wAAMBugATSHh8gIVokY2xhc3NuYW1lWCRjbGFzc2VzXU5TTXV0YWJs ZURhdGGjICIjVk5TRGF0YVhOU09iamVjdNIeHyUmXE5TQ29sb3JTcGFjZaInI1xOU0Nv bG9yU3BhY2XSHh8pKldOU0NvbG9yoikjXxAPTlNLZXllZEFyY2hpdmVy0S0uVHJvb3SA AQAIABEAGgAjAC0AMgA3AD8ARQBQAF0AYwBwAIUAjAC6AOcA6QDrAO0A9AD6AQQBBgEI AQoBDwEXAz8DQQNGA1EDWgNoA2wDcwN8A4EDjgORA54DowOrA64DwAPDA8gAAAAAAAAC AQAAAAAAAAAvAAAAAAAAAAAAAAAAAAADyg== \u0026lt;/data\u0026gt; \u0026lt;key\u0026gt;Font\u0026lt;/key\u0026gt; \u0026lt;data\u0026gt; YnBsaXN0MDDUAQIDBAUGGBlYJHZlcnNpb25YJG9iamVjdHNZJGFyY2hpdmVyVCR0b3AS AAGGoKQHCBESVSRudWxs1AkKCwwNDg8QVk5TU2l6ZVhOU2ZGbGFnc1ZOU05hbWVWJGNs YXNzI0AqAAAAAAAAEBCAAoADXxAcTWVzbG9MR01Gb3JQb3dlcmxpbmUtUmVndWxhctIT FBUWWiRjbGFzc25hbWVYJGNsYXNzZXNWTlNGb250ohUXWE5TT2JqZWN0XxAPTlNLZXll ZEFyY2hpdmVy0RobVHJvb3SAAQgRGiMtMjc8QktSW2JpcnR2eJecp7C3usPV2N0AAAAA AAABAQAAAAAAAAAcAAAAAAAAAAAAAAAAAAAA3w== \u0026lt;/data\u0026gt; \u0026lt;key\u0026gt;FontAntialias\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;key\u0026gt;FontWidthSpacing\u0026lt;/key\u0026gt; \u0026lt;integer\u0026gt;1\u0026lt;/integer\u0026gt; \u0026lt;key\u0026gt;ProfileCurrentVersion\u0026lt;/key\u0026gt; \u0026lt;real\u0026gt;2.0499999999999998\u0026lt;/real\u0026gt; \u0026lt;key\u0026gt;SelectionColor\u0026lt;/key\u0026gt; \u0026lt;data\u0026gt; YnBsaXN0MDDUAQIDBAUGKyxYJHZlcnNpb25YJG9iamVjdHNZJGFyY2hpdmVyVCR0b3AS AAGGoKcHCBMZHSQoVSRudWxs1QkKCwwNDg8QERJcTlNDb21wb25lbnRzVU5TUkdCXE5T Q29sb3JTcGFjZV8QEk5TQ3VzdG9tQ29sb3JTcGFjZVYkY2xhc3NPECcwLjYyOTkyNTMz OSAwLjY2NTY2MzQyMjEgMC42MzA0MjI5NTI5IDFPECcwLjU1NDMwNjk4MzkgMC42MDU2 NzE1ODQ2IDAuNTU5NTI2NjIyMwAQAYACgAbTFA0VFhcYVU5TSUNDWU5TU3BhY2VJRIAD gAUQDNIaDRscV05TLmRhdGFPEQIkAAACJGFwcGwEAAAAbW50clJHQiBYWVogB+EABwAH AA0AFgAgYWNzcEFQUEwAAAAAQVBQTAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1h cHBsyhqVgiV/EE04mRPV0eoVggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK ZGVzYwAAAPwAAABlY3BydAAAAWQAAAAjd3RwdAAAAYgAAAAUclhZWgAAAZwAAAAUZ1hZ WgAAAbAAAAAUYlhZWgAAAcQAAAAUclRSQwAAAdgAAAAgY2hhZAAAAfgAAAAsYlRSQwAA AdgAAAAgZ1RSQwAAAdgAAAAgZGVzYwAAAAAAAAALRGlzcGxheSBQMwAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAENvcHlyaWdodCBBcHBsZSBJbmMuLCAy MDE3AABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAACD3wAAPb////+7WFlaIAAA AAAAAEq/AACxNwAACrlYWVogAAAAAAAAKDgAABELAADIuXBhcmEAAAAAAAMAAAACZmYA APKnAAANWQAAE9AAAApbc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeTAAD9kP//+6L///2j AAAD3AAAwG6ABNIeHyAhWiRjbGFzc25hbWVYJGNsYXNzZXNdTlNNdXRhYmxlRGF0YaMg IiNWTlNEYXRhWE5TT2JqZWN00h4fJSZcTlNDb2xvclNwYWNloicjXE5TQ29sb3JTcGFj ZdIeHykqV05TQ29sb3KiKSNfEA9OU0tleWVkQXJjaGl2ZXLRLS5Ucm9vdIABAAgAEQAa ACMALQAyADcAPwBFAFAAXQBjAHAAhQCMALYA4ADiAOQA5gDtAPMA/QD/AQEBAwEIARAD OAM6Az8DSgNTA2EDZQNsA3UDegOHA4oDlwOcA6QDpwO5A7wDwQAAAAAAAAIBAAAAAAAA AC8AAAAAAAAAAAAAAAAAAAPD \u0026lt;/data\u0026gt; \u0026lt;key\u0026gt;TextColor\u0026lt;/key\u0026gt; \u0026lt;data\u0026gt; YnBsaXN0MDDUAQIDBAUGKyxYJHZlcnNpb25YJG9iamVjdHNZJGFyY2hpdmVyVCR0b3AS AAGGoKcHCBMZHSQoVSRudWxs1QkKCwwNDg8QERJcTlNDb21wb25lbnRzVU5TUkdCXE5T Q29sb3JTcGFjZV8QEk5TQ3VzdG9tQ29sb3JTcGFjZVYkY2xhc3NHMSAxIDEgMU8QHDAu OTk5ODg2MDk1NSAxIDAuOTk5ODM5ODQyMwAQAYACgAbTFA0VFhcYVU5TSUNDWU5TU3Bh Y2VJRIADgAUQDNIaDRscV05TLmRhdGFPEQIkAAACJGFwcGwEAAAAbW50clJHQiBYWVog B+EABwAHAA0AFgAgYWNzcEFQUEwAAAAAQVBQTAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEA AAAA0y1hcHBsyhqVgiV/EE04mRPV0eoVggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAKZGVzYwAAAPwAAABlY3BydAAAAWQAAAAjd3RwdAAAAYgAAAAUclhZWgAAAZwA AAAUZ1hZWgAAAbAAAAAUYlhZWgAAAcQAAAAUclRSQwAAAdgAAAAgY2hhZAAAAfgAAAAs YlRSQwAAAdgAAAAgZ1RSQwAAAdgAAAAgZGVzYwAAAAAAAAALRGlzcGxheSBQMwAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0ZXh0AAAAAENvcHlyaWdodCBBcHBsZSBJ bmMuLCAyMDE3AABYWVogAAAAAAAA81EAAQAAAAEWzFhZWiAAAAAAAACD3wAAPb////+7 WFlaIAAAAAAAAEq/AACxNwAACrlYWVogAAAAAAAAKDgAABELAADIuXBhcmEAAAAAAAMA AAACZmYAAPKnAAANWQAAE9AAAApbc2YzMgAAAAAAAQxCAAAF3v//8yYAAAeTAAD9kP// +6L///2jAAAD3AAAwG6ABNIeHyAhWiRjbGFzc25hbWVYJGNsYXNzZXNdTlNNdXRhYmxl RGF0YaMgIiNWTlNEYXRhWE5TT2JqZWN00h4fJSZcTlNDb2xvclNwYWNloicjXE5TQ29s b3JTcGFjZdIeHykqV05TQ29sb3KiKSNfEA9OU0tleWVkQXJjaGl2ZXLRLS5Ucm9vdIAB AAgAEQAaACMALQAyADcAPwBFAFAAXQBjAHAAhQCMAJQAswC1ALcAuQDAAMYA0ADSANQA 1gDbAOMDCwMNAxIDHQMmAzQDOAM/A0gDTQNaA10DagNvA3cDegOMA48DlAAAAAAAAAIB AAAAAAAAAC8AAAAAAAAAAAAAAAAAAAOW \u0026lt;/data\u0026gt; \u0026lt;key\u0026gt;UseBoldFonts\u0026lt;/key\u0026gt; \u0026lt;false/\u0026gt; \u0026lt;key\u0026gt;columnCount\u0026lt;/key\u0026gt; \u0026lt;integer\u0026gt;90\u0026lt;/integer\u0026gt; \u0026lt;key\u0026gt;name\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;me\u0026lt;/string\u0026gt; \u0026lt;key\u0026gt;rowCount\u0026lt;/key\u0026gt; \u0026lt;integer\u0026gt;25\u0026lt;/integer\u0026gt; \u0026lt;key\u0026gt;type\u0026lt;/key\u0026gt; \u0026lt;string\u0026gt;Window Settings\u0026lt;/string\u0026gt; \u0026lt;/dict\u0026gt; \u0026lt;/plist\u0026gt; æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œåå­—éšæ„ï¼Œæ–‡ä»¶æ ¼å¼ä¸º.terminal,ä¾‹å¦‚ohmyzsh.terminalã€‚ç„¶ååœ¨ç»ˆç«¯ä¸­è¿›è¡Œå¯¼å…¥å¹¶è®¾ç½®ä¸ºé»˜è®¤ï¼š\né€‰æ‹©importåï¼Œåœ¨ä¸Šè¾¹çš„é€‰é¡¹ä¸­å°±ä¼šæœ‰ä½ åˆšæ‰æ–‡ä»¶åç§°å¯¹åº”çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå«me-old,ç„¶åè®¾ç½®ä¸ºdefaultå°±å¯ä»¥äº†ï¼Œå°±å’Œæˆ‘å›¾ç‰‡ä¸­çš„ç»ˆç«¯é…è‰²ä¸€æ ·äº†ã€‚\n","date":"2023-10-27T10:07:07Z","image":"https://images.iminling.com/app/hide.php?key=U1V5NUZ5WlYrTGt1dElzaVc2VkgrOENSZkRib09zbVk0RjVKTFhkeXNyQkJvdmdOeVhYZWM1aHR1NjdDTWNQU2h3Y1ZHVTQ9","permalink":"https://konghanghang.github.io/iminling-pages/2023/mac-install-oh-my-zsh/","title":"Macç»ˆç«¯ç¾åŒ–ä¹‹Oh My Zshå®‰è£…é…ç½®"},{"content":"é¦–å…ˆmacæœºå™¨éœ€è¦å…ˆå®‰è£…Homebrew,å…·ä½“çš„å®‰è£…æ•™ç¨‹å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šMacæ›´æ¢æºæ›´å¿«é€Ÿçš„å®‰è£…Homebrewï¼Œæœ‰äº†Homebrewåä¸€åˆ‡å®‰è£…éƒ½å˜çš„å¾ˆç®€å•äº†ã€‚\nå®‰è£… é¦–å…ˆæ˜¯æ¥æœç´¢ä¸€ä¸‹gradle:\n1 2 3 4 5 6 7 k@MacBook-Pro ~ % brew search gradle ==\u0026gt; Formulae gradle gradle-profiler gradle@7 grails gradle-completion gradle@6 grace glade ==\u0026gt; Casks grads qlgradle å¦‚ä¸Šæœ‰å‡ ä¸ªç‰ˆæœ¬çš„gradle:6,7ä»¥åŠæ²¡æœ‰åŠ ç‰ˆæœ¬å·çš„ä»£è¡¨æœ€æ–°çš„ã€‚æˆ‘è¿™é‡Œå®‰è£…gradle@7çš„ç‰ˆæœ¬ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 k@MacBook-Pro ~ % brew install gradle@7 ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/gradle/7/manifests/7.6.3 ######################################################################### 100.0% ==\u0026gt; Fetching gradle@7 ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/gradle/7/blobs/sha256:cc0def9cb ######################################################################### 100.0% ==\u0026gt; Pouring gradle@7--7.6.3.all.bottle.tar.gz ==\u0026gt; Caveats gradle@7 is keg-only, which means it was not symlinked into /usr/local, because this is an alternate version of another formula. If you need to have gradle@7 first in your PATH, run: echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/gradle@7/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc ==\u0026gt; Summary ğŸº /usr/local/Cellar/gradle@7/7.6.3: 11,535 files, 272.3MB ==\u0026gt; Running `brew cleanup gradle@7`... Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP. Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`). ç»è¿‡ä¸Šè¾¹å°±å·²ç»å®‰è£…å¥½äº†gradle,å¯ä»¥çœ‹åˆ°é»˜è®¤å®‰è£…çš„æ˜¯7.6.3ç‰ˆæœ¬çš„gradle,å®‰è£…ç›®å½•æ˜¯/usr/local/Cellar/gradle@7/7.6.3,æ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦é…ç½®ä¸€ä¸‹mavençš„ç¯å¢ƒå˜é‡ã€‚\næ·»åŠ ç¯å¢ƒå˜é‡ ä¸Šè¾¹å®‰è£…å®Œè¾“å‡ºçš„ä¿¡æ¯ä¸­æœ‰æç¤ºå¯ä»¥ç›´æ¥æŠŠä¸Šè¾¹æç¤ºçš„å‘½ä»¤åœ¨ç»ˆç«¯æ‰§è¡Œå°±å¯ä»¥æ·»åŠ ç¯å¢ƒå˜é‡åˆ°.zshrcæ–‡ä»¶ä¸­ï¼š\n1 echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/gradle@7/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc æˆ–è€…ç›´æ¥ç¼–è¾‘.zshrcæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š\n1 export PATH=\u0026#34;/usr/local/opt/gradle@7/bin:$PATH\u0026#34; ç„¶åå°±æ˜¯åˆ·æ–°å˜é‡ä¿¡æ¯ï¼š\n1 source .zshrc ç„¶åå°±å¯ä»¥é€šè¿‡å‘½ä»¤æ¥æŸ¥çœ‹gradleçš„ç‰ˆæœ¬ä¿¡æ¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 k@MacBook-Pro ~ % gradle -v Welcome to Gradle 7.6.3! Here are the highlights of this release: - Added support for Java 19. - Introduced `--rerun` flag for individual task rerun. - Improved dependency block for test suites to be strongly typed. - Added a pluggable system for Java toolchains provisioning. For more details see https://docs.gradle.org/7.6.3/release-notes.html ------------------------------------------------------------ Gradle 7.6.3 ------------------------------------------------------------ Build time: 2023-10-04 15:59:47 UTC Revision: 1694251d59e0d4752d547e1fd5b5020b798a7e71 Kotlin: 1.7.10 Groovy: 3.0.13 Ant: Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM: 17.0.9 (Homebrew 17.0.9+0) OS: Mac OS X 14.1 x86_64 ä»¥ä¸Šï¼ŒGradleå°±å®‰è£…æˆåŠŸã€‚ä¹Ÿå¯ä»¥å‚è€ƒå®˜ç½‘çš„å®‰è£…æ­¥éª¤è¿›è¡Œæ‰‹å·¥ä¸‹è½½å®‰è£…ï¼šInstalling manuallyã€‚\n","date":"2023-10-27T05:24:40Z","image":"https://images.iminling.com/app/hide.php?key=b1RZQ08wVXRyaHZ6RWNrVmZJTU53b3VobUVYZG5PM1lPRjVqTTV3QSt5N0IxTzJidFh6VFlCRVhMSGY2cUZGcnR2VG1ob1k9","permalink":"https://konghanghang.github.io/iminling-pages/2023/mac-use-homebrew-install-gradle/","title":"Macä½¿ç”¨Homebrewå®‰è£…Gradleç¯å¢ƒ"},{"content":"é¦–å…ˆmacæœºå™¨éœ€è¦å…ˆå®‰è£…Homebrew,å…·ä½“çš„å®‰è£…æ•™ç¨‹å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šMacæ›´æ¢æºæ›´å¿«é€Ÿçš„å®‰è£…Homebrewï¼Œæœ‰äº†Homebrewåä¸€åˆ‡å®‰è£…éƒ½å˜çš„å¾ˆç®€å•äº†ã€‚\nå®‰è£… é¦–å…ˆæ˜¯æ¥æœç´¢ä¸€ä¸‹maven:\n1 2 3 4 5 6 k@MacBook-Pro ~ % brew search maven ==\u0026gt; Formulae maven maven-completion maven-shell ==\u0026gt; Casks marvel marvin mauve mavensmate å¦‚ä¸Šï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬éœ€è¦å®‰è£…çš„maven,é€šè¿‡å®‰è£…å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 k@MacBook-Pro ~ % brew install maven ==\u0026gt; Downloading https://formulae.brew.sh/api/formula.jws.json ##O#- # ==\u0026gt; Downloading https://formulae.brew.sh/api/cask.jws.json ##O#- # ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/maven/manifests/3.9.5 ######################################################################### 100.0% ==\u0026gt; Fetching dependencies for maven: openjdk ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/manifests/21.0.1 ######################################################################### 100.0% ==\u0026gt; Fetching openjdk ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/blobs/sha256:ab5d32ae29 ######################################################################### 100.0% ==\u0026gt; Fetching maven ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/maven/blobs/sha256:3c0cb2c2df11 ######################################################################### 100.0% ==\u0026gt; Installing dependencies for maven: openjdk ==\u0026gt; Installing maven dependency: openjdk ==\u0026gt; Downloading https://ghcr.io/v2/homebrew/core/openjdk/manifests/21.0.1 Already downloaded: /Users/k/Library/Caches/Homebrew/downloads/bb8a78296beb0d39c64166622e2df1a553bdf78572bac0ce95765a7007a46b8a--openjdk-21.0.1.bottle_manifest.json ==\u0026gt; Pouring openjdk--21.0.1.sonoma.bottle.tar.gz ğŸº /usr/local/Cellar/openjdk/21.0.1: 600 files, 331.4MB ==\u0026gt; Installing maven ==\u0026gt; Pouring maven--3.9.5.sonoma.bottle.tar.gz ğŸº /usr/local/Cellar/maven/3.9.5: 92 files, 10.4MB ==\u0026gt; Running `brew cleanup maven`... Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP. Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`). ç»è¿‡ä¸Šè¾¹å°±å·²ç»å®‰è£…å¥½äº†maven,å¯ä»¥çœ‹åˆ°é»˜è®¤å®‰è£…çš„æ˜¯3.9.5ç‰ˆæœ¬çš„maven,å®‰è£…ç›®å½•æ˜¯/usr/local/Cellar/maven/3.9.5,æ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦é…ç½®ä¸€ä¸‹mavençš„ç¯å¢ƒå˜é‡ã€‚\næ·»åŠ ç¯å¢ƒå˜é‡ ç¼–è¾‘~/.zshrcæ–‡ä»¶,åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼š\n1 2 # maven export PATH=/usr/local/Cellar/maven/3.9.5/bin:$PATH æ·»åŠ å®Œç¯å¢ƒå˜é‡ä¿¡æ¯åï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨sourceï¼š\n1 source .zshrc ç„¶åå°±å¯ä»¥é€šè¿‡å‘½ä»¤æ¥æŸ¥çœ‹mavençš„ç‰ˆæœ¬ä¿¡æ¯ï¼š\n1 2 3 4 5 6 k@MacBook-Pro ~ % mvn -v Apache Maven 3.9.5 (57804ffe001d7215b5e7bcb531cf83df38f93546) Maven home: /usr/local/Cellar/maven/3.9.5/libexec Java version: 17.0.9, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk@17/17.0.9/libexec/openjdk.jdk/Contents/Home Default locale: en_CN, platform encoding: UTF-8 OS name: \u0026#34;mac os x\u0026#34;, version: \u0026#34;14.1\u0026#34;, arch: \u0026#34;x86_64\u0026#34;, family: \u0026#34;mac\u0026#34; è‡³æ­¤mavenå°±å®‰è£…å®Œæˆäº†ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯brewæ¥è¿›è¡Œå®‰è£…ï¼Œé™¤äº†è¿™ä¸ªæ–¹æ³•ï¼Œè¿˜å¯ä»¥ç›´æ¥å»mavenå®˜ç½‘è¿›è¡Œä¸‹è½½mavençš„å‹ç¼©åŒ…ï¼Œç„¶åè¿›è¡Œè§£å‹ï¼Œå†è¿›è¡Œç¯å¢ƒå˜é‡çš„é…ç½®å°±å¯ä»¥äº†ã€‚mavenå®˜ç½‘çš„ä¸‹è½½åœ°å€ï¼šMaven - Downloadï¼Œè¿™é‡Œé»˜è®¤ä¸‹è½½çš„æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæƒ³ä¸‹è½½å†å²çš„ç‰ˆæœ¬å¯ä»¥å»åˆ°å†å²åº“ä¸‹è½½ï¼Œå…·ä½“åœ°å€ï¼šMaven Releases Historyã€‚\n","date":"2023-10-27T04:01:20Z","image":"https://images.iminling.com/app/hide.php?key=VllGYlZxRmg1enZJWWNjVDJWQzRteEN4Mi9JdlJ3d0tGbjlldkZRem9CdkxqSU5FdGxVdUsyVVMxWlh2VG5DdlA5YUY4emc9","permalink":"https://konghanghang.github.io/iminling-pages/2023/mac-use-homebrew-install-maven/","title":"Macä½¿ç”¨Homebrewå®‰è£…mavenç¯å¢ƒ"},{"content":"æ—¥å¿—åœ¨æ—¥å¸¸å¼€å‘ä¸­æ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œåœ¨å‡ºç°é”™è¯¯åå¯ä»¥å¿«é€Ÿçš„è¿›è¡Œæ’æŸ¥ï¼Œå¯¹Nginxè€Œè¨€åŒæ ·ä¹Ÿå¾ˆé‡è¦ï¼ŒåŒNginxçš„æ—¥å¿—æˆ‘ä»¬å¯ä»¥æ¸…æ™°çš„äº†è§£ä»€ä¹ˆurlè¢«è®¿é—®ï¼Œæ˜¯ä»€ä¹ˆIpè®¿é—®è¿‡æ¥ç­‰ä¸€äº›é‡è¦ä¿¡æ¯ï¼Œæ‰€ä»¥æ— è®ºæ˜¯åœ¨å¼€å‘ä¸­è¿˜æ˜¯çº¿ä¸Šç¯å¢ƒï¼Œéƒ½ä¼šå¼€å¯æ—¥å¿—ã€‚ä¸‹è¾¹å°±æ¥äº†è§£ä¸€ä¸‹Nginxçš„æ—¥å¿—ã€‚\næ—¥å¿—ç±»å‹ åœ¨Nginxçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ—¥å¿—ç›¸å…³çš„é…ç½®å¯ä»¥å‡ºç°åœ¨_http,server,location_ä¸­ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šè®¾ç½®ä»¥ä¸‹æ ¼å¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 server { listen 443 ssl http2; server_name _; index index.php index.html index.htm; root /var/www/html; server_tokens off; client_max_body_size 75M; access_log /var/log/access.log; error_log /var/log/error.log; } è®¾ç½®äº†accesså’Œerrorä¸¤ç§ç±»å‹çš„æ—¥å¿—ï¼Œæ—¥å¿—çš„è®¾ç½®è¯­æ³•æ˜¯ï¼š\n1 2 access_log path [format [buffer=size] [gzip[=level]] [flush=time] [if=condition]]; access_log off; å¯ä»¥è®¾ç½®å¼€å¯æ—¥å¿—ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…³é—­æ—¥å¿—ã€‚access_logä¸­è®°å½•äº†æ‰€æœ‰çš„è®¿é—®æ—¥å¿—ï¼Œerror_logä¸­åˆ™è®°å½•è®¿é—®ä¸­çš„ä¸€äº›å¼‚å¸¸è¯·æ±‚ï¼Œæ–¹ä¾¿åœ¨å‡ºç°é—®é¢˜çš„æ—¶å€™è¿›è¡Œé”™è¯¯æ’æŸ¥ã€‚\nå¦å¤–ä¹Ÿå¯ä»¥å®šä¹‰ç¼“å­˜åŒºä»¥åŠåˆ·æ–°æ—¶é—´ç­‰å±æ€§ã€‚\nå¦‚æœä½¿ç”¨ gzip å‚æ•°ï¼Œåˆ™ç¼“å†²æ•°æ®å°†åœ¨å†™å…¥æ–‡ä»¶ä¹‹å‰è¢«å‹ç¼©ã€‚å‹ç¼©çº§åˆ«å¯ä»¥è®¾ç½®åœ¨ 1ï¼ˆæœ€å¿«ï¼Œå‹ç¼©ç¨‹åº¦è¾ƒä½ï¼‰å’Œ 9ï¼ˆæœ€æ…¢ï¼Œå‹ç¼©æ•ˆæœæœ€ä½³ï¼‰ä¹‹é—´ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼“å†²åŒºå¤§å°ç­‰äº64Kå­—èŠ‚ï¼Œå‹ç¼©çº§åˆ«è®¾ç½®ä¸º1ã€‚ç”±äºæ•°æ®è¢«å‹ç¼©åœ¨åŸå­å—ä¸­ï¼Œå› æ­¤æ—¥å¿—æ–‡ä»¶å¯ä»¥éšæ—¶ç”±â€œzcatâ€è§£å‹æˆ–è¯»å–ã€‚ä½¿ç”¨gzipæœ‰ä¸€ä¸ªè¦æ±‚ï¼Œé‚£å°±æ˜¯åœ¨æ„å»ºNginxå¿…é¡»ä½¿ç”¨ zlib åº“æ„å»ºã€‚\nä»¥ä¸Šåªæ˜¯è®¾ç½®äº†è®¿é—®æ—¥å¿—å’Œé”™è¯¯æ—¥å¿—çš„è®°å½•ä½ç½®æˆ–è€…ä¸è®°å½•æ—¥å¿—ï¼Œé‚£ä¹ˆæ—¥å¿—è®°å½•çš„æ ¼å¼æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ\næ—¥å¿—æ ¼å¼ ä¸Šè¾¹çš„é…ç½®æ²¡æœ‰æŒ‡å®šå…·ä½“çš„æ—¥å¿—æ ¼å¼ï¼Œé‚£ä¹ˆNginxæœ‰ä¸€ä¸ªé»˜è®¤çš„æ—¥å¿—è®°å½•æ ¼å¼ï¼š\n1 2 3 log_format combined \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#39; \u0026#39;\u0026#34;$request\u0026#34; $status $body_bytes_sent \u0026#39; \u0026#39;\u0026#34;$http_referer\u0026#34; \u0026#34;$http_user_agent\u0026#34;\u0026#39;; å®ƒçš„åç§°å«combined,å…·ä½“log_formatçš„è¯­æ³•å¦‚ä¸‹ï¼š\n1 log_format name [escape=default|json|none] string ...; æ¯ä¸€ä¸ªæ—¥å¿—æ ¼å¼éƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œç„¶ååœ¨é…ç½®access_logçš„æ—¶å€™å¯ä»¥æŒ‡å®šç”¨å“ªç§æ ¼å¼æ¥è¿›è¡Œè®°å½•æ—¥å¿—ã€‚log_formatåªèƒ½å®šä¹‰åœ¨_http_å—ä¸­ã€‚æŸ¥çœ‹åœ¨Nginxé…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 http { log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; } server { access_log /var/log/nginx/access.log main; error_log /var/log/nginx/error.log; } å¦‚ä¸Šåœ¨httpå—ä¸­å®šä¹‰äº†ä¸€ä¸ªåç§°ä¸ºmainçš„æ—¥å¿—æ ¼å¼ï¼Œåœ¨serverå—ä¸­é€šè¿‡åç§°å¯¹è¯¥æ—¥å¿—æ ¼å¼è¿›è¡Œäº†å¼•ç”¨ï¼Œè¿™æ ·å­æ—¥å¿—çš„æ ¼å¼éƒ½ä¼šæŒ‰æ‰¾mainä¸­å®šä¹‰çš„ä¸€äº›å±æ€§æ¥è¿›è¡Œè®°å½•è®¿é—®ä¿¡æ¯ã€‚\nescape å‚æ•°ï¼ˆ1.11.8ï¼‰å…è®¸åœ¨å˜é‡ä¸­è®¾ç½® json æˆ–é»˜è®¤å­—ç¬¦è½¬ä¹‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨é»˜è®¤è½¬ä¹‰ã€‚ none å€¼ (1.13.10) ç¦ç”¨è½¬ä¹‰ã€‚\nå¯¹äºé»˜è®¤è½¬ä¹‰ï¼Œå­—ç¬¦â€œ\u0026quot;â€ã€â€œ\\â€ä»¥åŠå…¶ä»–å€¼å°äº32ï¼ˆ0.7.0ï¼‰æˆ–å¤§äº126ï¼ˆ1.1.6ï¼‰çš„å­—ç¬¦å°†è¢«è½¬ä¹‰ä¸ºâ€œ\\xXXâ€ã€‚å¦‚æœæ‰¾ä¸åˆ°å˜é‡å€¼ï¼Œå°†è®°å½•è¿å­—ç¬¦ï¼ˆâ€œ-â€ï¼‰ã€‚\nå¯¹äºjsonè½¬ä¹‰ï¼ŒJSONå­—ç¬¦ä¸²ä¸­ä¸å…è®¸çš„æ‰€æœ‰å­—ç¬¦éƒ½å°†è¢«è½¬ä¹‰ï¼šå­—ç¬¦â€œ\u0026quot;â€å’Œâ€œ\\â€è¢«è½¬ä¹‰ä¸ºâ€œ\\â€å’Œâ€œ\\â€ï¼Œå€¼å°äº32çš„å­—ç¬¦è¢«è½¬ä¹‰ä¸ºâ€œ\\nâ€ï¼Œ â€œ\\râ€ã€â€œ\\tâ€ã€â€œ\\bâ€ã€â€œ\\fâ€æˆ–â€œ\\u00XXâ€ã€‚\nä½†æ˜¯è¿™äº›å±æ€§ç©¶ç«Ÿä»€ä¹ˆæ„æ€ï¼ŸNginxæœ‰å“ªäº›å±æ€§å¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿ\næ—¥å¿—å±æ€§ æ—¥å¿—å±æ€§å¯ä»¥åŒ…å«å…¬å…±å˜é‡ä»¥åŠä»…åœ¨æ—¥å¿—å†™å…¥æ—¶å­˜åœ¨çš„å˜é‡ï¼š\n$bytes_sentï¼šå‘é€åˆ°å®¢æˆ·ç«¯çš„å­—èŠ‚æ•° $connectionï¼šè¿æ¥åºåˆ—å· $connection_requestsï¼šå½“å‰é€šè¿‡è¿æ¥å‘å‡ºçš„è¯·æ±‚æ•° (1.1.18) $msecï¼šæ—¥å¿—å†™å…¥æ—¶çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼Œç²¾åº¦ä¸ºæ¯«ç§’ï¼‰ $pipeï¼šå¦‚æœè¯·æ±‚æ˜¯é€šè¿‡ç®¡é“ä¼ è¾“çš„ï¼Œåˆ™ä¸ºâ€œpâ€ï¼Œâ€œ.â€å¦åˆ™ $request_lengthï¼šè¯·æ±‚é•¿åº¦ï¼ˆåŒ…æ‹¬è¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚æ­£æ–‡ï¼‰ $request_timeï¼šè¯·æ±‚å¤„ç†æ—¶é—´ä»¥ç§’ä¸ºå•ä½ï¼Œç²¾åº¦ä¸ºæ¯«ç§’ï¼›ä»å®¢æˆ·ç«¯è¯»å–ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸å°†æœ€åä¸€ä¸ªå­—èŠ‚å‘é€åˆ°å®¢æˆ·ç«¯åå†™å…¥æ—¥å¿—ä¹‹é—´ç»è¿‡çš„æ—¶é—´ $statusï¼šå“åº”çŠ¶æ€ $time_iso8601ï¼šISO 8601 æ ‡å‡†æ ¼å¼çš„å½“åœ°æ—¶é—´ $time_localï¼šé€šç”¨æ—¥å¿—æ ¼å¼ä¸­çš„æœ¬åœ°æ—¶é—´ å…·ä½“çš„å‚è€ƒï¼šModule ngx_http_log_module\nè®¾ç½®JSONæ ¼å¼ é€šè¿‡ä¸Šè¾¹å¯¹æ—¥å¿—æ ¼å¼å’Œæ—¥å¿—æ–‡ä»¶çš„ä¸€äº›äº†è§£ï¼Œæˆ‘ä»¬å°±å¯ä»¥éå¸¸å®¹æ˜“çš„æŠŠæ—¥å¿—çš„æ ¼å¼è®¾ç½®æˆJSONäº†ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ªlog_formatï¼ŒæŠŠå®ƒçš„æ ¼å¼å®šä¹‰æˆä¸€ä¸ªjsonå­—ç¬¦ä¸²ï¼Œç„¶ååœ¨æ‰“å°æ—¥å¿—çš„æ—¶å€™å¼•ç”¨è¿™ä¸ªæ ¼å¼å°±å¯ä»¥å®ç°äº†ï¼Œä¸‹è¾¹æ˜¯ä¸€ä¸ªå®Œæˆçš„å®šä¹‰æ–‡ä»¶:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 http { log_format json escape=json \u0026#39;{\u0026#39; \u0026#39;\u0026#34;msec\u0026#34;: \u0026#34;$msec\u0026#34;, \u0026#39; # request unixtime in seconds with a milliseconds resolution \u0026#39;\u0026#34;connection\u0026#34;: \u0026#34;$connection\u0026#34;, \u0026#39; # connection serial number \u0026#39;\u0026#34;connection_requests\u0026#34;: \u0026#34;$connection_requests\u0026#34;, \u0026#39; # number of requests made in connection \u0026#39;\u0026#34;pid\u0026#34;: \u0026#34;$pid\u0026#34;, \u0026#39; # process pid \u0026#39;\u0026#34;request_id\u0026#34;: \u0026#34;$request_id\u0026#34;, \u0026#39; # the unique request id \u0026#39;\u0026#34;request_length\u0026#34;: \u0026#34;$request_length\u0026#34;, \u0026#39; # request length (including headers and body) \u0026#39;\u0026#34;remote_addr\u0026#34;: \u0026#34;$remote_addr\u0026#34;, \u0026#39; # client IP \u0026#39;\u0026#34;remote_user\u0026#34;: \u0026#34;$remote_user\u0026#34;, \u0026#39; # client HTTP username \u0026#39;\u0026#34;remote_port\u0026#34;: \u0026#34;$remote_port\u0026#34;, \u0026#39; # client port \u0026#39;\u0026#34;time_local\u0026#34;: \u0026#34;$time_local\u0026#34;, \u0026#39; \u0026#39;\u0026#34;time_iso8601\u0026#34;: \u0026#34;$time_iso8601\u0026#34;, \u0026#39; # local time in the ISO 8601 standard format \u0026#39;\u0026#34;request\u0026#34;: \u0026#34;$request\u0026#34;, \u0026#39; # full path no arguments if the request \u0026#39;\u0026#34;request_uri\u0026#34;: \u0026#34;$request_uri\u0026#34;, \u0026#39; # full path and arguments if the request \u0026#39;\u0026#34;args\u0026#34;: \u0026#34;$args\u0026#34;, \u0026#39; # args \u0026#39;\u0026#34;status\u0026#34;: \u0026#34;$status\u0026#34;, \u0026#39; # response status code \u0026#39;\u0026#34;body_bytes_sent\u0026#34;: \u0026#34;$body_bytes_sent\u0026#34;, \u0026#39; # the number of body bytes exclude headers sent to a client \u0026#39;\u0026#34;bytes_sent\u0026#34;: \u0026#34;$bytes_sent\u0026#34;, \u0026#39; # the number of bytes sent to a client \u0026#39;\u0026#34;http_referer\u0026#34;: \u0026#34;$http_referer\u0026#34;, \u0026#39; # HTTP referer \u0026#39;\u0026#34;http_user_agent\u0026#34;: \u0026#34;$http_user_agent\u0026#34;, \u0026#39; # user agent \u0026#39;\u0026#34;http_x_forwarded_for\u0026#34;: \u0026#34;$http_x_forwarded_for\u0026#34;, \u0026#39; # http_x_forwarded_for \u0026#39;\u0026#34;http_host\u0026#34;: \u0026#34;$http_host\u0026#34;, \u0026#39; # the request Host: header \u0026#39;\u0026#34;server_name\u0026#34;: \u0026#34;$server_name\u0026#34;, \u0026#39; # the name of the vhost serving the request \u0026#39;\u0026#34;request_time\u0026#34;: \u0026#34;$request_time\u0026#34;, \u0026#39; # request processing time in seconds with msec resolution \u0026#39;\u0026#34;upstream\u0026#34;: \u0026#34;$upstream_addr\u0026#34;, \u0026#39; # upstream backend server for proxied requests \u0026#39;\u0026#34;upstream_connect_time\u0026#34;: \u0026#34;$upstream_connect_time\u0026#34;, \u0026#39; # upstream handshake time incl. TLS \u0026#39;\u0026#34;upstream_header_time\u0026#34;: \u0026#34;$upstream_header_time\u0026#34;, \u0026#39; # time spent receiving upstream headers \u0026#39;\u0026#34;upstream_response_time\u0026#34;: \u0026#34;$upstream_response_time\u0026#34;, \u0026#39; # time spend receiving upstream body \u0026#39;\u0026#34;upstream_response_length\u0026#34;: \u0026#34;$upstream_response_length\u0026#34;, \u0026#39; # upstream response length \u0026#39;\u0026#34;upstream_cache_status\u0026#34;: \u0026#34;$upstream_cache_status\u0026#34;, \u0026#39; # cache HIT/MISS where applicable \u0026#39;\u0026#34;ssl_protocol\u0026#34;: \u0026#34;$ssl_protocol\u0026#34;, \u0026#39; # TLS protocol \u0026#39;\u0026#34;ssl_cipher\u0026#34;: \u0026#34;$ssl_cipher\u0026#34;, \u0026#39; # TLS cipher \u0026#39;\u0026#34;scheme\u0026#34;: \u0026#34;$scheme\u0026#34;, \u0026#39; # http or https \u0026#39;\u0026#34;request_method\u0026#34;: \u0026#34;$request_method\u0026#34;, \u0026#39; # request method \u0026#39;\u0026#34;server_protocol\u0026#34;: \u0026#34;$server_protocol\u0026#34;, \u0026#39; # request protocol, like HTTP/1.1 or HTTP/2.0 \u0026#39;\u0026#34;pipe\u0026#34;: \u0026#34;$pipe\u0026#34;, \u0026#39; # \u0026#34;p\u0026#34; if request was pipelined, \u0026#34;.\u0026#34; otherwise \u0026#39;\u0026#34;gzip_ratio\u0026#34;: \u0026#34;$gzip_ratio\u0026#34;, \u0026#39; \u0026#39;\u0026#34;http_cf_ray\u0026#34;: \u0026#34;$http_cf_ray\u0026#34;\u0026#39; \u0026#39;}\u0026#39;; } server { listen 443 ssl http2; server_name _; access_log /var/log/nginx/access.log json; } å¦‚ä¸Šå®šä¹‰äº†ä¸€ä¸ªå®Œæˆçš„jsonæ ¼å¼çš„è¾“å‡ºå½¢å¼ï¼Œå®é™…çš„è¯·æ±‚è¾“å‡ºæ˜¯è¿™æ ·å­çš„ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 { \u0026#34;msec\u0026#34;: \u0026#34;1696428300.136\u0026#34;, \u0026#34;connection\u0026#34;: \u0026#34;849615\u0026#34;, \u0026#34;connection_requests\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;pid\u0026#34;: \u0026#34;89\u0026#34;, \u0026#34;request_id\u0026#34;: \u0026#34;f17e4e5dcda30462ac83b120f05fedab\u0026#34;, \u0026#34;request_length\u0026#34;: \u0026#34;619\u0026#34;, \u0026#34;remote_addr\u0026#34;: \u0026#34;65.108.78.33\u0026#34;, \u0026#34;remote_user\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;remote_port\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;time_local\u0026#34;: \u0026#34;04/Oct/2023:22:05:00 +0800\u0026#34;, \u0026#34;time_iso8601\u0026#34;: \u0026#34;2023-10-04T22:05:00+08:00\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;GET /category/%E4%BF%A1%E7%94%A8%E5%8D%A1 HTTP/1.1\u0026#34;, \u0026#34;request_uri\u0026#34;: \u0026#34;/category/%E4%BF%A1%E7%94%A8%E5%8D%A1\u0026#34;, \u0026#34;args\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;status\u0026#34;: \u0026#34;200\u0026#34;, \u0026#34;body_bytes_sent\u0026#34;: \u0026#34;12354\u0026#34;, \u0026#34;bytes_sent\u0026#34;: \u0026#34;12987\u0026#34;, \u0026#34;http_referer\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;http_user_agent\u0026#34;: \u0026#34;Mozilla/5.0 (compatible; MJ12bot/v1.4.8; http://mj12bot.com/)\u0026#34;, \u0026#34;http_x_forwarded_for\u0026#34;: \u0026#34;65.108.78.33\u0026#34;, \u0026#34;http_host\u0026#34;: \u0026#34;www.iminling.com\u0026#34;, \u0026#34;server_name\u0026#34;: \u0026#34;www.iminling.com,iminling.com\u0026#34;, \u0026#34;request_time\u0026#34;: \u0026#34;0.093\u0026#34;, \u0026#34;upstream\u0026#34;: \u0026#34;192.168.0.3:9000\u0026#34;, \u0026#34;upstream_connect_time\u0026#34;: \u0026#34;0.000\u0026#34;, \u0026#34;upstream_header_time\u0026#34;: \u0026#34;0.092\u0026#34;, \u0026#34;upstream_response_time\u0026#34;: \u0026#34;0.093\u0026#34;, \u0026#34;upstream_response_length\u0026#34;: \u0026#34;49160\u0026#34;, \u0026#34;upstream_cache_status\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ssl_protocol\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;ssl_cipher\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;scheme\u0026#34;: \u0026#34;http\u0026#34;, \u0026#34;request_method\u0026#34;: \u0026#34;GET\u0026#34;, \u0026#34;server_protocol\u0026#34;: \u0026#34;HTTP/1.1\u0026#34;, \u0026#34;pipe\u0026#34;: \u0026#34;.\u0026#34;, \u0026#34;gzip_ratio\u0026#34;: \u0026#34;3.98\u0026#34;, \u0026#34;http_cf_ray\u0026#34;: \u0026#34;810dfa2978c4376f-HEL\u0026#34;, \u0026#34;geoip_country_code\u0026#34;: \u0026#34;FI\u0026#34;, \u0026#34;geoip_city\u0026#34;: \u0026#34;Helsinki\u0026#34; #è¿™é‡Œçš„å›½å®¶å’ŒåŸå¸‚éœ€è¦å¼€å¯æ–°çš„åŠŸèƒ½ï¼Œåç»­å†è¯¦ç»†è¯´ã€‚ } ä»¥ä¸Šå°±æ˜¯å¯¹æ—¥å¿—æ ¼å¼çš„è¯´æ˜ä»¥åŠå¦‚ä½•å®ç°ä»¥jsonæ ¼å¼è¾“å‡ºæ—¥å¿—ã€‚\n","date":"2023-10-04T15:04:07Z","image":"https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9","permalink":"https://konghanghang.github.io/iminling-pages/2023/custom-nginx-log-output-json/","title":"è‡ªå®šä¹‰Nginxæ—¥å¿—å±æ€§å¹¶è®¾ç½®æ—¥å¿—ä»¥JSONè¾“å‡º"},{"content":"å¯¹äºjavaå¼€å‘è€…æ¥è¯´jdkæ˜¯å†ç†Ÿæ‚‰ä¸è¿‡çš„äº†ï¼Œåœ¨javaåœˆè¿˜æµè¡Œè¿™æ ·ä¸€å¥è¯ï¼šä½ å‘ä»»ä½ å‘ï¼Œæˆ‘ç”¨java8ã€‚jdk8æ˜¯2013å¹´å‘å¸ƒçš„ï¼Œæ˜¯ä¸€ä¸ªLTSç‰ˆæœ¬ï¼Œè€Œåœ¨17å¹´å‘å¸ƒäº†jdk9ä¹‹åï¼Œjdkçš„å‘å¸ƒå‘¨æœŸå˜åŒ–çš„æ›´å¿«äº†ï¼Œå¾ˆå¤šå¼€å‘è€…ç›´å‘¼å­¦ä¸åŠ¨äº†ã€‚æˆªæ­¢ç›®å‰å·²ç»å‘å¸ƒåˆ°jdk21äº†ï¼Œå…³äºjdkç‰ˆæœ¬çš„å‘å¸ƒå¯ä»¥å‚è€ƒwikipediaçš„Javaå†å²ç‰ˆæœ¬æ¥äº†è§£è¯¦ç»†ã€‚æˆ‘ä»¬ä»Šå¤©è¦å®‰è£…çš„æ˜¯jdk17ã€‚\nè¿™ä¹ˆå¤šjdkç‰ˆæœ¬æˆ‘ä»¬åº”è¯¥é€‰æ‹©å“ªä¸ªæ¥ä½¿ç”¨å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹jdkçš„ç‰ˆæœ¬æ”¶è´¹æƒ…å†µï¼š\nJDK8ä»¥å‰ç‰ˆæœ¬ï¼Œç›®å‰å…è´¹ã€‚ JDK8ï¼Œå…è´¹ç‰ˆæœ¬è‡³8u202ï¼Œä»8u211å¼€å§‹å•†ç”¨æ”¶è´¹ã€‚ JDK9ã€JDK10 æœªæ”¶è´¹ã€‚ JDK11ï¼Œå…è´¹ç‰ˆæœ¬ç‰ˆæœ¬è‡³11.0.2ï¼Œä»11.0.3å¼€å§‹å•†ç”¨æ”¶è´¹ã€‚ JDK12ã€JDK13ã€JDK14ã€JDK15ã€JDK16ï¼Œå…¨ç‰ˆæœ¬å•†ç”¨æ”¶è´¹ã€‚ JDK17å¼€å§‹ï¼Œå…è´¹åˆ°2024 å¹´ 9 æœˆï¼Œåç»­æ˜¯å¦æ”¶è´¹ä¸æ˜ã€‚ ä½œä¸ºä¼ä¸šï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†éƒ½æ˜¯ä¸æƒ³ä»˜è´¹çš„ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šä¼ä¸šä½¿ç”¨jdk8çš„8u202ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä¸æ„¿æ„å‡çº§çš„åŸå› ã€‚è€Œä¸”jdk8æ˜¯ä¸€ä¸ªLTSç‰ˆæœ¬ï¼Œæ”¯æŒåˆ°2030å¹´ã€‚è€Œä¸‹ä¸€ä¸ªLTSç‰ˆæœ¬æ˜¯jdk11ï¼Œè€Œjdk11åˆæ˜¯æ”¶è´¹çš„ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†ä¼ä¸šéƒ½ä¸æ„¿æ„ä½¿ç”¨ï¼Œæ‰€ä»¥ç›´åˆ°jdk17å‡ºæ¥åï¼Œjdkåˆå¼€å§‹ä¸æ”¶è´¹äº†ï¼Œè€Œä¸”jdk17æ˜¯ä¸€ä¸ªLTSç‰ˆæœ¬ï¼Œæ‰€ä»¥å¦‚æœä¼ä¸šæƒ³è¦å‡çº§jdkï¼Œé‚£ä¹ˆjdk17æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œoracelä¼šæ”¯æŒjdk17åˆ°2029å¹´ã€‚\nä¸ºäº†ä½“éªŒjdk17ä»¥åŠä¸ºä»¥ååˆ‡æ¢jdk17åšå‡†å¤‡ï¼Œæ‰€ä»¥å°±éœ€è¦æˆ‘ä»¬æ¥å®‰è£…jdk17çš„å¼€å‘ç¯å¢ƒã€‚\nmacå¯ä»¥é€‰æ‹©å®‰è£…Homebrewæ¥å¿«é€Ÿå®‰è£…jdk17ï¼Œå…³äºHomebrewçš„å®‰è£…å¯ä»¥å‚è€ƒå†å²æ–‡ç« ï¼šMacæ›´æ¢æºæ›´å¿«é€Ÿçš„å®‰è£…Homebrewï¼Œè¿™é‡Œå°±ä¸å†å¤šè¯´äº†ï¼Œä¸‹è¾¹æˆ‘ä»¬ä½¿ç”¨Homebrewæ¥å®‰è£…jdkã€‚\nå®‰è£… å…ˆæœç´¢jdkç‰ˆæœ¬ï¼š\n1 2 3 4 5 # ko @ MacMini in ~ [10:32:25] $ brew search jdk ==\u0026gt; Formulae openjdk openjdk@17 âœ” jd cdk openjdk@11 openjdk@8 mdk å¯ä»¥çœ‹åˆ°æœ‰å‡ ä¸ªjdkçš„ç‰ˆæœ¬å¯ä»¥å®‰è£…ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯17ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®‰è£…äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # ko @ MacMini in ~ [11:28:24] $ brew install openjdk@17 ==\u0026gt; openjdk@17 For the system Java wrappers to find this JDK, symlink it with sudo ln -sfn /opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk openjdk@17 is keg-only, which means it was not symlinked into /opt/homebrew, because this is an alternate version of another formula. If you need to have openjdk@17 first in your PATH, run: echo \u0026#39;export PATH=\u0026#34;/opt/homebrew/opt/openjdk@17/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.zshrc For compilers to find openjdk@17 you may need to set: export CPPFLAGS=\u0026#34;-I/opt/homebrew/opt/openjdk@17/include\u0026#34; ç»è¿‡ä¸Šè¾¹çš„å‘½ä»¤åï¼Œjdk17å°±å·²ç»å®‰è£…å¥½äº†ã€‚\nç¯å¢ƒå˜é‡è®¾ç½® æ ¹æ®å®‰è£…æœ€åçš„æç¤ºæˆ‘ä»¬éœ€è¦å…ˆæ–°å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼š\n1 2 3 # konghang @ MacMini in ~ [10:37:47] $ sudo ln -sfn /opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk Password: æ¥ä¸‹æ¥æ˜¯æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯.base_profileï¼Œä½¿ç”¨vimç¼–è¾‘åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n1 2 3 4 # JDK #export JAVA_HOME=\u0026#34;/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\u0026#34; export JAVA_HOME=\u0026#34;/Library/Java/JavaVirtualMachines/openjdk-17.jdk/Contents/Home\u0026#34; export PATH=${JAVA_HOME}/bin:$PATH ç„¶ååˆ·æ–°å˜é‡ï¼Œç„¶åæŸ¥çœ‹jdkç‰ˆæœ¬çœ‹æ˜¯å¦æˆåŠŸï¼š\n1 2 3 4 5 6 7 8 # ko @ MacMini in ~ [10:43:55] $ source .bash_profile # ko @ MacMini in ~ [10:43:59] $ java -version openjdk version \u0026#34;17.0.8.1\u0026#34; 2023-08-24 OpenJDK Runtime Environment Homebrew (build 17.0.8.1+0) OpenJDK 64-Bit Server VM Homebrew (build 17.0.8.1+0, mixed mode, sharing) çœ‹åˆ°å½“å‰çš„ç¯å¢ƒä¸‹ä½¿ç”¨çš„æ˜¯jdk17äº†ï¼Œæˆªæ­¢åˆ°è¿™é‡Œjdk17å°±å·²ç»å®‰è£…æˆåŠŸäº†ã€‚æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨jdkæ¥è¿›è¡Œå¼€å‘å’Œç ”ç©¶äº†ã€‚\n","date":"2023-10-03T02:55:28Z","image":"https://images.iminling.com/app/hide.php?key=bEt3WUtUZk13dFI3Z0FyckVUZGdnRDZNd1E0aVBaMDZPbVdZTm1RR1lsS3NtNWkyOWZ4UkI5R0g3ZFlVTjVxdWtzcDdkMjA9","permalink":"https://konghanghang.github.io/iminling-pages/2023/mac-install-jdk17/","title":"Macå¿«é€Ÿå®‰è£…jdk17ç¯å¢ƒ"},{"content":"Homebrewæ˜¯ä¸€æ¬¾Mac OSå¹³å°ä¸‹çš„è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œæ‹¥æœ‰å®‰è£…ã€å¸è½½ã€æ›´æ–°ã€æŸ¥çœ‹ã€æœç´¢ç­‰å¾ˆå¤šå®ç”¨çš„åŠŸèƒ½ã€‚ç®€å•çš„ä¸€æ¡æŒ‡ä»¤ï¼Œå°±å¯ä»¥å®ç°åŒ…ç®¡ç†ï¼Œè€Œä¸ç”¨ä½ å…³å¿ƒå„ç§ä¾èµ–å’Œæ–‡ä»¶è·¯å¾„çš„æƒ…å†µï¼Œååˆ†æ–¹ä¾¿å¿«æ·ã€‚ä½†æ˜¯å®‰è£…å´æ˜¯éœ€è¦å»githubå»æ‹‰ä»“åº“ç„¶åè¿›è¡Œå®‰è£…ï¼Œgithubåœ¨å›½å†…çš„è®¿é—®é€Ÿåº¦å ªå¿§ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ•´ä¸ªå®‰è£…è¿‡ç¨‹å¾ˆé•¿ï¼Œç”šè‡³å®‰è£…å¤±è´¥ï¼Œè¿™é‡Œæˆ‘è®°å½•ä¸€ä¸‹æˆ‘æ›¿æ¢æºè¿›è¡Œå®‰è£…çš„è¿‡ç¨‹ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©å¤§å®¶ã€‚\nå®‰è£…å‡†å¤‡ Homebrewçš„å®˜ç½‘æä¾›äº†ä¸€é”®å®‰è£…çš„è„šæœ¬ï¼Œè„šæœ¬çš„å®é™…æŒ‡å‘æ˜¯githubä»“åº“ä¸­çš„installä»“åº“ï¼ŒæŸ¥çœ‹å®‰è£…è„šæœ¬install.sh,å¯ä»¥å‘ç°å®‰è£…çš„è¿‡ç¨‹ä¼šä¼˜å…ˆè¯»ç¯å¢ƒå˜é‡ä¸­çš„gitä»“åº“åœ°å€ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨è„šæœ¬ä¸­é»˜è®¤çš„githubä¸­çš„ä»“åº“åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠè¦ä½¿ç”¨çš„æºè®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼Œåœ¨install.shè„šæœ¬å®‰è£…çš„æ—¶å€™ç›´æ¥ä½¿ç”¨æˆ‘ä»¬è®¾ç½®å¥½çš„æºæ¥åŠ å¿«å®‰è£…é€Ÿåº¦ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 HOMEBREW_BREW_DEFAULT_GIT_REMOTE=\u0026#34;https://github.com/Homebrew/brew\u0026#34; HOMEBREW_CORE_DEFAULT_GIT_REMOTE=\u0026#34;https://github.com/Homebrew/homebrew-core\u0026#34; # Use remote URLs of Homebrew repositories from environment if set. HOMEBREW_BREW_GIT_REMOTE=\u0026#34;${HOMEBREW_BREW_GIT_REMOTE:-\u0026#34;${HOMEBREW_BREW_DEFAULT_GIT_REMOTE}\u0026#34;}\u0026#34; HOMEBREW_CORE_GIT_REMOTE=\u0026#34;${HOMEBREW_CORE_GIT_REMOTE:-\u0026#34;${HOMEBREW_CORE_DEFAULT_GIT_REMOTE}\u0026#34;}\u0026#34; # The URLs with and without the \u0026#39;.git\u0026#39; suffix are the same Git remote. Do not prompt. if [[ \u0026#34;${HOMEBREW_BREW_GIT_REMOTE}\u0026#34; == \u0026#34;${HOMEBREW_BREW_DEFAULT_GIT_REMOTE}.git\u0026#34; ]] then HOMEBREW_BREW_GIT_REMOTE=\u0026#34;${HOMEBREW_BREW_DEFAULT_GIT_REMOTE}\u0026#34; fi if [[ \u0026#34;${HOMEBREW_CORE_GIT_REMOTE}\u0026#34; == \u0026#34;${HOMEBREW_CORE_DEFAULT_GIT_REMOTE}.git\u0026#34; ]] then HOMEBREW_CORE_GIT_REMOTE=\u0026#34;${HOMEBREW_CORE_DEFAULT_GIT_REMOTE}\u0026#34; fi export HOMEBREW_{BREW,CORE}_GIT_REMOTE æ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¾ç½®ä¸¤ä¸ªç¯å¢ƒå˜é‡HOMEBREW_BREW_GIT_REMOTEå’ŒHOMEBREW_CORE_GIT_REMOTE\nï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ä¸­ç§‘å¤§çš„æºæ¥è¿›è¡Œå®‰è£…ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä¸­ç§‘çš„çš„ä»‹ç»é¡µé¢ï¼šHomebrew æºä½¿ç”¨å¸®åŠ©ã€‚ä¸¤ä¸ªå˜é‡çš„è®¾ç½®è„šæœ¬å¦‚ä¸‹ï¼š\n1 2 export HOMEBREW_BREW_GIT_REMOTE=\u0026#34;https://mirrors.ustc.edu.cn/brew.git\u0026#34; export HOMEBREW_CORE_GIT_REMOTE=\u0026#34;https://mirrors.ustc.edu.cn/homebrew-core.git\u0026#34; è¿™æ ·å°±å®Œæˆäº†æºçš„æ›¿æ¢ï¼Œä¸è¦å…³é—­æ‰§è¡Œä¸Šè¾¹exportå‘½ä»¤çš„çª—å£ï¼Œä¸‹ä¸€æ­¥åœ¨åŒä¸€ä¸ªçª—å£æ‰§è¡Œå®‰è£…è„šæœ¬ã€‚\nå®‰è£… æ‰§è¡Œå®˜ç½‘çš„ä¸€é”®å®‰è£…è„šæœ¬ï¼š\n1 /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; ç”±äºæ›¿æ¢äº†ä¸­ç§‘å¤§çš„æºï¼Œå®‰è£…ä¸Šä¸ä¼šå¾ˆæ…¢ï¼Œç­‰å¾…ç¨‹åºæ‰§è¡Œå®Œæˆå°±å¯ä»¥äº†ã€‚\nå®‰è£…å®ŒæˆåæŠŠbrewæ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘.bash_profileæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹è¾¹ä¸€è¡Œä»£ç ï¼š\n1 export PATH=/opt/homebrew/bin:$PATH ä¿å­˜ååˆ·æ–°ç¯å¢ƒï¼Œä½¿é…ç½®çš„å˜é‡ç”Ÿæ•ˆï¼š\n1 source .bash_profile ç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨brewæ¥å®‰è£…å’Œç®¡ç†åº”ç”¨äº†ã€‚\nä½¿ç”¨ ä¸‹è¾¹åˆ—ä¸¾ä¸€äº›å¸¸ç”¨çš„brewçš„ä½¿ç”¨å‘½ä»¤ï¼š\n1 2 3 4 5 6 7 brew search ** //æŸ¥æ‰¾æŸä¸ªè½¯ä»¶åŒ… brew list //åˆ—å‡ºå·²ç»å®‰è£…çš„è½¯ä»¶çš„åŒ… brew install ** //å®‰è£…æŸä¸ªè½¯ä»¶åŒ…,é»˜è®¤å®‰è£…çš„æ˜¯ç¨³å®šç‰ˆæœ¬ brew uninstall **//å¸è½½æŸä¸ªè½¯ä»¶çš„åŒ… brew upgrade ** //æ›´æ–°æŸä¸ªè½¯ä»¶åŒ… brew info ** //æŸ¥çœ‹æŒ‡å®šè½¯ä»¶åŒ…çš„è¯´æ˜ brew cache clean //æ¸…ç†ç¼“å­˜ ä»¥ä¸Šå°±æ˜¯homebrewç®€å•å¿«é€Ÿçš„å®‰è£…è¿‡ç¨‹ã€‚\n","date":"2023-10-02T00:00:00Z","image":"https://images.iminling.com/app/hide.php?key=NmtEZ1ZGOE1SbXJlVENkbTFYQTBQcko2NVc4UHBtT044clNuYUZpQStJZHpieGVORmFLbFhTVnBRczhwNWpyRTlKL3N5TWM9","permalink":"https://konghanghang.github.io/iminling-pages/2023/mac-change-source-install-homebrew/","title":"Macæ›´æ¢æºæ›´å¿«é€Ÿçš„å®‰è£…Homebrew"},{"content":"å‰æ®µé‡åˆ°äº†ä¸€ä¸ªå¤§éº»çƒ¦ï¼Œæˆ‘çš„ç½‘ç«™ä¸»é¡µå‘å¸ƒäº†ä¸¤ç¯‡éæˆ‘è‡ªå·±å†™çš„æ–‡ç« ï¼Œåœ¨ç™»å½•äº†worpressåå°åï¼Œå‘ç°çš„ç¡®æ˜¯æœ‰ä¸¤ç¯‡æ–‡ç« ï¼Œéšåèµ¶ç´§åˆ é™¤äº†é‚£ä¸¤ç¯‡æ–‡ç« ã€‚ç»è¿‡æ’æŸ¥å‘ç°æ˜¯xmlrpcåŠŸèƒ½æ²¡æœ‰å…³é—­å¯¼è‡´çš„ï¼Œæ‰€ä»¥å°±æœ‰äº†æˆ‘çš„ä¸Šç¯‡æ–‡ç« ï¼šç¦ç”¨xmlrpc.phpé˜²æ­¢wordpressè¢«æš´åŠ›ç ´è§£ï¼Œäº‹ååŠæ—¶å…³é—­äº†è¯¥åŠŸèƒ½ï¼Œç„¶åå°±æƒ³ç€ï¼Œæ—¢ç„¶è¦å‘å¸ƒæ–‡ç« ï¼Œæ˜¯ä¸æ˜¯è¦ç™»å½•æˆ‘çš„ç®¡ç†åå°ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è®¾ç½®åœ¨ç”¨æˆ·ç™»å½•wordpressç®¡ç†åå°çš„æ—¶å€™è¿›è¡Œé€šçŸ¥æˆ‘å‘¢ï¼Œç„¶åå°±å»æœç´¢äº†ä¸€ä¸‹ç›¸å…³åŠŸèƒ½ï¼Œæœç„¶è¿˜æ˜¯æœ‰åŠæ³•é€šçŸ¥åˆ°æˆ‘çš„ã€‚ä¸‹è¾¹ç®€å•çš„åˆ†äº«ä¸€ä¸‹è¯¥åŠŸèƒ½ã€‚\né‚®ä»¶é…ç½® é‚®ä»¶çš„é…ç½®ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œæ¯”å¦‚ä½¿ç”¨WP Mail SMTPæ’ä»¶ï¼Œè¿™é‡Œå°±è·³è¿‡äº†ã€‚\nTelegramé…ç½® å…¶å®ä½¿ç”¨é‚®ä»¶é…ç½®å°±å¯ä»¥äº†ï¼Œå½“æœ‰ç™»å½•çš„æ—¶å€™å°±ä¼šé€šè¿‡é‚®ä»¶æ¥é€šçŸ¥æˆ‘ä»¬ã€‚æˆ‘è¿™é‡Œå¹¶ä¸æƒ³åœ¨è‡ªå·±çš„é‚®ç®±é‡Œç•™å­˜å¤ªå¤šçš„é‚®ä»¶ï¼Œè€Œä¸”è‡ªå·±ç”¨Telegramæ¯”è¾ƒå¤šï¼Œå°±æƒ³ç€æŠŠé€šçŸ¥å‘é€Telegramä¼šæ›´å¥½ï¼Œæˆ‘å°±å®‰è£…äº†æ’ä»¶ï¼šWP Telegramã€‚åŠŸèƒ½ä¹Ÿå¾ˆå¼ºï¼Œå®ƒèƒ½åœ¨è¦å‘é‚®ä»¶çš„æ—¶å€™åŠ«æŒé‚®ä»¶å†…å®¹åˆ°telegram:\nåªéœ€è¦åœ¨Telegramç”³è¯·å¥½æœºå™¨äººå°±å¯ä»¥äº†ï¼Œæ’ä»¶ä¸­ä¹Ÿæœ‰ç”³è¯·æ­¥éª¤ã€‚\nå‘é€é…ç½® ç¼–è¾‘ä¸»é¢˜æ–‡ä»¶ä¸­çš„functions.phpæ–‡ä»¶[å¤–è§‚-ä¸»é¢˜æ–‡ä»¶ç¼–è¾‘å™¨]ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç å°±å¯ä»¥å®ç°äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 /***************************************************** å‡½æ•°åç§°ï¼šwp_login_notify v1.0 by DH.huahua. å‡½æ•°ä½œç”¨ï¼šæœ‰ç™»å½•wpåå°å°±ä¼šemailé€šçŸ¥åšä¸» ******************************************************/ function wp_login_notify() { date_default_timezone_set(\u0026#39;PRC\u0026#39;); $admin_email = get_bloginfo (\u0026#39;admin_email\u0026#39;); $to = $admin_email; $subject = \u0026#39;ä½ çš„åšå®¢ç©ºé—´ç™»å½•æé†’\u0026#39;; $message = \u0026#39;\u0026lt;p\u0026gt;ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(\u0026#39; . get_option(\u0026#34;blogname\u0026#34;) . \u0026#39;)æœ‰ç™»å½•ï¼\u0026lt;/p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š\u0026lt;/p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•åï¼š\u0026#39; . $_POST[\u0026#39;username\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•å¯†ç ï¼š\u0026#39; . $_POST[\u0026#39;password\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•æ—¶é—´ï¼š\u0026#39; . date(\u0026#34;Y-m-d H:i:s\u0026#34;) . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•IPï¼š\u0026#39; . $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39;; $wp_email = \u0026#39;no-reply@\u0026#39; . preg_replace(\u0026#39;#^www\\.#\u0026#39;, \u0026#39;\u0026#39;, strtolower($_SERVER[\u0026#39;SERVER_NAME\u0026#39;])); $from = \u0026#34;From: \\\u0026#34;\u0026#34; . get_option(\u0026#39;blogname\u0026#39;) . \u0026#34;\\\u0026#34; \u0026lt;$wp_email\u0026gt;\u0026#34;; $headers = \u0026#34;$from\\nContent-Type: text/html; charset=\u0026#34; . get_option(\u0026#39;blog_charset\u0026#39;) . \u0026#34;\\n\u0026#34;; wp_mail( $to, $subject, $message, $headers ); } add_action(\u0026#39;wp_login\u0026#39;, \u0026#39;wp_login_notify\u0026#39;); /***************************************************** å‡½æ•°åç§°ï¼šwp_login_failed_notify v1.0 by DH.huahua. å‡½æ•°ä½œç”¨ï¼šæœ‰é”™è¯¯ç™»å½•wpåå°å°±ä¼šemailé€šçŸ¥åšä¸» ******************************************************/ function wp_login_failed_notify() { date_default_timezone_set(\u0026#39;PRC\u0026#39;); $admin_email = get_bloginfo (\u0026#39;admin_email\u0026#39;); $to = $admin_email; $subject = \u0026#39;ä½ çš„åšå®¢ç©ºé—´ç™»å½•é”™è¯¯è­¦å‘Š\u0026#39;; $message = \u0026#39;\u0026lt;p\u0026gt;ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(\u0026#39; . get_option(\u0026#34;blogname\u0026#34;) . \u0026#39;)æœ‰ç™»å½•é”™è¯¯ï¼\u0026lt;/p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•å¤±è¯¯ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š\u0026lt;/p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•åï¼š\u0026#39; . $_POST[\u0026#39;username\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•å¯†ç ï¼š\u0026#39; . $_POST[\u0026#39;password\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•æ—¶é—´ï¼š\u0026#39; . date(\u0026#34;Y-m-d H:i:s\u0026#34;) . \u0026#39;\u0026lt;p\u0026gt;\u0026#39; . \u0026#39;\u0026lt;p\u0026gt;ç™»å½•IPï¼š\u0026#39; . $_SERVER[\u0026#39;REMOTE_ADDR\u0026#39;] . \u0026#39;\u0026lt;p\u0026gt;\u0026#39;; $wp_email = \u0026#39;no-reply@\u0026#39; . preg_replace(\u0026#39;#^www\\.#\u0026#39;, \u0026#39;\u0026#39;, strtolower($_SERVER[\u0026#39;SERVER_NAME\u0026#39;])); $from = \u0026#34;From: \\\u0026#34;\u0026#34; . get_option(\u0026#39;blogname\u0026#39;) . \u0026#34;\\\u0026#34; \u0026lt;$wp_email\u0026gt;\u0026#34;; $headers = \u0026#34;$from\\nContent-Type: text/html; charset=\u0026#34; . get_option(\u0026#39;blog_charset\u0026#39;) . \u0026#34;\\n\u0026#34;; wp_mail( $to, $subject, $message, $headers ); } add_action(\u0026#39;wp_login_failed\u0026#39;, \u0026#39;wp_login_failed_notify\u0026#39;); ä¸€ä¸ªæ˜¯ç™»å½•æˆåŠŸçš„æé†’ï¼Œä¸€ä¸ªæ˜¯ç™»å½•å¤±è´¥çš„æé†’ï¼Œå¦‚æœæœ‰äººç™»å½•wordpressåå°çš„æ—¶å€™å°±ä¼šåœ¨telegramçš„æœºå™¨äººä¸­è¿›è¡Œé€šçŸ¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 ğŸ””â€Œä½ çš„åšå®¢ç©ºé—´ç™»å½•æé†’ğŸ”” ä½ å¥½ï¼ä½ çš„åšå®¢ç©ºé—´(åˆ†äº«)æœ‰ç™»å½•ï¼ è¯·ç¡®å®šæ˜¯æ‚¨è‡ªå·±çš„ç™»å½•ï¼Œä»¥é˜²åˆ«äººæ”»å‡»ï¼ç™»å½•ä¿¡æ¯å¦‚ä¸‹ï¼š ç™»å½•åï¼š ç™»å½•å¯†ç ï¼š ç™»å½•æ—¶é—´ï¼š2023-09-29 16:02:40 ç™»å½•IPï¼š24:4:2:: ç»è¿‡ä¸Šè¾¹çš„é…ç½®ï¼Œå°±å¯ä»¥åœ¨æœ‰äººç™»å½•worpressåå°çš„æ—¶å€™åŠæ—¶çš„é€šçŸ¥æˆ‘ä»¬ï¼Œé¿å…å‡ºç°æˆ‘ä¸Šæ¬¡é‡åˆ°çš„æƒ…å†µï¼Œç›¸å¯¹æ¥è¯´é¿å…å‘ç”Ÿä¸€äº›è‡ªå·±é¢„æƒ³ä»¥å¤–çš„äº‹æƒ…ã€‚\n","date":"2023-09-29T08:46:00Z","image":"https://images.iminling.com/app/hide.php?key=NE1yYVdkUjdQS3Q1UTBUODVkbW5zcUF5ckdjQzBHNzJHSWdQZGN2bFN0N1pJK1JEN0FxVG9OZFc1SUQrekV4Um9janlZWDQ9","permalink":"https://konghanghang.github.io/iminling-pages/2023/wordpress-login-use-mail-telegram-notice/","title":"WordPressç”¨æˆ·ç™»å½•ç®¡ç†åå°è¿›è¡Œé‚®ä»¶æˆ–Telegramé€šçŸ¥"},{"content":"å¾ˆå¤šåˆšæ¥è§¦wordpressçš„æœ‹å‹ä¼°è®¡å’Œæˆ‘ä¸€æ ·ï¼Œå¯¹äºxmlrpc.phpçš„äº†è§£å‡ ä¹ä¸º0ï¼Œè¿™ç©æ„å„¿æ˜¯å¹²å˜›çš„ï¼Ÿä¸ºä»€ä¹ˆå®ƒä¼šå¯¼è‡´wordpressè¢«æš´åŠ›ç ´è§£ï¼Ÿä¸‹é¢æˆ‘ä»¬å°±å…ˆæ¥è®¤è¯†ä¸€ä¸‹xmlrpc.phpæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚\nä»€ä¹ˆæ˜¯xmlrpc.php XML-RPCæ˜¯æ”¯æŒWordPressä¸å…¶ä»–ç³»ç»Ÿä¹‹é—´é€šä¿¡çš„è§„èŒƒã€‚å®ƒé€šè¿‡ä½¿ç”¨HTTPä½œä¸ºä¼ è¾“æœºåˆ¶å’ŒXMLä½œä¸ºç¼–ç æœºåˆ¶æ¥æ ‡å‡†åŒ–è¿™äº›é€šä¿¡æ¥å®ç°æ­¤ç›®çš„ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ‚¨æƒ³é€šè¿‡ç§»åŠ¨è®¾å¤‡åœ¨æ‚¨çš„ç½‘ç«™ä¸Šå‘å¸–ï¼Œå› ä¸ºæ‚¨çš„è®¡ç®—æœºä¸åœ¨é™„è¿‘ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ xmlrpc.php å¯ç”¨çš„è¿œç¨‹è®¿é—®åŠŸèƒ½æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚\nåœ¨WordPressçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹å·²å…³é—­XML-RPCã€‚ä½†æ˜¯è‡ªv3.5ç‰ˆæœ¬å¼€å§‹ï¼Œé»˜è®¤æƒ…å†µä¸‹åˆå¯ç”¨å®ƒã€‚è¿™æ ·åšçš„ä¸»è¦åŸå› æ˜¯å…è®¸WordPressç§»åŠ¨åº”ç”¨ç¨‹åºä¸WordPresså®‰è£…è¿›è¡Œå¯¹è¯é€šè®¯ã€‚\nä½†æ˜¯ç”±äºREST APIå·²é›†æˆåˆ°WordPressæ ¸å¿ƒä¸­ï¼Œå› æ­¤xmlrpc.phpæ–‡ä»¶ä¸å†ç”¨äºæ­¤é€šä¿¡ã€‚ç›¸åï¼ŒREST APIç”¨äºä¸WordPressç§»åŠ¨åº”ç”¨ç¨‹åºï¼Œæ¡Œé¢å®¢æˆ·ç«¯ï¼Œå…¶ä»–åšå®¢å¹³å°ï¼ŒWordPress.comï¼ˆç”¨äºJetpackæ’ä»¶ï¼‰ä»¥åŠå…¶ä»–ç³»ç»Ÿå’ŒæœåŠ¡è¿›è¡Œé€šä¿¡ã€‚REST API-å¯ä¸ä¹‹äº¤äº’çš„ç³»ç»ŸèŒƒå›´æ¯”xmlrpc.phpæ‰€å…è®¸çš„å¤§å¾—å¤šã€‚æ­¤å¤–ï¼Œæ‹¥æœ‰æ›´å¼ºçš„çµæ´»æ€§ã€‚\nç»å† ä¸ºä»€ä¹ˆæˆ‘ä¼šçŸ¥é“è¿™ä¸ªç©æ„å„¿å‘¢ï¼Ÿå› ä¸ºåœ¨æŸä¸€å¤©çš„æ—©ä¸Šï¼Œæˆ‘å‘ç°æˆ‘çš„ç½‘ç«™çªç„¶å°±å¤šäº†ä¸¤ç¯‡æ–‡ç« ï¼Œå¹¶ä¸æ˜¯æˆ‘å†™çš„ï¼Œè«åå…¶å¦™çš„å°±å¤šäº†ä¸¤ç¯‡ï¼Œäºæ˜¯é©¬ä¸Šä¿®æ”¹äº†ç®¡ç†ç”¨æˆ·çš„ç™»å½•å¯†ç ï¼Œé˜²æ­¢åˆ«äººå†ç™»å½•ã€‚ä¹‹åä¾¿å¼€å§‹äº†æ­¤æ¬¡è¢«æ”»å‡»çš„æ€è€ƒï¼Œæˆ‘çš„å¯†ç è®¾ç½®çš„ä¹Ÿå¹¶ä¸ç®€å•ï¼Œä»–ä»¬æ˜¯æ€ä¹ˆçŸ¥é“æˆ‘çš„å¯†ç çš„å‘¢ï¼Ÿäºæ˜¯æˆ‘å°±å¼€å§‹äº†æŸ¥çœ‹è¯·æ±‚æ—¥å¿—ï¼Œåœ¨nginxçš„æ—¥å¿—ä¸­æœç„¶å‘ç°äº†ä¸€äº›ç«¯å€ªï¼Œæœ‰å¤§é‡çš„è¯·æ±‚åœ¨è¯·æ±‚xmlrpc.phpè¿™ä¸ªæ–‡ä»¶ï¼š\näºæ˜¯æˆ‘å°±å»æœç´¢äº†xmlrpc.phpè¿™ä¸ªæ–‡ä»¶ï¼Œä¸æœç´¢ä¸çŸ¥é“ï¼Œä¸€æœç´¢å“ä¸€è·³ï¼Œmdï¼Œè‚¯å®šæ˜¯è¿™ç©æ„å„¿å¯¼è‡´æˆ‘çš„ç½‘ç«™å¤šäº†ä¸¤ç¯‡æ–‡ç« å‡ºæ¥ã€‚äºæ˜¯å¼€å§‹äº†æ¢ç´¢å¦‚ä½•ç¦ç”¨ä¹‹è·¯ã€‚\nç¦ç”¨xmlrpc.php æ—¢ç„¶wordpresså‡ºäº†REST APIå–ä»£XML-RPCï¼Œä¸ºäº†å®‰å…¨æˆ‘ä»¬åº”è¯¥åœ¨ç«™ç‚¹ä¸Šç¦ç”¨xmlrpc.phpã€‚æ¥ä¸‹æ¥ä»‹ç»ä¸‰ç§ç¦ç”¨çš„æ–¹æ¡ˆã€‚\né€šè¿‡nginxè¿‡æ»¤è¯·æ±‚ è¿™ç§æ˜¯æˆ‘åœ¨ä½¿ç”¨çš„æ–¹æ¡ˆï¼Œé€šè¿‡nginxçš„locationæ¥å®šä½è¿™ä¸ªè¯·æ±‚ï¼Œç„¶åç›¸åº”403ï¼Œç¦æ­¢è¯·æ±‚è®¿é—®ã€‚å…³äºlocationçš„ç”¨æ³•ï¼Œå‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šnginxä¸­locationä½¿ç”¨æ–¹æ³•æ€»ç»“ã€‚åœ¨å¤„ç†wordpressç«™ç‚¹çš„serverä»£ç å—ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç æ¥é˜»æ­¢å…¶ä»–äººè®¿é—®xmlrpc.php:\n1 2 3 location ~* ^/xmlrpc\\.php$ { return 403; } æ·»åŠ ä»¥åï¼Œå†æœ‰äººè®¿é—®xmlrpc.phpæ–‡ä»¶çš„æ—¶å€™å°±ä¼šè¿”å›403.\né€šè¿‡functions.phpç¦ç”¨ åˆšå¼€å§‹æˆ‘ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼æ¥ç¦ç”¨çš„ï¼Œä½†æ˜¯åœ¨æ›´æ–°äº†ä¸»é¢˜æ–‡ä»¶åï¼Œè®¾ç½®ä¸¢å¤±äº†ï¼Œæ‰€ä»¥å°±æ¢æˆäº†nginxæ¥è¿›è¡Œæ‹¦æˆªï¼Œè¿™é‡Œä¹Ÿé¡ºå¸¦è¯´ä¸€ä¸‹è¿™ç§æ–¹å¼ã€‚åœ¨åå°ä¸­ï¼Œæ‰¾åˆ°å¤–è§‚-ä¸»é¢˜æ–‡ä»¶ç¼–è¾‘å™¨èœå•ï¼Œç„¶åç‚¹å‡»å³ä¾§çš„functions.php,åœ¨ç¼–è¾‘åŒºå°†ä»¥ä¸‹æ–¹æ³•æ·»åŠ è¿›å»ä¿å­˜æ–‡ä»¶å°±å¯ä»¥äº†ã€‚\n1 add_filter(\u0026#39;xmlrpc_enabled\u0026#39;, \u0026#39;__return_false\u0026#39;); ä¿å­˜åï¼Œå°±æ²¡åŠæ³•å†è®¿é—®xmlrpc.phpæ–‡ä»¶äº†ã€‚\né€šè¿‡.htaccess æ–‡ä»¶ç¦ç”¨ .htaccessæ–‡ä»¶åœ¨/var/www/htmlç›®å½•ä¸‹ï¼Œæ˜¯ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œæˆ‘ä»¬ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹æ¥è¾¾åˆ°å±è”½xmlrpc.phpæ–‡ä»¶çš„ç›®çš„ï¼š\n1 2 3 4 5 6 # Block WordPress xmlrpc.php requests \u0026lt;Files xmlrpc.php\u0026gt; order deny,allow deny from all allow from xxx.xxx.xxx.xxx \u0026lt;/Files\u0026gt; å¯ä»¥ç¦ç”¨æ‰€æœ‰è°ƒç”¨è¯¥æ–‡ä»¶çš„æƒ…å†µï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®ä¾‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…è®¸çš„ipæ›¿æ¢xxx.xxx.xxx.xxxæ¥è¾¾åˆ°åªå…è®¸ç‰¹å®šçš„ipæ¥è®¿é—®è¯¥æ–‡ä»¶ã€‚\nä»¥ä¸Šå°±æ˜¯æˆ‘å› ä¸ºxmlrpc.phpæ–‡ä»¶é­é‡åˆ°çš„é—®é¢˜ä»¥åŠé’ˆå¯¹è¿™ç§æƒ…å†µè¿›è¡Œçš„é˜²å¾¡ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2023-09-03T09:07:36Z","image":"https://images.iminling.com/app/hide.php?key=NnVNTjhMWXJ5N2tkOGpzYWFnVWJuYnhhOGFtQnZmYzc2S3BzdDJhY29HUEUvUHU5TkZVRk90VkgyTzlHUzMyVDAvMDlXcDg9","permalink":"https://konghanghang.github.io/iminling-pages/2023/disable-xmlrpc-php/","title":"ç¦ç”¨xmlrpc.phpé˜²æ­¢wordpressè¢«æš´åŠ›ç ´è§£"},{"content":"åŒåè®®æ ˆæŠ€æœ¯å°±æ˜¯æŒ‡åœ¨ä¸€å°è®¾å¤‡ä¸ŠåŒæ—¶å¯ç”¨ IPv4 åè®®æ ˆå’Œ IPv6 åè®®æ ˆï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶ä½¿ç”¨ IPv4 å’Œ IPv6 çš„ç½‘ç»œã€‚ä½†æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½ä¼šä»¥IPv6ç½‘ç»œä¼˜å…ˆï¼Œåªæœ‰ IPv6 æ— æ³•è®¿é—®çš„æ—¶å€™æ‰ä¼šå°è¯•è®¿é—® IPv4ï¼ŒæŸäº›ç‰¹å®šçš„åº”ç”¨å’Œåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³è¦ IPv6 ä¼˜å…ˆï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¿®æ”¹ä¸€äº›é…ç½®æ–‡ä»¶è®© IPv4 ä¼˜å…ˆã€‚\næŸ¥çœ‹ç½‘ç»œä¼˜å…ˆçº§ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰çš„æœºå™¨æ˜¯ä»¥å“ªä¸ªç½‘ç»œä¼˜å…ˆçš„ï¼š\n1 2 root@gc:~# curl ip.sb 2000::97e4 å¦‚ä¸Šè¿”å›äº†IPv6çš„åœ°å€ï¼Œæ‰€ä»¥è¯¥æœºå™¨é»˜è®¤å°±æ˜¯é€šè¿‡IPv6æ¥è®¿é—®ç½‘ç«™çš„ï¼Œé€šè¿‡é…ç½®curlå¼ºåˆ¶ä½¿ç”¨IPv4åè®®æ¥è¿›è¡Œè®¿é—®ï¼š\n1 2 root@gc:~# curl ip.sb -4 192.168.0.235 æ¥ä¸‹æ¥å°±æ¥ä¿®æ”¹é…ç½®ä½¿IPv4æˆåŠŸé»˜è®¤çš„å‡ºæ ˆåè®®ã€‚\nä¿®æ”¹/etc/gai.conf åœ¨ Debianã€Ubuntu ç­‰ Linux ç³»ç»Ÿä¸‹ï¼Œæœ‰ä¸€ä¸ªÂ /etc/gai.confÂ æ–‡ä»¶ï¼Œç”¨äºç³»ç»Ÿçš„Â getaddrinfoÂ è°ƒç”¨ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šä½¿ç”¨ IPv6 ä¼˜å…ˆï¼Œç¼–è¾‘gai.confæ–‡ä»¶ï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 # precedence \u0026lt;mask\u0026gt; \u0026lt;value\u0026gt; # Add another rule to the RFC 3484 precedence table. See section 2.1 # and 10.3 in RFC 3484. The default is: # #precedence ::1/128 50 #precedence ::/0 40 #precedence 2002::/16 30 #precedence ::/96 20 #precedence ::ffff:0:0/96 10 # # For sites which prefer IPv4 connections change the last line to # #precedence ::ffff:0:0/96 100 é‡Œè¾¹æœ‰ä¸€è¡Œæç¤ºï¼šFor sites which prefer IPv4 connections change the last line toï¼Œæƒ³è¦IPv4å‡ºæ ˆï¼Œå¯ä»¥è®¾ç½®ï¼šprecedence ::ffff:0:0/96 100\nï¼Œæ ¹æ®æç¤ºæŠŠè¯¥è¡Œå‰çš„æ³¨é‡Šå»æ‰ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 # precedence \u0026lt;mask\u0026gt; \u0026lt;value\u0026gt; # Add another rule to the RFC 3484 precedence table. See section 2.1 # and 10.3 in RFC 3484. The default is: # #precedence ::1/128 50 #precedence ::/0 40 #precedence 2002::/16 30 #precedence ::/96 20 #precedence ::ffff:0:0/96 10 # # For sites which prefer IPv4 connections change the last line to # precedence ::ffff:0:0/96 100 ä¿®æ”¹åä¿å­˜ï¼Œç„¶åå†ä½¿ç”¨curlè®¿é—®ç½‘ç«™ï¼Œä¸æŒ‡å®šä½¿ç”¨çš„IPv4è¿˜æ˜¯IPv6ï¼Œé»˜è®¤æƒ…å†µä¸‹å°±èµ°äº†IPv4ï¼Œå¦‚ä¸‹ï¼š\n1 2 root@gc:~# curl ip.sb -4 192.168.0.235 ä¿®æ”¹gai.confåå°±é»˜è®¤èµ°äº†IPv4åè®®äº†ã€‚\nç¦ç”¨IPv6 æœ‰ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ç¦æ­¢ç³»ç»Ÿçš„ IPv6 åŠŸèƒ½ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¿®æ”¹Â /etc/sysctl.confÂ æ–‡ä»¶ï¼Œé¦–å…ˆæ‰¾åˆ°ä½ çš„ç½‘å¡åç§°ï¼Œé»˜è®¤æ˜¯Â eth0Â ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è‡ªå·±çš„ç½‘å¡åï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@gc:~# ip address 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc fq state UP group default qlen 1000 link/ether 00:16:3c:6b:b7:c3 brd ff:ff:ff:ff:ff:ff altname enp0s3 altname ens3 inet 192.168.0.235/24 brd 192.168.0.255 scope global eth0 valid_lft forever preferred_lft forever inet6 2000::97e4/112 scope global valid_lft forever preferred_lft forever inet6 fe80::216:3cff:fe6b:b7c3/64 scope link valid_lft forever preferred_lft forever æˆ‘çš„ç½‘å¡åå°±æ˜¯eth0ï¼Œç„¶åä¿®æ”¹/etc/sysctl.confï¼ŒåŠ å…¥ä¸€ä¸‹å†…å®¹(å°†ç½‘å¡åæ›¿æ¢ä¸ºè‡ªå·±çš„)ï¼š\n1 2 3 4 5 6 7 8 net.ipv6.conf.all.autoconf = 0 net.ipv6.conf.default.autoconf = 0 net.ipv6.conf.all.accept_ra = 0 net.ipv6.conf.default.accept_ra = 0 net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 net.ipv6.conf.eth0.disable_ipv6 = 1 ç„¶åä½¿ç”¨Â sysctl -pÂ æ¥é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œæ­¤æ—¶æŸ¥çœ‹Â ip aÂ å°±å¯ä»¥å‘ç° IPv6 å·²ç»è¢«ç¦æ­¢äº†ã€‚\nä»¥ä¸Šå°±æ˜¯åŒæ ˆç½‘ç»œçš„æœºå™¨è®¾ç½®IPv4ç½‘ç»œä¼˜å…ˆçš„æ–¹æ³•ï¼Œè‡ªå·±æµ‹è¯•äº†Debianå’ŒUbuntuéƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2023-09-03T02:58:44Z","image":"https://images.iminling.com/app/hide.php?key=cU9DUVBIUnEzWktLQnpML0x0b090RkVtOGRNa0VnNXpMMFNSSFZKcTNsZkQ3eXdWNDlnZS9pNWZvNHFXdVNZV0JZVVpBREE9","permalink":"https://konghanghang.github.io/iminling-pages/2023/linux-use-ipv4-first/","title":"linuxåŒæ ˆç½‘ç»œè®¾ç½®IPv4ä¼˜å…ˆ"},{"content":"åœ¨nignxä¸­æˆ‘ä»¬æ¯”è¾ƒé•¿ä½¿ç”¨çš„å°±æ˜¯locationï¼Œæˆ‘ä»¬ä½¿ç”¨locationæ¥å®šä½èµ„æºæˆ–è€…è½¬å‘è¯·æ±‚ï¼Œä½¿ç”¨ä¸å½“ç»å¸¸å°±ä¼šé‡åˆ°404é”™è¯¯ï¼Œæ— æ³•æ‰¾åˆ°èµ„æºæˆ–è€…è¯·æ±‚å¼‚å¸¸ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹locationçš„ç”¨æ³•ã€‚\nè¯­æ³• locationçš„å…·ä½“è¯­æ³•å¦‚ä¸‹ï¼š\n1 2 location [ = | ~ | ~* | ^~ ] uri { ... } location @name { ... } è¯­æ³•è§„åˆ™å¾ˆç®€å•ï¼Œä¸€ä¸ªlocationå…³é”®å­—ï¼Œåé¢è·Ÿç€å¯é€‰çš„ä¿®é¥°ç¬¦ï¼Œåé¢æ˜¯è¦åŒ¹é…çš„å­—ç¬¦ï¼ŒèŠ±æ‹¬å·ä¸­æ˜¯è¦æ‰§è¡Œçš„æ“ä½œã€‚\nä¿®é¥°ç¬¦ åœ¨è¯­æ³•ä¸­å¯ä»¥çœ‹åˆ°locationæœ‰å››ä¸­ä¿®é¥°ç¬¦ï¼Œå…¶å®è¿˜æœ‰ä¸€ç§å°±æ˜¯ä¿®é¥°ç¬¦å°±æ˜¯ä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Œlocationåè¾¹ç›´æ¥è·Ÿuriï¼Œä¸‹è¾¹æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹å„ç§ä¿®é¥°ç¬¦çš„ä½œç”¨ï¼š\n= è¡¨ç¤ºç²¾ç¡®åŒ¹é…ã€‚åªæœ‰è¯·æ±‚çš„urlè·¯å¾„ä¸åé¢çš„å­—ç¬¦ä¸²å®Œå…¨ç›¸ç­‰æ—¶ï¼Œæ‰ä¼šå‘½ä¸­ã€‚ ~ è¡¨ç¤ºè¯¥è§„åˆ™æ˜¯ä½¿ç”¨æ­£åˆ™å®šä¹‰çš„ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚ ~* è¡¨ç¤ºè¯¥è§„åˆ™æ˜¯ä½¿ç”¨æ­£åˆ™å®šä¹‰çš„ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚ ^~ è¡¨ç¤ºå¦‚æœè¯¥ç¬¦å·åé¢çš„å­—ç¬¦æ˜¯æœ€ä½³åŒ¹é…ï¼Œé‡‡ç”¨è¯¥è§„åˆ™ï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ã€‚ æ— ä¿®é¥°ç¬¦ è¡¨ç¤ºå‰ç¼€åŒ¹é…\n=ã€~å’Œ^~æ˜¯éæ­£åˆ™åŒ¹é…ï¼Œ~å’Œ~*æ˜¯æ­£åˆ™åŒ¹é…ã€‚\nlocationåŒ¹é…è¿˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼š**éæ­£åˆ™åŒ¹é…ä¼˜å…ˆï¼**éæ­£åˆ™\u0026gt;æ­£åˆ™\nåŒ¹é…è¿‡ç¨‹ æ€»å…±5ç§ä¿®é¥°ç¬¦ï¼Œå¦‚æœä¸€ä¸ªurlè¯·æ±‚è¿‡æ¥å¯ä»¥åŒ¹é…åˆ°å¤šç§ï¼Œé‚£nginxä¼šå¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿä¸‹è¾¹æ¥çœ‹ä¸€ä¸‹å®Œæ•´çš„åŒ¹é…è¿‡ç¨‹ï¼š\nç”¨æ‰€æœ‰çš„å‰ç¼€å­—ç¬¦ä¸²å»åŒ¹é…URI(è¿™é‡Œè¯´çš„å‰ç¼€å­—ç¬¦ä¸²ï¼Œæ˜¯é™¤å’Œ*ä¿®é¥°çš„å­—ç¬¦ä¸²å¤–çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬=ã€^~åŠæ— ä¿®é¥°ç¬¦ä¸‰ç§éƒ½ç®—æ˜¯å‰ç¼€å­—ç¬¦ä¸²)ï¼›\nå¦‚æœæ‰¾åˆ°=å·ä¿®é¥°çš„å­—ç¬¦ä¸²ä¸URIåŒ¹é…(æ— è®ºå®ƒåœ¨å“ªä¸ªä½ç½®)ï¼Œåˆ™ç»ˆæ­¢åŒ¹é…è¿‡ç¨‹ï¼Œå¹¶è¿›å…¥è¯¥locationå†…éƒ¨æ‰§è¡Œå…·ä½“æ“ä½œï¼›\nå¦‚æœä¸æ‰¾åˆ°=å·ä¿®é¥°çš„å­—ç¬¦ä¸²ï¼Œåˆ™ç»§ç»­åŒ¹é…æ™®é€šå‰ç¼€å­—ç¬¦ä¸²(å³ç”¨^~ä¿®é¥°çš„æˆ–æ— ä¿®é¥°ç¬¦çš„å­—ç¬¦ä¸²)ï¼›\nåœ¨^~ä¿®é¥°çš„æˆ–æ— ä¿®é¥°ç¬¦çš„å­—ç¬¦ä¸²ä¸­å¦‚æœæœ‰å¤šä¸ªè§„åˆ™èƒ½åŒ¹é…ä¸ŠURIï¼Œåˆ™ä¼šæŸ¥çœ‹æœ€é•¿çš„é‚£ä¸€ä¸ªæ˜¯å¦ç”¨^~ä¿®é¥°ï¼›\nå¦‚æœæœ€é•¿çš„é‚£ä¸ªæœ‰ç”¨^~ä¿®é¥°ï¼Œåˆ™ç»ˆæ­¢åŒ¹é…ï¼Œè¿™ä¸ªç”¨^~ä¿®é¥°çš„â€œæœ€é•¿â€çš„åŒ¹é…å°±æ˜¯æœ€ç»ˆè¢«é€‰ç”¨çš„locationï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ªâ€œæœ€é•¿â€çš„åŒ¹é…æ²¡æœ‰ç”¨^~ä¿®é¥°(è¯´æ˜å®ƒæ˜¯æ— ä¿®é¥°ç¬¦çš„)ï¼Œåˆ™ä¼šæš‚æ—¶æŠŠå®ƒå­˜å‚¨ä¸‹æ¥ï¼Œä½†ä¸ä¼šç»ˆæ­¢åŒ¹é…ï¼Œè€Œæ˜¯ç»§ç»­è¿›è¡Œåé¢çš„æ­£åˆ™åŒ¹é…ï¼›\nå¼€å§‹æ­£åˆ™åŒ¹é…ï¼ŒåŒ¹é…æ‰€æœ‰ç”¨æˆ–*ä¿®é¥°çš„å­—ç¬¦ä¸²\nåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åç»ˆæ­¢åŒ¹é…ï¼Œä½¿ç”¨å¯¹åº”çš„locationï¼›\nå¦‚æœæ²¡æœ‰åŒ¹é…åˆ°æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™ä½¿ç”¨ä¹‹å‰å­˜å‚¨çš„å‰ç¼€å­—ç¬¦ä¸²å¯¹åº”çš„locationï¼Œè‡³æ­¤ï¼Œæ•´ä¸ªåŒ¹é…è¿‡ç¨‹ç»“æŸã€‚\nè·¯å¾„åŒ¹é… ä½¿ç”¨locationçš„æ—¶å€™ï¼Œä»£ç å—é‡Œä¸€èˆ¬ä¼šä½¿ç”¨rootæˆ–è€…aliasæˆ–è€…proxy_passä¸‹è¾¹è¯¦ç»†è¯´ä¸€ä¸‹proxy_passçš„ç”¨æ³•ã€‚\nproxy_pass Nginxçš„å®˜ç½‘å°†proxy_passåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š\nç§æ˜¯åªåŒ…å«IPå’Œç«¯å£å·çš„ï¼ˆè¿ç«¯å£ä¹‹åçš„/ä¹Ÿæ²¡æœ‰ï¼Œè¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„ï¼‰ï¼Œæ¯”å¦‚proxy_pass http://localhost:8080ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºä¸å¸¦URIæ–¹å¼ï¼›\nå¦ä¸€ç§æ˜¯åœ¨ç«¯å£å·ä¹‹åæœ‰å…¶ä»–è·¯å¾„çš„ï¼ŒåŒ…å«äº†åªæœ‰å•ä¸ª/çš„ï¼Œå¦‚proxy_pass http://localhost:8080/ï¼Œä»¥åŠå…¶ä»–è·¯å¾„ï¼Œæ¯”å¦‚proxy_pass http://localhost:8080/abcã€‚\nä¸å¸¦URIæ–¹å¼(ç›¸å¯¹è·¯å¾„) å¯¹äºä¸å¸¦URIæ–¹å¼ï¼ŒNginxå°†ä¼šä¿ç•™locationä¸­è·¯å¾„éƒ¨åˆ†ï¼Œæ¯”å¦‚ï¼š\u0026lt;\n1 2 3 location /api1/ { proxy_pass http://localhost:8080; } åœ¨è®¿é—®http://localhost/api1/xxxæ—¶ï¼Œä¼šä»£ç†åˆ°`http://localhost:8080/api1/xxx\nå¸¦URIæ–¹å¼(ç»å¯¹è·¯å¾„) å¯¹äºå¸¦URIæ–¹å¼ï¼Œnginxå°†ä½¿ç”¨è¯¸å¦‚aliasçš„æ›¿æ¢æ–¹å¼å¯¹URLè¿›è¡Œæ›¿æ¢ï¼Œå¹¶ä¸”è¿™ç§æ›¿æ¢åªæ˜¯å­—é¢ä¸Šçš„æ›¿æ¢ï¼Œæ¯”å¦‚ï¼š\n1 2 3 location /api2/ { proxy_pass http://localhost:8080/; } å½“è®¿é—®http://localhost/api2/xxxæ—¶ï¼Œhttp://localhost/api2/ï¼ˆæ³¨æ„æœ€åçš„/ï¼‰è¢«æ›¿æ¢æˆäº†http://localhost:8080/ï¼Œç„¶åå†åŠ ä¸Šå‰©ä¸‹çš„xxxï¼Œäºæ˜¯å˜æˆäº†http://localhost:8080/xxxã€‚ ä¸‹é¢å†ç»™ä¸€äº›ä¾‹å­æ¥å¸®åŠ©å¤§å®¶ç†è§£ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 server { listen 80; server_name localhost; # proxy_passä¸­çš„åŸŸåæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api1/ { proxy_pass http://localhost:8080; } # http://localhost/api1/xxx -\u0026gt; http://localhost:8080/api1/xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api2/ { proxy_pass http://localhost:8080/; } # http://localhost/api2/xxx -\u0026gt; http://localhost:8080/xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api3 { proxy_pass http://localhost:8080; } # http://localhost/api3/xxx -\u0026gt; http://localhost:8080/api3/xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api4 { proxy_pass http://localhost:8080/; } # http://localhost/api4/xxx -\u0026gt; http://localhost:8080//xxxï¼ŒåŒ¹é…åˆ°/api4/xxx,locationä¸­æ˜¯/api4éœ€å»æ‰å‰©ä¸‹/xxxï¼ŒåŠ ä¸Šproxy_passåˆ™æ˜¯//xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api5/ { proxy_pass http://localhost:8080/haha; } # http://localhost/api5/xxx -\u0026gt; http://localhost:8080/hahaxxxï¼ŒåŒ¹é…åˆ°/api5/xxx, å»æ‰locationä¸­çš„/api5/å‰©ä¸‹xxxï¼ŒåŠ ä¸Šproxy_passåˆ™æ˜¯hahaxxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api6/ { proxy_pass http://localhost:8080/haha/; } # http://localhost/api6/xxx -\u0026gt; http://localhost:8080/haha/xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api7 { proxy_pass http://localhost:8080/haha; } # http://localhost/api7/xxx -\u0026gt; http://localhost:8080/haha/xxx # proxy_passä¸­çš„åŸŸåæ˜¯ç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥ä¸ä¼šå¸¦ä¸Šlocationä¸­çš„è·¯å¾„ location /api8 { proxy_pass http://localhost:8080/haha/; } # http://localhost/api8/xxx -\u0026gt; http://localhost:8080/haha//xxxï¼ŒåŒ¹é…åˆ°/api8/xxx,å»æ‰locationä¸­çš„/api8å‰©ä¸‹/xxx,åŠ ä¸Šproxy_passåˆ™æ˜¯/haha//xxx } ä»¥ä¸Šå°±æ˜¯nginxä¸­locationçš„ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ¹é…è§„åˆ™ï¼Œä»¥åŠä»£ç å—ä¸­proxy_passçš„ä½¿ç”¨æ–¹æ³•ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚\n","date":"2023-08-30T14:57:18Z","permalink":"https://konghanghang.github.io/iminling-pages/2023/nginx-location-use-summary/","title":"nginxä¸­locationä½¿ç”¨æ–¹æ³•æ€»ç»“"},{"content":"\nnetflixä¸­æ–‡ååˆå«ç½‘é£æˆ–è€…å¥ˆé£ï¼Œåœ¨ä¸­å›½å¤§é™†æ˜¯æ— æ³•ç›´æ¥è§‚çœ‹çš„ï¼Œå½“æˆ‘ä»¬ä¹°äº†ä¸€ä¸ªvpsæ­å»ºèŠ‚ç‚¹ä»£ç†åæ­£å¸¸æƒ…å†µæ˜¯å¯ä»¥è§‚çœ‹çš„ï¼Œä½†æ˜¯å¥ˆé£å› ä¸ºç‰ˆæƒåŸå› ï¼Œæœ‰äº›vpsæœºå™¨å¹¶ä¸èƒ½å®Œæ•´çš„çœ‹å¥ˆé£çš„æ‰€æœ‰å†…å®¹ï¼Œè¿™æ—¶å°±å¼•å‡ºäº†å¦ä¸€ä¸ªæ¦‚å¿µï¼šå¥ˆé£è§£é”ã€‚ä¸€å°vpsè§‚çœ‹å¥ˆé£å¯ä»¥åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š\næ— æ³•è§‚çœ‹ï¼Œipæ¯”è¾ƒé»‘ï¼Œç›´æ¥è¿å¥ˆé£çš„å®˜ç½‘éƒ½æ— æ³•æ‰“å¼€ åªèƒ½è§‚çœ‹å¥ˆé£çš„è‡ªåˆ¶å‰§ï¼Œå› ä¸ºæ˜¯å¥ˆé£çš„è‡ªåˆ¶å‰§ï¼Œå°±æ²¡æœ‰æ‰€è°“çš„ä¸¥æ ¼ç‰ˆæƒï¼Œéƒ½å¯ä»¥çœ‹ã€‚å¤§éƒ¨åˆ†vpséƒ½æ˜¯è¿™ç§æƒ…å†µ å¯ä»¥è§‚çœ‹å¥ˆé£éè‡ªåˆ¶å‰§ã€‚å¯ä»¥è§‚çœ‹å¥ˆé£è´­ä¹°çš„å…¶ä»–çš„ç‰ˆæƒå‰§ã€‚ ä¸Šé¢æˆ‘ä»¬äº†è§£åˆ°äº†å¥ˆé£çš„ä¸€äº›é™åˆ¶ï¼Œæ‰€ä»¥ç½‘ä¸Šå°±æœ‰å¾ˆå¤šè§£é”æ•™ç¨‹ï¼Œé€šè¿‡warpï¼Œdnsç­‰æ¥è§£é”ã€‚æœ¬æ–‡çš„å‰ææ˜¯ä½ çš„vpsçš„ipv6æ˜¯è§£é”å¥ˆé£çš„éè‡ªåˆ¶å‰§çš„ã€‚\næˆ‘æ‰‹ä¸Šçš„è¿™å°vpså°±æ˜¯è¿™ç§æƒ…å†µï¼Œipv4åªèƒ½è§‚çœ‹è‡ªåˆ¶å‰§ï¼Œipv6å¯ä»¥è§‚çœ‹å¥ˆé£éè‡ªåˆ¶å‰§ï¼Œå…³äºæŸ¥çœ‹è‡ªå·±çš„vpsæ˜¯å¦è§£é”ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹è„šæœ¬æ¥éªŒè¯ï¼šbash \u0026lt;(curl -L -s check.unlock.media)\næˆ‘çš„æœºå™¨è§£é”æƒ…å†µå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 ** æ­£åœ¨æµ‹è¯•IPv4è§£é”æƒ…å†µ -------------------------------- ============[ Multination ]============ Dazn: No HotStar: No Disney+: Yes (Region: GB) Netflix: Originals Only YouTube Premium: Yes Amazon Prime Video: Yes (Region: HK) TVBAnywhere+: No iQyi Oversea Region: HK Viu.com: Yes (Region: HK) YouTube CDN: Hong Kong Netflix Preferred CDN: Hong Kong Spotify Registration: No Steam Currency: HKD ChatGPT: Yes ======================================= ** æ­£åœ¨æµ‹è¯•IPv6è§£é”æƒ…å†µ -------------------------------- ============[ Multination ]============ Dazn: Failed (Network Connection) HotStar: No Disney+: No Netflix: Yes (Region: HK) YouTube Premium: No (Region: CN) Amazon Prime Video: Unsupported TVBAnywhere+: Failed (Network Connection) iQyi Oversea Region: Failed Viu.com: Failed YouTube CDN: Hong Kong Netflix Preferred CDN: Hong Kong Spotify Registration: No Steam Currency: Failed (Network Connection) ChatGPT: Yes ======================================= æœ¬æ¬¡æµ‹è¯•å·²ç»“æŸï¼Œæ„Ÿè°¢ä½¿ç”¨æ­¤è„šæœ¬ å¯ä»¥çœ‹åˆ°ipv4çš„ç»“æœæ˜¯Originals Onlyå°±æ˜¯æ‰€è°“çš„åªèƒ½è§‚çœ‹è‡ªåˆ¶å‰§ï¼Œipv6å°±æ˜¯å®Œæ•´çš„è§£é”é¦™æ¸¯çš„å¥ˆé£çš„ã€‚\nä¸‹é¢æˆ‘ä»¬å°†ä½¿ç”¨xrayæ¥è¿›è¡Œåˆ†æµï¼Œä½¿è§‚çœ‹å¥ˆé£çš„æ—¶å€™èµ°ipv6ï¼Œè§‚çœ‹å¥ˆé£çš„éè‡ªåˆ¶å‰§ã€‚\nxrayå®‰è£… xrayå¯ä»¥ä½¿ç”¨å®˜æ–¹çš„å®‰è£…è„šæœ¬ï¼Œä¹Ÿå¯ä»¥å‚è€ƒæˆ‘çš„xuiå®‰è£…æ•™ç¨‹ï¼šx-uiå®‰è£…é…ç½®ä½¿ç”¨,å…·ä½“çš„å®‰è£…è¿™é‡Œå°±ä¸å†è¯¦ç»†è®²äº†ã€‚\né…ç½®èŠ‚ç‚¹ å…ˆå»ºä¸€ä¸ªå…¥ç«™èŠ‚ç‚¹ï¼Œå³æˆ‘ä»¬éœ€è¦è¿æ¥åˆ°è¿™å°vpsæ‰€ä½¿ç”¨çš„èŠ‚ç‚¹ï¼Œå¯ä»¥é€šè¿‡xuiæ¥é…ç½®ï¼ŒèŠ‚ç‚¹ç±»å‹æ ¹æ®è‡ªå·±çš„æƒ…å†µé…ç½®(vless,vmess,ssç­‰éƒ½å¯ä»¥ï¼Œæ¯”è¾ƒç¨³çš„è¿˜æ˜¯vless)ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„æ•™ç¨‹æ¥æ­å»ºvlessèŠ‚ç‚¹ï¼šxrayæ­å»ºrealityå’Œç½‘ç«™å…±ç”¨443ç«¯å£å¯ç”¨ç½‘ç«™SSLï¼Œæˆ‘è¿™é‡Œä¸ºäº†ç®€å•ç›´æ¥æ­å»ºä¸€ä¸ªssçš„èŠ‚ç‚¹ï¼Œä¸‹è¾¹ç›´æ¥è´´å‡ºxrayçš„å…·ä½“é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 { \u0026#34;routing\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;IPIfNonMatch\u0026#34;, \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;inboundTag\u0026#34;: [ \u0026#34;api\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;api\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;blocked\u0026#34;, \u0026#34;protocol\u0026#34;: [ \u0026#34;bittorrent\u0026#34; ] } ] }, \u0026#34;dns\u0026#34;: null, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: null, \u0026#34;port\u0026#34;: 24567, \u0026#34;protocol\u0026#34;: \u0026#34;shadowsocks\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;method\u0026#34;: \u0026#34;aes-256-gcm\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;WqOQzCxMwdfeegegOK36n\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;tcp,udp\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;tcpSettings\u0026#34;: { \u0026#34;header\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;acceptProxyProtocol\u0026#34;: false } }, \u0026#34;tag\u0026#34;: \u0026#34;inbound-13103\u0026#34;, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;, \u0026#34;quic\u0026#34; ] } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} }, { \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: {} } ], \u0026#34;stats\u0026#34;: {}, \u0026#34;reverse\u0026#34;: null, \u0026#34;fakeDns\u0026#34;: null } å¦‚ä¸Šå°±æ˜¯ä¸€ä¸ªssçš„å®Œæ•´é…ç½®ï¼Œç›´æ¥è¿è¡Œxrayæ ¸å¿ƒå°±å¯ä»¥è®¿é—®äº†ã€‚ä¸Šè¾¹çš„é…ç½®æ‰€æœ‰çš„ç½‘ç»œéƒ½è¿˜æ˜¯ä½¿ç”¨çš„ipv4æ¥è¿›è¡Œä»£ç†è®¿é—®çš„ã€‚\né…ç½®å¥ˆé£ipv6å‡ºç«™ è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°xrayçš„åˆ†æµç­–ç•¥ï¼Œéœ€è¦åœ¨routingé…ç½®ä¸­è¿›è¡Œåˆ†æµé…ç½®ï¼Œç„¶ååœ¨outboundsä¸­é…ç½®å…·ä½“çš„ç­–ç•¥ã€‚å…³äºåˆ†æµå‚è€ƒå®˜æ–¹çš„æ•™ç¨‹ï¼šruleObject,ruleObjectçš„è§„åˆ™å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 { \u0026#34;domainMatcher\u0026#34;: \u0026#34;hybrid\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;domain\u0026#34;: [\u0026#34;baidu.com\u0026#34;, \u0026#34;qq.com\u0026#34;, \u0026#34;geosite:cn\u0026#34;], \u0026#34;ip\u0026#34;: [\u0026#34;0.0.0.0/8\u0026#34;, \u0026#34;10.0.0.0/8\u0026#34;, \u0026#34;fc00::/7\u0026#34;, \u0026#34;fe80::/10\u0026#34;, \u0026#34;geoip:cn\u0026#34;], \u0026#34;port\u0026#34;: \u0026#34;53,443,1000-2000\u0026#34;, \u0026#34;sourcePort\u0026#34;: \u0026#34;53,443,1000-2000\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;source\u0026#34;: [\u0026#34;10.0.0.1\u0026#34;], \u0026#34;user\u0026#34;: [\u0026#34;love@xray.com\u0026#34;], \u0026#34;inboundTag\u0026#34;: [\u0026#34;tag-vmess\u0026#34;], \u0026#34;protocol\u0026#34;: [\u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;, \u0026#34;bittorrent\u0026#34;], \u0026#34;attrs\u0026#34;: { \u0026#34;:method\u0026#34;: \u0026#34;GET\u0026#34; }, \u0026#34;outboundTag\u0026#34;: \u0026#34;direct\u0026#34;, \u0026#34;balancerTag\u0026#34;: \u0026#34;balancer\u0026#34; } è¿™é‡Œè¾¹çš„å±æ€§ï¼Œå¦‚æœé…ç½®å¤šä¸ªåˆ™æ˜¯è¦å¤šä¸ªåŒæ—¶åŒ¹é…ä¸­æ‰èƒ½ç”Ÿæ•ˆï¼Œä¸‹è¾¹æˆ‘è´´å‡ºé…ç½®å¥ˆé£çš„é…ç½®ï¼š\n1 2 3 4 5 6 7 { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;domain\u0026#34;: [ \u0026#34;geosite:netflix\u0026#34; ] } æˆ‘è¿™é‡Œä½¿ç”¨domainæ¥é…ç½®æ‰€æœ‰netflixçš„ç½‘å€ï¼Œç„¶åä½¿ç”¨outboundTagæ¥æŒ‡å®šå¦‚æœåŒ¹é…ä¸­netflixçš„ç½‘å€ï¼Œåº”è¯¥ä½¿ç”¨netflix-tagæ¥è¿›è¡Œå‡ºç«™è®¿é—®ï¼Œè¿™ä¸ªnetflix-tagåç§°æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒéœ€è¦å’Œæ¥ä¸‹æ¥è®²çš„outbondsä¸­çš„å±æ€§åŒ¹é…ï¼Œoutboudsçš„é…ç½®å¯ä»¥å‚è€ƒxrayå®˜æ–¹æ–‡æ¡£ï¼šoutboudsObject,outboudsObjectçš„è§„åˆ™å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 { \u0026#34;outbounds\u0026#34;: [ { \u0026#34;sendThrough\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;åè®®åç§°\u0026#34;, \u0026#34;settings\u0026#34;: {}, \u0026#34;tag\u0026#34;: \u0026#34;æ ‡è¯†\u0026#34;, \u0026#34;streamSettings\u0026#34;: {}, \u0026#34;proxySettings\u0026#34;: { \u0026#34;tag\u0026#34;: \u0026#34;another-outbound-tag\u0026#34; }, \u0026#34;mux\u0026#34;: {} } ] } ä¸‹è¾¹æˆ‘è´´å‡ºå…·ä½“çš„é…ç½®ï¼š\n1 2 3 4 5 6 7 { \u0026#34;tag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;UseIPv6\u0026#34; } } tagå’Œroutingä¸‹çš„ruleobjectä¸­çš„tagå¯¹åº”ï¼Œç»è¿‡ä¸Šè¾¹çš„ä¸¤ä¸ªé…ç½®å°±å¯ä»¥ä½¿å¥ˆé£é€šè¿‡ipv6å‡ºç«™äº†ã€‚\nå®Œæ•´é…ç½® å®Œæ•´çš„xrayé…ç½®config.jsonå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 { \u0026#34;routing\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;IPIfNonMatch\u0026#34;, \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;inboundTag\u0026#34;: [ \u0026#34;api\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;api\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;domain\u0026#34;: [ \u0026#34;geosite:netflix\u0026#34; ] }, { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;blocked\u0026#34;, \u0026#34;protocol\u0026#34;: [ \u0026#34;bittorrent\u0026#34; ] } ] }, \u0026#34;dns\u0026#34;: null, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: null, \u0026#34;port\u0026#34;: 13103, \u0026#34;protocol\u0026#34;: \u0026#34;shadowsocks\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;method\u0026#34;: \u0026#34;aes-256-gcm\u0026#34;, \u0026#34;password\u0026#34;: \u0026#34;WqOQzCxMwdfeegegOK36n\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;tcp,udp\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;tcpSettings\u0026#34;: { \u0026#34;header\u0026#34;: { \u0026#34;type\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;acceptProxyProtocol\u0026#34;: false } }, \u0026#34;tag\u0026#34;: \u0026#34;inbound-13103\u0026#34;, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34;, \u0026#34;quic\u0026#34; ] } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} }, { \u0026#34;tag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;UseIPv6\u0026#34; } }, { \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: {} } ], \u0026#34;stats\u0026#34;: {}, \u0026#34;reverse\u0026#34;: null, \u0026#34;fakeDns\u0026#34;: null } ä¸‹è¾¹ä¹Ÿç»™å‡ºåœ¨x-uiä¸­çš„é…ç½®ï¼Œå…·ä½“é…ç½®ä½ç½®æ˜¯ç™»å½•x-uiåå·¦ä¾§èœå•ï¼šé¢æ¿è®¾ç½®ï¼Œç„¶åç‚¹å‡»åˆ°xrayé…ç½®ï¼Œç„¶åæŠŠä¸‹è¾¹çš„é…ç½®ç²˜è´´åˆ°é…ç½®æ¨¡æ¿ä¸­å°±å¯ä»¥äº†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 { \u0026#34;api\u0026#34;: { \u0026#34;services\u0026#34;: [ \u0026#34;HandlerService\u0026#34;, \u0026#34;LoggerService\u0026#34;, \u0026#34;StatsService\u0026#34; ], \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, \u0026#34;port\u0026#34;: 62789, \u0026#34;protocol\u0026#34;: \u0026#34;dokodemo-door\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;address\u0026#34;: \u0026#34;127.0.0.1\u0026#34; }, \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34; } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} }, { \u0026#34;tag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;domainStrategy\u0026#34;: \u0026#34;UseIPv6\u0026#34; } }, { \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: {}, \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34; } ], \u0026#34;policy\u0026#34;: { \u0026#34;levels\u0026#34;: { \u0026#34;0\u0026#34;: { \u0026#34;handshake\u0026#34;: 10, \u0026#34;connIdle\u0026#34;: 100, \u0026#34;uplinkOnly\u0026#34;: 2, \u0026#34;downlinkOnly\u0026#34;: 3, \u0026#34;statsUserUplink\u0026#34;: true, \u0026#34;statsUserDownlink\u0026#34;: true, \u0026#34;bufferSize\u0026#34;: 10240 } }, \u0026#34;system\u0026#34;: { \u0026#34;statsInboundDownlink\u0026#34;: true, \u0026#34;statsInboundUplink\u0026#34;: true } }, \u0026#34;routing\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;inboundTag\u0026#34;: [ \u0026#34;api\u0026#34; ], \u0026#34;outboundTag\u0026#34;: \u0026#34;api\u0026#34;, \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;netflix-tag\u0026#34;, \u0026#34;domain\u0026#34;: [ \u0026#34;geosite:netflix\u0026#34; ] } ] }, \u0026#34;stats\u0026#34;: {} } ç»è¿‡ä¸Šè¾¹çš„é…ç½®ï¼Œæ­£ç¡®çš„åˆ›å»ºèŠ‚ç‚¹ï¼Œå°±å¯ä»¥æ„‰å¿«çš„é€šè¿‡ipv4å…¥ç«™ï¼Œç„¶åé€šè¿‡ipv6å‡ºç«™å»è®¿é—®netflixç½‘ç«™äº†ï¼Œäº«å—è§£é”çš„å¿«ä¹ã€‚å½“ç„¶ä¸Šè¾¹çš„é…ç½®åªæ˜¯netflixæ‰èµ°ipv6å‡ºç«™ï¼Œå…¶ä»–çš„ç½‘ç«™è¿˜æ˜¯é€šè¿‡ipv4æ¥å‡ºç«™ï¼Œå¦‚æœæƒ³è¦è®©å…¶ä»–ä»€ä¹ˆç½‘ç«™ä¹Ÿé€šè¿‡ipv6å‡ºç«™ï¼Œå°±éœ€è¦åœ¨routingä¸­é…ç½®ruleObjectæ¥è¾¾åˆ°ç›®çš„ã€‚\nxuiç½‘é¡µé…ç½®(å¦ä¸€ç§æ–¹æ³•) ä¸Šè¾¹ä»‹ç»çš„æ˜¯çº¯æ‰‹å·¥çš„å»å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œç¼–è¾‘çš„æ–¹å¼ï¼Œæœ€è¿‘xuiæ›´æ–°åï¼Œè¿™äº›é…ç½®å¯ä»¥åœ¨ç½‘é¡µç«¯è¿›è¡Œå›¾å½¢åŒ–çš„æ“ä½œï¼Œå¤§å¤§é™ä½äº†å¯¹æ–°æ‰‹çš„éš¾åº¦ï¼Œä¸‹è¾¹æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨xuiç½‘é¡µç«¯æ¥å¯¹netflixç”±IPv6å¤„ç«™åšé…ç½®ã€‚å¦‚æœå¯¹xuiè¿˜ä¸çŸ¥é“å¦‚ä½•ä½¿ç”¨çš„åŒå­¦å¯ä»¥å‚è€ƒæˆ‘çš„æ–‡ç« æ¥å®‰è£…é…ç½®xuiï¼šx-uiå®‰è£…é…ç½®ä½¿ç”¨.\nå‡ºç«™é…ç½® ç™»å½•xuiç½‘ç«™ï¼Œèœå•æ æœ‰ä¸€ä¸ªxrayè®¾ç½®ä¸€çº§èœå•ï¼š\nç‚¹å¼€xrayè®¾ç½®åçœ‹åˆ°æœ‰å››ä¸ªtabé¡µï¼šåŸºæœ¬æ¨¡æ¿ã€è·¯ç”±è§„åˆ™ã€å‡ºç«™å’Œé«˜çº§æ¨¡æ¿éƒ¨ä»¶ã€‚åœ¨ä¸Šè¾¹çº¯æ‰‹å·¥é…ç½®xrayçš„æ—¶å€™ä¹Ÿæåˆ°è¿‡ï¼Œéœ€è¦æœ‰ä¸€ä¸ªoutboudå’Œä¸€ä¸ªroutingï¼Œåœ¨xuiçš„ç½‘é¡µä¸Šå…¶å®å°±å¯¹åº”å‡ºç«™(outbond)ä»¥åŠè·¯ç”±è§„åˆ™(routing)ã€‚æ‰€ä»¥åœ¨ç½‘é¡µç«¯é…ç½®è¿™ä¸¤ä¸ªå°±å¯ä»¥äº†ï¼Œå…ˆæ¥é…ç½®å‡ºç«™ï¼Œæ·»åŠ ä¸€ä¸ªfreedomç±»å‹çš„èŠ‚ç‚¹ï¼š\nåè®®ï¼šfreedom\næ ‡ç­¾ï¼šå…¨å±€å”¯ä¸€(è‹±æ–‡)ï¼Œç­‰ä¸‹è¦åœ¨è·¯ç”±è§„åˆ™é‚£é‡Œè¿›è¡Œé€‰æ‹©\nstrategyï¼šé€‰æ‹©ä½¿ç”¨IPv6\nç„¶åç‚¹å‡»ä¿å­˜å°±åˆ›å»ºå¥½äº†ä¸€ä¸ªå‡ºç«™è§„åˆ™äº†ï¼Œæ­¤æ—¶å‡ºç«™è§„åˆ™å¹¶æ²¡æœ‰ä»»ä½•è·¯ç”±è§„åˆ™å¼•ç”¨åˆ°å®ƒï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæœ‰ä»»ä½•ä½œç”¨ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦åœ¨è·¯ç”±è§„åˆ™ä¸­è¿›è¡Œå¼•ç”¨ï¼Œä½¿ç‰¹å®šç½‘ç«™ä½¿ç”¨IPv6è¿›è¡Œå‡ºç«™è®¿é—®ã€‚\nè·¯ç”±è§„åˆ™é…ç½® å¦‚ä¸‹å›¾ï¼Œæ·»åŠ ä¸€ä¸ªè·¯ç”±è§„åˆ™ï¼ŒOutbound Tagå°±æ˜¯åˆšæ‰æ·»åŠ çš„å‡ºç«™é…ç½®çš„æ ‡ç­¾ï¼Œæ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºæ˜¯è¦è®¾ç½®netflixä½¿ç”¨IPv6ï¼Œæ‰€ä»¥Domainé‚£é¡¹é…ç½®å°±æŠŠnetflixçš„åŸŸåè§„åˆ™å†™è¿›å»ï¼Œè¿™é‡Œçš„é…ç½®æ˜¯ ä¸” çš„å…³ç³»ï¼Œæ‰€ä»¥å¦‚æœéœ€è¦æ›´çµæ´»çš„é…ç½®å¯ä»¥è‡ªå·±æ·»åŠ ã€‚ä¾‹å¦‚æˆ‘åªæƒ³æŸä¸ªç”¨æˆ·åœ¨è®¿é—®netflixçš„æ—¶å€™ä½¿ç”¨IPv6å‡ºç«™ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨Useré‡ŒæŠŠè¿™ä¸ªç”¨æˆ·çš„ä¿¡æ¯é…ç½®è¿›å»ï¼Œå…·ä½“ç”¨æˆ·æ˜¯ä»€ä¹ˆï¼Œæ˜¯æˆ‘ä»¬åœ¨æ·»åŠ èŠ‚ç‚¹çš„æ—¶å€™æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æ±‚å¡«ä¸€ä¸ªé‚®ç®±ï¼Œé‚®ç®±å³ç”¨æˆ·ã€‚\né…ç½®å¥½åå°±å¯ä»¥é‡å¯ä¸€ä¸‹xrayï¼Œè§„åˆ™å°±ç”Ÿæ•ˆäº†ã€‚\nå¥½äº†æœ¬æ–‡çš„æ•™ç¨‹å°±åˆ°è¿™é‡Œï¼Œç¥å¤§å®¶éƒ½å¯ä»¥æˆåŠŸçš„æ­å»ºæˆåŠŸã€‚\n","date":"2023-08-13T15:13:49Z","image":"https://images.iminling.com/app/hide.php?key=a3J1MHlDOU5KWjlodHdVUnJyQm5EckxmcmwvMmVoVjRqdHNheGcveTM3ZUlqTWRjb0IyUCtZM0x6cUFzbFFQb2MvS1QrLzQ9","permalink":"https://konghanghang.github.io/iminling-pages/2023/xray-use-ipv6-unlock-netflix/","title":"xrayåˆ†æµä½¿ç”¨IPV6è§£é”netflix"},{"content":"æ—¥å¸¸å¼€å‘ä¸­éƒ½æœ‰ä½¿ç”¨åˆ°dockerï¼Œä¸€ç›´å¯¹dockerçš„ç½‘ç»œä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæ‰€ä»¥èŠ±äº†ç‚¹æ—¶é—´äº†è§£ä¸€ä¸‹dockerçš„ç½‘ç»œï¼Œè¿™é‡Œå¯¹äº†è§£çš„çŸ¥è¯†è¿›è¡Œä¸€ä¸‹æ€»ç»“ã€‚\nå½“æˆ‘ä»¬å®‰è£…å¥½dockeråï¼Œdockeré»˜è®¤ç»™æˆ‘ä»¬åˆ›å»ºäº†3ä¸ªç½‘ç»œï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 ubuntu@VM-20-3-ubuntu:~$ docker network ls NETWORK ID NAME DRIVER SCOPE cde83331f977 bridge bridge local 0e504852d7be host host local cdc83d5d9388 none null local åˆ†åˆ«æ˜¯bridge,hostå’Œnoneã€‚ä¸‹è¾¹æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹è¿™ä¸‰ç§ç½‘ç»œçš„åŒºåˆ«ã€‚\nbridgeç½‘ç»œ æ¡¥æ¥ç½‘ç»œä¹Ÿæ˜¯dockerçš„é»˜è®¤ç½‘ç»œï¼Œå½“æˆ‘ä»¬å®‰è£…å¥½dockeråï¼Œdockerä¼šåœ¨å®¿ä¸»æœºåˆ›å»ºä¸€ä¸ªç½‘å¡docker0ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 52:54:00:ee:63:60 brd ff:ff:ff:ff:ff:ff inet 10.0.20.3/22 brd 10.0.23.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:ff::6360/64 scope link valid_lft forever preferred_lft forever 3: docker0: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state DOWN group default link/ether 02:42:0c:be:59:f7 brd ff:ff:ff:ff:ff:ff inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0 valid_lft forever preferred_lft forever inet6 fe80::42:cff:febe:59f7/64 scope link valid_lft forever preferred_lft forever å¦‚ä¸Šï¼Œdocker0ç½‘ç»œå°±æ˜¯dockeré»˜è®¤çš„ç½‘ç»œï¼Œä»–çš„ç½‘å…³æ˜¯172.17.0.1,æˆ‘ä»¬å¯ä»¥å…ˆæŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªbridgeç½‘ç»œçš„æƒ…å†µ(å·²å»é™¤å¤šä½™å±æ€§)ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ubuntu@VM-20-3-ubuntu:~$ docker inspect bridge [ { \u0026#34;Name\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;cde83331f977b86b4eaa67fe05ea18e493691fd0d3fc5edc51dec4e62a512d37\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2022-08-25T20:37:27.17350164+08:00\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: false, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Config\u0026#34;: [ { \u0026#34;Subnet\u0026#34;: \u0026#34;172.17.0.0/16\u0026#34;, \u0026#34;Gateway\u0026#34;: \u0026#34;172.17.0.1\u0026#34; } ] }, \u0026#34;Containers\u0026#34;: {} } ] subnetå’Œdocker0æ˜¯ä¸€æ ·çš„ï¼Œcontainersé‚£é‡Œæš‚æ—¶ä¹Ÿæ˜¯æ²¡æœ‰å®¹å™¨ï¼Œå½“æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ¥ä½¿ç”¨é»˜è®¤çš„bridgeç½‘ç»œçš„æ—¶å€™ï¼Œè¿™é‡Œè¾¹å°±ä¼šæœ‰å¯¹åº”çš„å®¹å™¨äº†ã€‚\næˆ‘ä»¬æ¥å¯åŠ¨ä¸€ä¸ªnginxå®¹å™¨ï¼Œç„¶åå†æ¥æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç½‘ç»œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 ubuntu@VM-20-3-ubuntu:~$ docker run -d --name nginx-test nginx:1.22.0 4ee2915a41fa9ed6e2591f852789f5762343e3de5bdabe718896778305df3569 ubuntu@VM-20-3-ubuntu:~$ docker inspect bridge [ { \u0026#34;Name\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;cde83331f977b86b4eaa67fe05ea18e493691fd0d3fc5edc51dec4e62a512d37\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2022-08-25T20:37:27.17350164+08:00\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: false, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Config\u0026#34;: [ { \u0026#34;Subnet\u0026#34;: \u0026#34;172.17.0.0/16\u0026#34;, \u0026#34;Gateway\u0026#34;: \u0026#34;172.17.0.1\u0026#34; } ] }, \u0026#34;Containers\u0026#34;: { \u0026#34;4ee2915a41fa9ed6e2591f852789f5762343e3de5bdabe718896778305df3569\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;nginx-test\u0026#34;, \u0026#34;EndpointID\u0026#34;: \u0026#34;f518fa3072bbabc3de35577e5dc99570e8e3604e23a19911473b83fe90a85d73\u0026#34;, \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:ac:11:00:02\u0026#34;, \u0026#34;IPv4Address\u0026#34;: \u0026#34;172.17.0.2/16\u0026#34;, \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; } } } ] containersä¸­å·²ç»æœ‰åˆšæ‰åˆ›å»ºçš„nginxçš„å®¹å™¨äº†ã€‚å¦‚æœè¯¥å®¹å™¨æƒ³è¦å’Œå¤–ç•Œè¿›è¡Œäº¤äº’å°±éœ€è¦æš´éœ²ç«¯å£å‡ºæ¥ï¼Œç„¶åå¤–ç•Œæ‰èƒ½å’Œä»–è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œå¦åˆ™å°±åªèƒ½ä»å®¹å™¨å†…éƒ¨è®¿é—®åˆ°å¤–éƒ¨ï¼Œè€Œæ— æ³•ä»å¤–éƒ¨è®¿é—®åˆ°å®¹å™¨å†…éƒ¨ã€‚\n1 2 3 ubuntu@VM-20-3-ubuntu:~$ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4ee2915a41fa nginx:1.22.0 \u0026#34;/docker-entrypoint.â€¦\u0026#34; 2 minutes ago Up 2 minutes 80/tcp nginx-test æˆ‘ä»¬åˆšæ‰çš„å®¹å™¨ï¼Œå†…éƒ¨ä¼šæš´éœ²80ç«¯å£ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å’Œå¤–éƒ¨çš„ç«¯å£æ˜ å°„ï¼Œéœ€è¦åœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™åŠ ä¸Š-vå‚æ•°æ¥æ˜ å°„ç«¯å£ï¼Œè¿™é‡Œå°±ä¸å†æ¼”ç¤ºäº†ã€‚\nåœ¨é»˜è®¤bridgeç½‘ç»œä¸‹çš„å®¹å™¨æ˜¯æ— æ³•ç›¸äº’é€šè¿‡å®¹å™¨åç§°è¿›è¡Œé€šä¿¡çš„ï¼Œå› ä¸ºæ²¡æœ‰è¿›è¡Œnameçš„ä¸»æœºè§£æï¼Œå¦‚æœéœ€è¦è®©å¤šä¸ªå®¹å™¨é€šè¿‡nameè¿›è¡Œè®¿é—®ï¼Œå°±éœ€è¦æˆ‘ä»¬åˆ›å»ºè‡ªå·±çš„bridgeç½‘ç»œäº†ã€‚åˆ›å»ºå‘½ä»¤å¦‚ä¸‹ï¼š\n1 docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet ä¸Šè¾¹å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªmynetçš„æ¡¥æ¥ç½‘ç»œï¼Œç„¶ååœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªç½‘ç»œï¼Œä¸åŒçš„å®¹å™¨é—´å°±å¯ä»¥ä½¿ç”¨å®¹å™¨åè¿›è¡Œç½‘ç»œè®¿é—®ï¼Œåˆ›å»ºå®¹å™¨å‘½ä»¤ï¼š\n1 ubuntu@VM-20-3-ubuntu:~$ docker run -d --network mynet --name nginx-test nginx:1.22.0 é€šè¿‡\u0026ndash;networkæŒ‡å®šå®¹å™¨å·¥ä½œçš„ç½‘ç»œã€‚\nhostç½‘ç»œ hosté¡¾åæ€ä¹‰å°±æ˜¯å’Œå®¿ä¸»æœºå…±ç”¨åŒä¸€ä¸ªç½‘ç»œï¼Œå®¹å™¨æ²¡æœ‰å’Œå®¿ä¸»æœºå¾ˆå¥½çš„éš”ç¦»ï¼Œå®¹å™¨å ç”¨çš„ç«¯å£å°±æ˜¯å®¿ä¸»æœºçš„ç«¯å£ï¼Œè¢«å®¹å™¨å ç”¨çš„ç«¯å£å®¿ä¸»æœºé‡Œçš„ç¨‹åºå°±æ²¡åŠæ³•ä½¿ç”¨ï¼Œå®¹å™¨é‡Œå¯ä»¥ç›´æ¥è®¿é—®å®¿ä¸»æœºçš„å…¶ä»–åº”ç”¨ç¨‹åºæœåŠ¡ï¼Œæ— éœ€ç»è¿‡å…¶ä»–ç‰¹æ®Šçš„è®¾ç½®ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 ubuntu@VM-20-3-ubuntu:~$ docker inspect host [ { \u0026#34;Name\u0026#34;: \u0026#34;host\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;0e504852d7be83b42232d744a36504266c52cca3f1647eaeaa9d090117826924\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2022-05-20T13:41:40.594740985+08:00\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;host\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: false, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Config\u0026#34;: [] }, \u0026#34;Internal\u0026#34;: false, \u0026#34;Attachable\u0026#34;: false, \u0026#34;Ingress\u0026#34;: false, \u0026#34;ConfigFrom\u0026#34;: { \u0026#34;Network\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;ConfigOnly\u0026#34;: false, \u0026#34;Containers\u0026#34;: {}, \u0026#34;Options\u0026#34;: {}, \u0026#34;Labels\u0026#34;: {} } ] æˆ‘ä»¬ä½¿ç”¨hostæ¨¡å¼åˆ›å»ºçš„å®¹å™¨ä¹Ÿä¸ä¼šæ˜¾ç¤ºåœ¨containersé‡Œè¾¹ã€‚\nnoneç½‘ç»œ åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œdockerå®¹å™¨æ²¡æœ‰ä»»ä½•ç½‘ç»œè®¾ç½®ï¼Œæ— æ³•è®¿é—®å®¿ä¸»æœºç½‘ç»œï¼Œå®¿ä¸»æœºä¹Ÿæ²¡åŠæ³•è®¿é—®å®¹å™¨çš„ç½‘ç»œï¼Œåšåˆ°äº†å¾ˆå¥½çš„éš”ç¦»ï¼Œå¼€å‘ä¸­ä¹Ÿå¾ˆå°‘ç”¨åˆ°ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 ubuntu@VM-20-3-ubuntu:~$ docker inspect none [ { \u0026#34;Name\u0026#34;: \u0026#34;none\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;cdc83d5d9388583dcee94758821adcd70f57825cbb05f2bcab726d484e9e9fdb\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2022-05-20T13:41:40.580477496+08:00\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;null\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: false, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Config\u0026#34;: [] }, \u0026#34;Internal\u0026#34;: false, \u0026#34;Attachable\u0026#34;: false, \u0026#34;Ingress\u0026#34;: false, \u0026#34;ConfigFrom\u0026#34;: { \u0026#34;Network\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;ConfigOnly\u0026#34;: false, \u0026#34;Containers\u0026#34;: {}, \u0026#34;Options\u0026#34;: {}, \u0026#34;Labels\u0026#34;: {} } ] æˆ‘ä»¬æ­£å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿˜æ˜¯bridgeç½‘ç»œç”¨çš„å¤šä¸€äº›ï¼Œå› ä¸ºå„æœåŠ¡éƒ½æ˜¯éœ€è¦ç›¸äº’è°ƒç”¨çš„ï¼Œè¦åšåˆ°ç½‘ç»œäº’é€šã€‚ä»¥ä¸Šå°±æ˜¯å¯¹dockerä¸‰ç§æ¨¡å¼çš„ä¸€äº›æ€»ç»“ã€‚\n","date":"2023-08-07T21:29:16Z","image":"https://images.iminling.com/app/hide.php?key=alYxQXJQb1dGYk9kMFhXVUtHR2NKNElMWkFmL2JGekd5a09YNmNzbWJBSERqeWR2OUFTTXo1a25MZGRPS2JlKytwUFgvQWs9","permalink":"https://konghanghang.github.io/iminling-pages/2023/introduction-to-docker-network-mode/","title":"dockerç½‘ç»œæ¨¡å¼ç®€ä»‹"},{"content":" Nginx (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨Â ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†IMAP/POP3/SMTPæœåŠ¡ï¼Œæ˜¯ä¸ªè½¯ä»¶è‚¯å®šéƒ½ä¼šå¤šå¤šå°‘å°‘æœ‰ä¸€äº›æ¼æ´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦éšè—nginxçš„ç‰ˆæœ¬å·ï¼Œè®©æ”»å‡»è€…æ²¡é‚£ä¹ˆå®¹æ˜“å¾ˆå¿«çš„æ”»ç ´æˆ‘ä»¬çš„ç½‘ç«™ã€‚ nginxå®˜æ–¹æä¾›äº†å…³é—­æ˜¾ç¤ºç‰ˆæœ¬å·çš„æ–¹æ³•ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦æ·»åŠ server_tokens offå°±å¯ä»¥äº†ï¼Œserver_tokenså¯ä»¥åˆ°http,serverå’Œlocationå—ä¸­ï¼Œæˆ‘ä»¬æ‰¾ä¸€ä¸ªåˆé€‚çš„ä½ç½®æ·»åŠ è¿›å»å°±å¯ä»¥äº†ã€‚ æ·»åŠ å‰ æ²¡æœ‰æ·»åŠ ä¹‹å‰è¯·æ±‚ç½‘ç«™ä¿¡æ¯å¦‚ä¸‹ï¼š ```bash $ curl -I https://www.iminling.com HTTP/2 200 server: nginx/2.24.2 date: Sun, 06 Aug 2023 03:02:12 GMT content-type: text/html; charset=UTF-8 x-powered-by: PHP link: ; rel=\"https://api.w.org/\" ``` å¦‚ä¸Šï¼Œserverä¸­ä¼šæŠŠnginxçš„å®Œæ•´ç‰ˆæœ¬å·ä¿¡æ¯å±•ç¤ºå‡ºæ¥ã€‚\næ·»åŠ server_token æˆ‘è¿™é‡ŒæŠŠserver_tokenæ·»åŠ åˆ°serverå—ä¸­ï¼Œå¦‚ä¸‹ï¼š\nserver { listen 8443 ssl http2; server_name www.iminling.com; index index.php index.html index.htm; root /var/www/html; server_tokens off; # æ·»åŠ server_tokenså±è”½æ˜¾ç¤ºç‰ˆæœ¬å· include conf.d/ssl_params.conf; location / { try_files $uri $uri/ /index.php$is_args$args; } } å¦‚ä¸Šï¼Œåœ¨serverä¸­æ·»åŠ server_tokensä¸ºoffï¼Œç„¶åæˆ‘ä»¬å†å»éªŒè¯ä¸€ä¸‹ã€‚\næ·»åŠ å å†æ¥çœ‹ä¸€ä¸‹è¯·æ±‚ç½‘ç«™çš„ä¿¡æ¯ï¼š\n1 2 3 4 5 6 7 $ curl -I https://www.iminling.com HTTP/2 200 server: nginx date: Sun, 06 Aug 2023 03:02:31 GMT content-type: text/html; charset=UTF-8 x-powered-by: PHP link: \u0026lt;https://www.iminling.com/wp-json/\u0026gt;; rel=\u0026#34;https://api.w.org/\u0026#34; å¦‚ä¸Šï¼Œserveré‡Œåªæ˜¾ç¤ºäº†nginxã€‚\nç»è¿‡ä¸Šè¾¹çš„é…ç½®å°±å¯ä»¥éšè—nginxçš„ç‰ˆæœ¬å·äº†ã€‚\n","date":"2023-08-05T19:21:16Z","image":"https://images.iminling.com/app/hide.php?key=eEZmbmFBSW14MCtoRHpiR0RHeW52cHZqTmNJRU1Zblg0cCtiYWo1Z3VSbHNiNUY2cHF0OHJKZHlpbGVCQUpGRVRMWmRwYXM9","permalink":"https://konghanghang.github.io/iminling-pages/2023/nginx-hides-version-number/","title":"nginxé…ç½®éšè—ç‰ˆæœ¬å·æå‡å®‰å…¨"},{"content":"å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªvpsï¼Œåˆæƒ³éƒ¨ç½²ç½‘ç«™åŒæ—¶åˆæƒ³æ­å»ºä»£ç†ï¼Œå½“ç„¶ä¸¤ä¸ªç¨‹åºå¯ä»¥åˆ†å¼€å ç”¨ç«¯å£ï¼Œåšåˆ°ä¸å†²çªï¼Œä½†æ˜¯æ„Ÿè§‰ä¸æ€ä¹ˆä¼˜é›…ï¼Œæ‰€ä»¥æƒ³è¦è®©ä¸¤ä¸ªç¨‹åºéƒ½å»å…±ç”¨ä¸€ä¸ª443ç«¯å£ï¼Œè¿™æ ·å­ç½‘ç«™å¯ä»¥ä½¿ç”¨åŸŸåå¹¶å¼€å¯sslï¼Œä»£ç†ä¹Ÿå¯ä»¥ä½¿ç”¨443(å¿ƒç†ä½œç”¨ï¼Œæ„Ÿè§‰ä»£ç†èµ°443ä¼šæ›´å¥½ä¸€äº›ï¼Œæ¯•ç«Ÿä»£ç†ä½¿ç”¨äº†sslï¼Œèµ°å…¶ä»–ç«¯å£æ€ªæ€ªçš„)ã€‚ä¸‹é¢å°±å¼€å¯æŠ˜è…¾ä¹‹è·¯ã€‚\nä»£ç†åè®® ç›®å‰æ¯”è¾ƒç¨³å®šçš„åè®®è¦æ•°realityäº†ï¼Œæ‰€ä»¥è‡ªå·±æ­å»ºçš„ä»£ç†ä¹Ÿæ˜¯ä½¿ç”¨realityï¼Œrealityå¯ä»¥ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åŸŸåçš„è¯ä¹¦ï¼šå°±æ˜¯å®£ä¼ çš„â€œå·è¯ä¹¦â€ã€‚æ—¢ç„¶æˆ‘çš„ç½‘ç«™è¦ä½¿ç”¨443å¼€å¯sslï¼Œé‚£æˆ‘å½“æ—¶ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦æœ€æ–¹ä¾¿ï¼Œè€Œä¸”å»¶è¿Ÿæœ€å°ã€‚\nè¯ä¹¦ç”³è¯· å®‰è£…realityå¯ä»¥ä½¿ç”¨xuiæ¥å®‰è£…ï¼Œå…·ä½“çš„xuiå®‰è£…å¯ä»¥å‚è€ƒæˆ‘çš„æ–‡ç« ï¼šx-uiå®‰è£…é…ç½®ä½¿ç”¨ã€‚xuiæœ¬èº«å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”³è¯·è¯ä¹¦ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨xuiçš„è¯ä¹¦ç”³è¯·ï¼Œè¿˜å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ä½¿ç”¨certbotæ¥ç”³è¯·è¯ä¹¦ï¼šdockeréƒ¨ç½²certbotç”³è¯·Letâ€™s Encryptè¯ä¹¦ï¼Œæˆ‘è¿™é‡Œå°±ä½¿ç”¨certbotæ¥ç”³è¯·è¯ä¹¦ã€‚\nç«™ç‚¹éƒ¨ç½² è¿™é‡Œæ˜¯ä¸ºäº†æ¼”ç¤ºï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œå°±åªå¯åŠ¨nginxï¼Œç„¶åé…ç½®sslï¼Œå¯¹åŸŸåå¯ç”¨sslã€‚nginxæˆ‘ä½¿ç”¨çš„æ˜¯dockeræ¥å¯åŠ¨çš„ï¼Œå…·ä½“çš„ç›®å½•å¦‚ä¸‹,æ‰€åœ¨çš„è·¯å¾„æ˜¯ï¼š/root/images/nginx\n1 2 3 4 5 6 7 8 9 10 11 â”œâ”€â”€ README.md â”œâ”€â”€ conf â”‚ â”œâ”€â”€ conf.d â”‚ â””â”€â”€ nginx.conf â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ html â”‚ â””â”€â”€ index.html â””â”€â”€ logs â”œâ”€â”€ 1.txt â”œâ”€â”€ access.log â”œâ”€â”€ error.log\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; confç›®å½•ä¸‹æ˜¯ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ï¼Œnginx.confæ˜¯é»˜è®¤çš„ï¼Œå®ƒåŒ…å«äº†conf.dç›®å½•ä¸ºçš„æ‰€æœ‰.confç»“å°¾çš„æ–‡ä»¶ã€‚\nnginx.conf nginx.confçš„é…ç½®å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 user nginx; worker_processes auto; error_log /var/log/nginx/error.log notice; pid /var/run/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; access_log /var/log/nginx/access.log main; sendfile on; #tcp_nopush on; keepalive_timeout 65; #gzip on; include /etc/nginx/conf.d/*.conf; } å¾ˆç®€å•å°±æ˜¯é»˜è®¤é…ç½®ã€‚\nweb.conf web.confæ˜¯åœ¨conf.dç›®å½•ä¸‹çš„ï¼Œå°±æ˜¯æˆ‘ä»¬éƒ¨ç½²çš„ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 # è®¾ç½® HTTP æœåŠ¡å™¨ï¼Œå°†æ‰€æœ‰ HTTP è¯·æ±‚éƒ½é‡å®šå‘åˆ° HTTPS server { listen 80; server_name test.xxx.me; # é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS location / { return 301 https://$server_name$request_uri; } } # è®¾ç½® HTTPS æœåŠ¡å™¨ server { listen 443 ssl http2; server_name test.xxx.me; # ======åŸŸåï¼Œéœ€è¦æ”¹æˆè‡ªå·±çš„========= # SSL è¯ä¹¦å’Œå¯†é’¥æ–‡ä»¶çš„è·¯å¾„ ssl_certificate /etc/letsencrypt/ssl/xx/fullchain.pem; # ======è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„========= ssl_certificate_key /etc/letsencrypt/ssl/xx/privkey.pem;# ====è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„======= # å¯é€‰ï¼šè®¾ç½® SSL ä¼šè¯ç¼“å­˜ ssl_session_cache shared:SSL:10m; ssl_session_timeout 10m; # å¯é€‰ï¼šè®¾ç½® SSL åè®®å’ŒåŠ å¯†ç®—æ³• ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers \u0026#34;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384\u0026#34;; # å¯é€‰ï¼šå¼€å¯ OCSP Staplingï¼Œæé«˜ SSL æ¡æ‰‹æ€§èƒ½ ssl_stapling on; ssl_stapling_verify on; ssl_trusted_certificate /etc/letsencrypt/ssl/xx/fullchain.pem; # ======è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶è·¯å¾„======= # å¯é€‰ï¼šè®¾ç½® Content Security Policyï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰å¤´ # add_header Content-Security-Policy \u0026#34;default-src \u0026#39;self\u0026#39;;\u0026#34; always; # å¯é€‰ï¼šè®¾ç½®è®¿é—®æ—¥å¿— access_log /var/log/nginx/test.access.log; error_log /var/log/nginx/test.error.log; location / { root /usr/share/nginx/html; index index.html index.htm; } } è®¿é—®80ç«¯å£å¼ºåˆ¶è½¬åˆ°443ç«¯å£ï¼Œè¯ä¹¦ä½¿ç”¨çš„æ˜¯dockerä¸­çš„ä½¿ç”¨certbotç”³è¯·çš„è¯ä¹¦ã€‚è¯ä¹¦çš„è·¯å¾„æ˜¯å’Œä¸‹è¾¹çš„docker-compose.yamlä¸­æŒ‚è½½çš„ç›®å½•ç›¸å…³çš„ï¼Œxxåªæ˜¯ä¸ºäº†åœ¨nginxå®¹å™¨ä¸­æ‰¾åˆ°æ­£ç¡®çš„ç›®å½•ã€‚\ndocker-compose.yaml å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 version: \u0026#39;3\u0026#39; networks: mynet: external: true services: nginx: image: nginx:1.22.0 restart: unless-stopped container_name: nginx volumes: - ./conf/nginx.conf:/etc/nginx/nginx.conf - ./conf/conf.d:/etc/nginx/conf.d - ./html:/usr/share/nginx/html - ./logs:/var/log/nginx - /root/images/certbot/certs:/etc/letsencrypt - /root/images/certbot/certs/live/test.ml520.me:/etc/letsencrypt/ssl/xx networks: - mynet ports: - 80:80 - 443:443 è¿™é‡Œæ˜ å°„äº†letsencryptçš„ä¸¤ä¸ªç›®å½•ï¼Œé…åˆnginxï¼Œæ‰¾åˆ°å¯¹åº”çš„è¯ä¹¦è·¯å¾„ï¼Œå¦‚æœä¸æ˜¯åœ¨dockerä¸­å°±æŒ‰æ‰¾å®é™…çš„è¯ä¹¦è·¯å¾„å¤„ç†å°±è¡Œäº†ã€‚\nindex.html index.htmlå°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ç½‘é¡µäº†ï¼Œé‡Œè¾¹çš„å†…å®¹å¾ˆéšæ„,å°±æ˜¯ä¸€ä¸ªæ¬¢è¿è¯­ã€‚\nè¿™æ—¶å€™æˆ‘ä»¬æŠŠnginxå¯åŠ¨èµ·æ¥ï¼Œé€šè¿‡åŸŸåè®¿é—®æˆ‘ä»¬çš„ç½‘ç«™çœ‹æ˜¯å¦å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨httpsã€‚\nä»£ç†é…ç½® ä»£ç†çš„é…ç½®è¿™é‡Œå°±ç®€å•å¸¦è¿‡ï¼Œé€šè¿‡x-uiæˆ–è€…ç›´æ¥å®‰è£…xray-coreæ¥è¿è¡Œã€‚ä¹Ÿå¯ä»¥é€šè¿‡æˆ‘çš„é•œåƒï¼šxrayï¼Œç›´æ¥ä½¿ç”¨dockerå®‰è£…ï¼Œå‚è€ƒæ–‡ç« ï¼šxrayé…ç½®ä½¿ç”¨reality\nxrayçš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 { \u0026#34;log\u0026#34;: { \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34;, \u0026#34;access\u0026#34;: \u0026#34;/var/log/xray/access.log\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;/var/log/xray/error.log\u0026#34; }, \u0026#34;api\u0026#34;: { \u0026#34;services\u0026#34;: [ \u0026#34;HandlerService\u0026#34;, \u0026#34;LoggerService\u0026#34;, \u0026#34;StatsService\u0026#34; ], \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: null, \u0026#34;port\u0026#34;: 8443, \u0026#34;protocol\u0026#34;: \u0026#34;vless\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0c41318a-32b6-4017-9938-4033bf261234\u0026#34;, \u0026#34;flow\u0026#34;: \u0026#34;xtls-rprx-vision\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;reality@xray.com\u0026#34; } ], \u0026#34;decryption\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;reality\u0026#34;, \u0026#34;realitySettings\u0026#34;: { \u0026#34;show\u0026#34;: false, \u0026#34;dest\u0026#34;: \u0026#34;www.microsoft.com:443\u0026#34;, \u0026#34;xver\u0026#34;: 1, \u0026#34;serverNames\u0026#34;: [ \u0026#34;www.microsoft.com\u0026#34; ], \u0026#34;privateKey\u0026#34;: \u0026#34;uPPcl9806d81DMdlojRB_ps78jrxNpT0wcG0ueOmD69\u0026#34;, \u0026#34;shortIds\u0026#34;: [ \u0026#34;6ba85179e30d4fc2\u0026#34; ] } }, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34; ] } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;common\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34; } ], \u0026#34;routing\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;common\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;udp,tcp\u0026#34; } ] }, \u0026#34;policy\u0026#34;: { \u0026#34;statsInboundUplink\u0026#34;: true, \u0026#34;statsInboundDownlink\u0026#34;: true, \u0026#34;statsOutboundUplink\u0026#34;: true, \u0026#34;statsOutboundDownlink\u0026#34;: true }, \u0026#34;dns\u0026#34;: null, \u0026#34;transport\u0026#34;: null, \u0026#34;stats\u0026#34;: null, \u0026#34;reverse\u0026#34;: null, \u0026#34;fakeDns\u0026#34;: null } è¿™é‡Œå…ˆä½¿ç”¨å·å¾®è½¯çš„è¯ä¹¦è¿›è¡ŒéªŒè¯ã€‚ä¸å‡ºæ„å¤–å°±å·²ç»okäº†ï¼Œæ­¤æ—¶xrayç”¨çš„8443ï¼Œnginxä½¿ç”¨çš„443ï¼Œä¸¤ä¸ªå•ç‹¬å ç”¨ç«¯å£ï¼Œæ˜¯å®Œå…¨å¯ä»¥æ­£å¸¸è®¿é—®çš„ã€‚\nå…±ç”¨ç«¯å£ ç»è¿‡ä¸Šè¾¹çš„å‡†å¤‡ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹æ¥åˆå¹¶ç«¯å£äº†ï¼Œé¦–å…ˆæ˜¯ä¿®æ”¹nginxçš„é…ç½®ï¼ŒåŸæ¥çš„nginxå®¹å™¨æ˜¯æš´éœ²äº†80å’Œ443ç«¯å£ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠ443ç«¯å£è®©ç»™xrayï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹docker-compose.yamlæ–‡ä»¶ï¼Œæ”¹å˜ç«¯å£æ˜ å°„ï¼Œè®©å®ƒçš„httpsä½¿ç”¨18443ï¼Œå¹¶ä¸”éœ€è¦ä¿®æ”¹nginxçš„web.confé…ç½®æ–‡ä»¶ã€‚\ndocker-compose.yaml å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 version: \u0026#39;3\u0026#39; networks: mynet: external: true services: nginx: image: nginx:1.22.0 restart: unless-stopped container_name: nginx volumes: - ./conf/nginx.conf:/etc/nginx/nginx.conf - ./conf/conf.d:/etc/nginx/conf.d - ./html:/usr/share/nginx/html - ./logs:/var/log/nginx - ./../naiveproxy/conf/cert:/ssl - ./../wordpress/html:/wordpress - /root/images/certbot/certs:/etc/letsencrypt - /root/images/certbot/certs/live/test.ml520.me:/etc/letsencrypt/ssl/xx networks: - mynet ports: - 80:80 - 18443:18443 # ä¸»è¦æ˜¯ä¿®æ”¹è¿™é‡Œï¼Œæ”¹å˜ç«¯å£æ˜ å°„ ä¸»è¦æ˜¯ä¿®æ”¹äº†ç«¯å£ï¼Œç”±åŸæ¥çš„443æ”¹æˆ18443ï¼ŒæŠŠ443ç«¯å£è®©ç»™xrayä½¿ç”¨ã€‚\næ”¹äº†å¼€æ”¾ç«¯å£åï¼Œè¿˜éœ€è¦ä¿®æ”¹web.confï¼ŒæŠŠç›‘å¬çš„443å˜æˆ18443ä»¥åŠä¸€äº›å…¶ä»–é…ç½®ã€‚\nweb.conf å…ˆæ”¾å‡ºé…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # è®¾ç½® HTTP æœåŠ¡å™¨ï¼Œå°†æ‰€æœ‰ HTTP è¯·æ±‚éƒ½é‡å®šå‘åˆ° HTTPS server { listen 80; server_name test.xxx.me; # é‡å®šå‘æ‰€æœ‰ HTTP è¯·æ±‚åˆ° HTTPS location / { return 301 https://$server_name$request_uri; } } # è®¾ç½® HTTPS æœåŠ¡å™¨ server { listen 18443 ssl http2 proxy_protocol; # =======ä¿®æ”¹äº†è¿™é‡Œ====== server_name test.xxx.me; set_real_ip_from 127.0.0.1; # ======æ·»åŠ äº†è¿™é‡Œ======= real_ip_header proxy_protocol; # ======æ·»åŠ äº†è¿™é‡Œ====== # SSL è¯ä¹¦å’Œå¯†é’¥æ–‡ä»¶çš„è·¯å¾„ ssl_certificate /etc/letsencrypt/ssl/xx/fullchain.pem; # è¯ä¹¦æ–‡ä»¶ï¼Œé€šå¸¸ä¸åŒºåˆ†æ‰©å±•åï¼Œè¯ä¹¦æ–‡ä»¶éœ€è¦ä½¿ç”¨fullchainï¼ˆå…¨SSLè¯ä¹¦é“¾ï¼‰ ssl_certificate_key /etc/letsencrypt/ssl/xx/privkey.pem; # ç§é’¥æ–‡ä»¶ï¼Œé€šå¸¸ä¸åŒºåˆ†æ‰©å±•å # å¯é€‰ï¼šè®¾ç½® SSL ä¼šè¯ç¼“å­˜ ssl_session_cache shared:SSL:10m; ssl_session_timeout 10m; # å¯é€‰ï¼šè®¾ç½® SSL åè®®å’ŒåŠ å¯†ç®—æ³• ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers \u0026#34;ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384\u0026#34;; # å¯é€‰ï¼šå¼€å¯ OCSP Staplingï¼Œæé«˜ SSL æ¡æ‰‹æ€§èƒ½ ssl_stapling on; ssl_stapling_verify on; ssl_trusted_certificate /etc/letsencrypt/ssl/xx/fullchain.pem; # å¯é€‰ï¼šè®¾ç½®è®¿é—®æ—¥å¿— access_log /var/log/nginx/test.access.log; error_log /var/log/nginx/test.error.log; location / { root /usr/share/nginx/html; index index.html index.htm; } } ä¸»è¦æ˜¯ä¿®æ”¹äº†listençš„é…ç½®ï¼Œæ·»åŠ äº†proxy_protocol,å¦å¤–æ·»åŠ äº†set_real_ip_fromå’Œreal_ip_headerã€‚\næ¥ä¸‹æ¥å°±æ˜¯ä¿®æ”¹xrayçš„é…ç½®æ–‡ä»¶äº†ã€‚\nxrayé…ç½® ä¸»è¦æ˜¯ä¿®æ”¹config.jsonæ–‡ä»¶ï¼Œä»åŸæ¥çš„8443æ¢æˆå¯ï¼Œä»¥åŠåŸŸåé…ç½®ï¼Œè¯¦ç»†æ”¹åŠ¨å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 { \u0026#34;log\u0026#34;: { \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34;, \u0026#34;access\u0026#34;: \u0026#34;/var/log/xray/access.log\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;/var/log/xray/error.log\u0026#34; }, \u0026#34;api\u0026#34;: { \u0026#34;services\u0026#34;: [ \u0026#34;HandlerService\u0026#34;, \u0026#34;LoggerService\u0026#34;, \u0026#34;StatsService\u0026#34; ], \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: null, \u0026#34;port\u0026#34;: 443, \u0026#34;protocol\u0026#34;: \u0026#34;vless\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0c41234a-32b6-4017-9938-4033bf26b948\u0026#34;, \u0026#34;flow\u0026#34;: \u0026#34;xtls-rprx-vision\u0026#34;, \u0026#34;email\u0026#34;: \u0026#34;reality@xray.com\u0026#34; } ], \u0026#34;decryption\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;reality\u0026#34;, \u0026#34;realitySettings\u0026#34;: { \u0026#34;show\u0026#34;: false, \u0026#34;dest\u0026#34;: \u0026#34;nginx:18443\u0026#34;, # è¿™é‡Œç›®æ ‡ç½‘ç«™è¦æ¢æˆæˆ‘ä»¬çš„nginxé‡Œçš„åœ°å€ï¼Œè¿™é‡Œä½¿ç”¨äº†å®¹å™¨ååŠ sslç›‘å¬ç«¯å£ \u0026#34;xver\u0026#34;: 1, # è¯¥å‚æ•°æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ \u0026#34;serverNames\u0026#34;: [ \u0026#34;test.xxx.me\u0026#34; # åŸŸåå°±æ¢æˆè‡ªå·±çš„åŸŸå ], \u0026#34;privateKey\u0026#34;: \u0026#34;uPPcl3v45d81DMdlojRB_ps78jrxNpT0wcG0ueOmD12\u0026#34;, \u0026#34;shortIds\u0026#34;: [ \u0026#34;6ba85179e30d4fc2\u0026#34; ] } }, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34; ] } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;common\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34; } ], \u0026#34;routing\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;common\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;udp,tcp\u0026#34; } ] }, \u0026#34;policy\u0026#34;: { \u0026#34;statsInboundUplink\u0026#34;: true, \u0026#34;statsInboundDownlink\u0026#34;: true, \u0026#34;statsOutboundUplink\u0026#34;: true, \u0026#34;statsOutboundDownlink\u0026#34;: true }, \u0026#34;dns\u0026#34;: null, \u0026#34;transport\u0026#34;: null, \u0026#34;stats\u0026#34;: null, \u0026#34;reverse\u0026#34;: null, \u0026#34;fakeDns\u0026#34;: null } å¦‚ä¸Šï¼Œæ”¹åŠ¨ä¸å¤§ï¼Œä¸»è¦æ˜¯destã€xverå’Œserver_nameã€‚å¦å¤–éœ€è¦ä¿®æ”¹xrayçš„docker-compose.yaml,æŠŠåŸæ¥çš„8443ç«¯å£æ”¹æˆ443ç«¯å£ï¼Œå¹¶é‡æ–°buildå¯åŠ¨ã€‚\néªŒè¯ ç»è¿‡ä¸Šè¾¹çš„æ”¹å˜åï¼Œé€šè¿‡åŸŸåå°±å¯ä»¥è®¿é—®åˆ°é¡¹ç›®ï¼Œå¹¶ä¸”realityä¹ŸåŒæ—¶åœ¨ç›‘å¬443ï¼Œä»£ç†å·¥å…·çš„é…ç½®æ”¹æˆ443ç«¯å£ï¼ŒåŸŸåä¹Ÿæ”¹æˆè‡ªå·±çš„å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚æˆ‘è¿™é‡Œå°±ä¸å†è´´å›¾äº†ã€‚å®Œç¾çš„å®ç°ç½‘ç«™å’Œxrayå…±å­˜ï¼Œxrayä¹ŸæˆåŠŸçš„å·äº†è‡ªå·±çš„è¯ä¹¦ã€‚\næœ€åç¥å¤§å®¶éƒ½èƒ½æˆåŠŸé…ç½®ã€‚\nå‚è€ƒï¼š\nsteal_yourself\n","date":"2023-07-31T06:30:46Z","image":"https://images.iminling.com/app/hide.php?key=TUVLUjRhOHdSS21VVjh4dDdmbElGUVhHZHRFRlR3c3h1R2F2Qi8wOEg0V3V6cGZReGx5NUs1Z3FQYjRhVXdCdm14WWVma2c9","permalink":"https://konghanghang.github.io/iminling-pages/2023/both-xray-reality-website-use-443/","title":"xrayæ­å»ºrealityå’Œç½‘ç«™å…±ç”¨443ç«¯å£å¯ç”¨ç½‘ç«™SSL"},{"content":"æœ€è¿‘æƒ³ç»™åŸŸåç”³è¯·ä¸€ä¸ªå…è´¹çš„è¯ä¹¦ï¼Œç»è¿‡æŸ¥è¯¢æ‰¾åˆ°äº†Let\u0026rsquo;s Encryptï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨certbotæ¥ç”³è¯·ï¼Œå› ä¸ºä¸€ç›´åœ¨ä½¿ç”¨docker,æ‰€ä»¥å°±æƒ³ç€çœ‹æ˜¯å¦å¯ä»¥ä½¿ç”¨dockeræ¥è¿›è¡Œè¯ä¹¦çš„ç”³è¯·ï¼Œäºæ˜¯å°±å¼€å¯äº†æ­¤æ¬¡çš„æŠ˜è…¾ä¹‹è·¯ï¼šä½¿ç”¨dockeréƒ¨ç½²certbotç”³è¯·Let\u0026rsquo;s Encryptè¯ä¹¦ã€‚\nå®‰è£…certbot certbotçš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œå®˜æ–¹ä¹Ÿæœ‰ä¸€äº›ç³»ç»Ÿçš„å®‰è£…æ–‡æ¡£ï¼Œå¯ä»¥æ ¹æ®å®˜æ–¹çš„å®‰è£…æ–‡æ¡£æ¥ç›´æ¥å®‰è£…åˆ°å¯¹åº”çš„æ“ä½œç³»ç»Ÿä¸Šï¼šinstallationï¼Œéå¸¸è¯¦ç»†ã€‚å®˜æ–¹æ¨èçš„æ–¹å¼æ˜¯é€šè¿‡snapçš„å½¢å¼æ¥å®‰è£…ï¼Œå¦å¤–è¿˜æœ‰dockerã€pipã€ç¬¬ä¸‰æ”¾å‘è¡Œç‰ˆæœ¬ä»¥åŠcertbot-auto(å®˜æ–¹å·²ç»æ ‡ç¤ºä¸ºè¿‡æœŸ)ã€‚\nç”³è¯·å½¢å¼ ç”³è¯·è¯ä¹¦çš„å½¢å¼ä¹Ÿæœ‰å¾ˆå¤š:\napache{#id9.reference.internal} Webroot{#id10.reference.internal} Nginx{#id11.reference.internal} Standalone{#id12.reference.internal} DNS Plugins{#id13.reference.internal} Manual{#id14.reference.internal} Combining plugins{#id15.reference.internal} Third-party plugins{#id16.reference.internal} å…¶ä¸­ä¸€äº›æ–¹å¼è¦é…åˆå¼€å¯80å’Œ443ç«¯å£æ¥å®ç°ï¼Œè¿˜éœ€è¦è¿›è¡ŒåŸŸåè§£æï¼Œæˆ‘è¿™é‡Œå°±é€‰æ‹©ä½¿ç”¨DNS Pluginsçš„å½¢å¼æ¥è¿›è¡Œç”³è¯·ï¼Œå› ä¸ºåŸŸååœ¨cloudflareï¼Œæ‰€ä»¥å°±ä½¿ç”¨certbot-dns-cloudflareæ’ä»¶æ¥è¿›è¡Œç”³è¯·ï¼Œæ–‡æ¡£åœ°å€ï¼šWelcome to certbot-dns-cloudflareâ€™s documentation!ã€‚\nç”³è¯·å‡†å¤‡ dockeræ–‡ä»¶çš„ç›®å½•å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 â”œâ”€â”€ certs //å­˜æ”¾è¯ä¹¦ â”œâ”€â”€ conf â”‚ â”œâ”€â”€ cloudflare.ini //é…ç½®æ–‡ä»¶ â”œâ”€â”€ logs //æ—¥å¿— â””â”€â”€ docker-compose.yml //docker-compseæ–‡ä»¶ â””â”€â”€ .env //ç¯å¢ƒå˜é‡ä¿¡æ¯ certs ç›®å½•æ˜¯æ˜ å°„åˆ°dockerå®¹å™¨ä¸­çš„ï¼Œå­˜æ”¾è¯ä¹¦æ–‡ä»¶ã€‚\ncloudflare.ini è¯¥è¦å­˜æ”¾cloudflareçš„api token,è¿™é‡Œä½¿ç”¨çš„æ˜¯è‡ªå·±åˆ›å»ºçš„tokenï¼Œé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\ndns_cloudflare_api_token = your_cloudflare_api_key å…·ä½“çš„ç”Ÿæˆæ–¹å¼çœ‹ä¸‹å›¾ï¼š\né€‰æ‹©åˆ›å»ºä»¤ç‰Œï¼š\nåŒºåŸŸä¸­é€‰æ‹©DNSç»™ä¸€ä¸ªç¼–è¾‘æƒé™ï¼Œç„¶åå°±æ˜¯åŒºåŸŸå­—æ®µé€‰æ‹©è‡ªå·±çš„åŸŸåï¼Œæˆ‘è¿™é‡Œæ˜¯ç»™æ¯ä¸ªåŸŸåå•ç‹¬çš„tokenï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©ä¸€ä¸ªåŸŸåï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©ã€‚\nlogs logsä¸­æ˜¯å­˜åœ¨certbotæ‰§è¡Œæ—¥å¿—çš„åœ°æ–¹ã€‚\ndocker-compose.yaml docker-compose.yamlæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 version: \u0026#34;3\u0026#34; services: certbot: image: certbot/dns-cloudflare:v2.4.0 container_name: certbot env_file: - .env volumes: - ./certs:/etc/letsencrypt - ./logs:/var/log/letsencrypt - ./conf/cloudflare.ini:/secrets/cloudflare.ini # dry run # command: certonly --dns-cloudflare --agree-tos --non-interactive --dns-cloudflare-credentials /secrets/cloudflare.ini --email ${CERTBOT_EMAIL} --dns-cloudflare-propagation-seconds 20 -d ${CERTBOT_DOMAIN} --dry-run # issue --force-renewal command: certonly --dns-cloudflare --agree-tos --non-interactive --dns-cloudflare-credentials /secrets/cloudflare.ini --email ${CERTBOT_EMAIL} --dns-cloudflare-propagation-seconds 20 -d ${CERTBOT_DOMAIN} # renew # command: renew --dns-cloudflare --no-self-upgrade --agree-tos --non-interactive --dns-cloudflare-credentials /secrets/cloudflare.ini --dns-cloudflare-propagation-seconds 20 ä½¿ç”¨.envé…ç½®æ–‡ä»¶ï¼Œç„¶åæŠŠcertbotä¸­çš„/etc/letsencryptç›®å½•æ˜ å°„åˆ°å®¹å™¨å¤–éƒ¨çš„certsç›®å½•ï¼Œå¦å¤–å°±æ˜¯æ—¥å¿—ä»¥åŠcloudflareçš„é…ç½®æ–‡ä»¶ã€‚\næ‰§è¡Œçš„å‘½ä»¤æœ‰ä¸‰ä¸ªï¼Œdry-runæ˜¯æµ‹è¯•ç”³è¯·åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœæ­£å¸¸åˆ™ä½¿ç”¨issueçš„å‘½ä»¤è¿›è¡Œæ­£å¸¸ç”³è¯·ï¼Œå› ä¸ºç”³è¯·çš„è¯ä¹¦åªæœ‰ä¸‰ä¸ªæœˆçš„æœ‰æ•ˆæœŸï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œç»­æœŸï¼Œç»­æœŸä½¿ç”¨renewçš„å‘½ä»¤ã€‚\n\u0026ndash;agree-tos åŒæ„tos(term of service)\n\u0026ndash;non-interactive éäº¤äº’å¼çš„\n\u0026ndash;dns-cloudflare-credentials æŒ‡å®šcloudflareçš„tokenæ–‡ä»¶ä½ç½®\n\u0026ndash;eamil é‚®ç®±\n\u0026ndash;dns-cloudfalre-propagation-seconds ç­‰å¾…æ—¶é—´\n-d æŒ‡å®šéœ€è¦ç”³è¯·è¯ä¹¦çš„åŸŸåï¼Œå¦‚æœæœ‰å¤šä¸ªåŸŸååˆ™æŒ‡å®šå¤šä¸ª-då‚æ•°ã€‚å¦‚æœéœ€è¦ç”³è¯·æ³›åŸŸåè¯ä¹¦ï¼Œåˆ™ä½¿ç”¨*.xxx.comï¼Œç”Ÿæˆçš„è¯ä¹¦ä¼šåœ¨xxx.comç›®å½•ä¸‹ã€‚\n.env envæ–‡ä»¶æ˜¯ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œå¦‚ä¸Šè¾¹çš„docker-compose.yamlæ–‡ä»¶ä¸­æœ‰ä¸¤ä¸ªåŠ¨æ€çš„å‚æ•°ï¼Œä¸€ä¸ªæ˜¯é‚®ç®±ï¼Œå¦ä¸€ä¸ªæ˜¯ç”³è¯·è¯ä¹¦çš„åŸŸåï¼Œæˆ‘ä»¬å°±æ˜¯åœ¨.envæ–‡ä»¶ä¸­æŒ‡å®šçš„ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\nCERTBOT_DOMAIN=your_domain_name CERTBOT_EMAIL=your_email æŒ‡å®šé‚®ç®±å’ŒåŸŸåå°±å¯ä»¥äº†ã€‚\nç”³è¯· ç»è¿‡ä¸Šè¾¹çš„æ–‡ä»¶å‡†å¤‡ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹ç”³è¯·äº†ï¼Œä½¿ç”¨docker compose up æ¥è¿›è¡Œç”³è¯·ã€‚ç”³è¯·åçš„è¯ä¹¦å°±åœ¨certsç›®å½•ä¸‹ã€‚\n1 2 3 4 5 6 7 â”œâ”€â”€ 1.txt â”œâ”€â”€ accounts â”œâ”€â”€ archive â”œâ”€â”€ live â”œâ”€â”€ renewal â”œâ”€â”€ renewal-hooks â””â”€â”€ ssl è¯ä¹¦æ–‡ä»¶åœ¨liveä¸‹ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨nginxä¸­ä½¿ç”¨æˆ‘ä»¬ç”³è¯·çš„è¯ä¹¦æ–‡ä»¶äº†ã€‚\nç»­æœŸ è¯ä¹¦ä¸‰ä¸ªæœˆçš„æœ‰æ•ˆæœŸï¼Œåœ¨å¿«è¦è¿‡æœŸçš„æ—¶å€™éœ€è¦è¿›è¡Œç»­æœŸï¼Œç»­æœŸåˆ™ä½¿ç”¨docker-compose.yamlæ–‡ä»¶ä¸­çš„ç»­æœŸå‘½ä»¤å°±å¯ä»¥äº†ã€‚å¤§å®¶ä¹Ÿå¯ä»¥åšä¸€ä¸ªcornå®šæ—¶ä»»åŠ¡æ¥è¿›è¡Œå®šæœŸç»­æœŸã€‚\næœ€åç¥å¤§å®¶ç”³è¯·é¡ºåˆ©ã€‚\n","date":"2023-07-30T00:21:32Z","image":"https://images.iminling.com/app/hide.php?key=UVQ4dnZwSDJWNWNTTFNwWXo3QUxlM2wvcFhCdGEyU1diN0lUbGVKZ0gxQXExdFFJV2FIazdvVEorM0Vsak5xWFNDQ1FVNVU9","permalink":"https://konghanghang.github.io/iminling-pages/2023/docker-use-certbot-apply-lets-encrypt/","title":"dockeréƒ¨ç½²certbotç”³è¯·Letâ€™s Encryptè¯ä¹¦"},{"content":"åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œdockeré»˜è®¤åªæ˜¯é…ç½®äº†ipv4åœ°å€ï¼Œå¹¶æ²¡æœ‰ipv6åœ°å€ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»è¿›è¡Œipv6åœ°å€é…ç½®ã€‚ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å®¹å™¨æ”¯æŒipv6çš„ä¸€ç§æ–¹å¼ã€‚\ndockerå¯ç”¨ipv6 å…·ä½“çš„æ–¹å¼æˆ‘ä»¬å…ˆå‚è€ƒdockerçš„å®˜æ–¹æ–‡æ¡£ï¼šEnable IPv6 support,å¯ç”¨dockerå¯¹ipv6çš„æ”¯æŒã€‚éœ€è¦ä¿®æ”¹daemon.jsonæ–‡ä»¶ï¼Œå…·ä½“ä½ç½®ä¸º/etc/docker/ç›®å½•ä¸‹ï¼Œå¦‚æœæ²¡æœ‰åˆ™è‡ªå·±åˆ›å»ºdaemon.json,æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n{ \u0026ldquo;experimental\u0026rdquo;: true, \u0026ldquo;ip6tables\u0026rdquo;: true }\nç„¶åå¯¹dockerè¿›è¡Œé‡å¯ã€‚systemctl restart docker\nåˆ›å»ºç½‘ç»œ æˆ‘å®‰è£…dockeråéƒ½ä¼šè‡ªå·±åˆ›å»ºä¸€ä¸ªæ¡¥æ¥ç½‘ç»œå·²æ–¹ä¾¿å¯åŠ¨çš„å„ä¸ªå®¹å™¨ä¹‹é—´çš„ç½‘ç»œé€šä¿¡ã€‚åˆ›å»ºç½‘ç»œçš„å‘½ä»¤å¦‚ä¸‹ï¼š\n1 docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 mynet å¦‚ä¸Šåˆ›å»ºäº†ä¸€ä¸ªåå­—ä¸ºmynetçš„ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨docker inspectæ¥æŸ¥çœ‹è¿™ä¸ªç½‘ç»œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 root@us-la:~# docker inspect mynet [ { \u0026#34;Name\u0026#34;: \u0026#34;mynet\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;914c2a3a0a6ae0bdc0b8d51ba4782b6d232e6c978f2b0596fc4b7938d6c72ddd\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2022-08-21T09:19:48.858428501Z\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: false, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: {}, \u0026#34;Config\u0026#34;: [ { \u0026#34;Subnet\u0026#34;: \u0026#34;192.168.0.0/16\u0026#34;, \u0026#34;Gateway\u0026#34;: \u0026#34;192.168.0.1\u0026#34; } ] }, \u0026#34;Internal\u0026#34;: false, \u0026#34;Attachable\u0026#34;: false, \u0026#34;Ingress\u0026#34;: false, \u0026#34;ConfigFrom\u0026#34;: { \u0026#34;Network\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;ConfigOnly\u0026#34;: false, \u0026#34;Containers\u0026#34;: { \u0026#34;edfd85b3884679256388f3c13afcd1774ac282a34de2438191bdad824a68f765\u0026#34;: { \u0026#34;Name\u0026#34;: \u0026#34;nginx\u0026#34;, \u0026#34;EndpointID\u0026#34;: \u0026#34;eafe61ed19613cfd2a7f56ee1737987d907a26210f0de557499fe4e6c1171e9c\u0026#34;, \u0026#34;MacAddress\u0026#34;: \u0026#34;02:42:c0:a8:00:02\u0026#34;, \u0026#34;IPv4Address\u0026#34;: \u0026#34;192.168.0.2/16\u0026#34;, \u0026#34;IPv6Address\u0026#34;: \u0026#34;\u0026#34; } }, \u0026#34;Options\u0026#34;: {}, \u0026#34;Labels\u0026#34;: {} } ] è¿™ä¸ªç½‘ç»œåªæ”¯æŒipv4ï¼Œæˆ‘ä»¬å¯ä»¥pingä¸€ä¸‹v6çœ‹çœ‹ï¼š\n1 2 3 root@us-la:~# docker run --rm -it --net mynet busybox ping -6 -c4 ipv6-test.com PING ipv6-test.com (2001:41d0:701:1100::29c8): 56 data bytes ping: sendto: Cannot assign requested address å¦‚æœæˆ‘ä»¬éœ€è¦æ”¯æŒipv6ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªipv6ç½‘ç»œã€‚\nåˆ›å»ºipv6ç½‘ç»œ ç”¨ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªipv6ç½‘ç»œï¼š\n1 2 docker network create --ipv6 --subnet=\u0026#34;2001:db8:1::/64\u0026#34; --subnet=\u0026#34;192.168.0.0/24\u0026#34; mynet 9db7d457fd11f8c7c4256a1f4b2e00085d537f34e15dd0b0636bc00d4aa6d234 å†æ¬¡æ£€æŸ¥ ç½‘ç»œï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 root@WIKIHOST-221108EU1RTF:~/images# docker network ls NETWORK ID NAME DRIVER SCOPE 9a75cccf2d9a bridge bridge local 5677c5bdadce host host local 9db7d457fd11 mynet bridge local 86ce569ad194 none null local root@1RTF:~/images# docker inspect mynet [ { \u0026#34;Name\u0026#34;: \u0026#34;mynet\u0026#34;, \u0026#34;Id\u0026#34;: \u0026#34;9db7d457fd11f8c7c4256a1f4b2e00085d537f34e15dd0b0636bc00d4aa6d234\u0026#34;, \u0026#34;Created\u0026#34;: \u0026#34;2023-07-12T09:48:08.273299482-04:00\u0026#34;, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;bridge\u0026#34;, \u0026#34;EnableIPv6\u0026#34;: true, \u0026#34;IPAM\u0026#34;: { \u0026#34;Driver\u0026#34;: \u0026#34;default\u0026#34;, \u0026#34;Options\u0026#34;: {}, \u0026#34;Config\u0026#34;: [ { \u0026#34;Subnet\u0026#34;: \u0026#34;192.168.0.0/24\u0026#34; }, { \u0026#34;Subnet\u0026#34;: \u0026#34;2001:db8:1::/64\u0026#34; } ] }, \u0026#34;Internal\u0026#34;: false, \u0026#34;Attachable\u0026#34;: false, \u0026#34;Ingress\u0026#34;: false, \u0026#34;ConfigFrom\u0026#34;: { \u0026#34;Network\u0026#34;: \u0026#34;\u0026#34; }, \u0026#34;ConfigOnly\u0026#34;: false, \u0026#34;Containers\u0026#34;: {}, \u0026#34;Options\u0026#34;: {}, \u0026#34;Labels\u0026#34;: {} } ] å¤šäº†ä¸€ä¸ªipv6çš„å­ç½‘ã€‚\nå®¹å™¨æ”¯æŒipv6 docker run ä½¿ç”¨docker runå‘½ä»¤è¿è¡Œå®¹å™¨çš„æ—¶å€™åªéœ€è¦åŠ ä¸Š\u0026ndash;net å°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„ç½‘ç»œäº†ï¼š\n1 2 3 4 5 root@U1RTF:~# docker run --rm -it --net mynet busybox ping -6 -c4 ipv6-test.com PING ipv6-test.com (2001:41d0:701:1100::29c8): 56 data bytes 64 bytes from 2001:41d0:701:1100::29c8: seq=0 ttl=45 time=249.606 ms 64 bytes from 2001:41d0:701:1100::29c8: seq=1 ttl=45 time=249.622 ms 64 bytes from 2001:41d0:701:1100::29c8: seq=2 ttl=45 time=249.691 ms é€šè¿‡ä¸Šè¾¹å‘½ä»¤å¯ä»¥å‘ç°å·²ç»æ”¯æŒäº†ipv6äº†ã€‚\ndocker compose ç¼–å†™docker-compose.yamlæ–‡ä»¶ ï¼Œä½¿ç”¨åˆšæ‰åˆ›å»ºçš„ç½‘ç»œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 version: \u0026#39;3\u0026#39; networks: mynet: external: true services: xray: image: teddysun/xray restart: unless-stopped container_name: xray environment: # è‡ªå®šä¹‰host - XRAY_HOST=${XRAY_HOST} ports: - 13100:13100 networks: - mynet volumes: - ./log:/var/log/xray - ./conf/config.json:/etc/xray/config.json è¿è¡Œä¸Šè¾¹çš„xrayåå†æ‰§è¡Œping v6ï¼Œä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸pingé€šçš„ã€‚\nè‡³æ¬¡ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥ç»™dockerå®¹å™¨åˆ†é…ipv6åœ°å€äº†ï¼Œä»¥ä¸Šå°±æ˜¯æŠ˜è…¾è¿‡ç¨‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚\n","date":"2023-07-15T21:34:56Z","permalink":"https://konghanghang.github.io/iminling-pages/2023/docker-container-configuration-ipv6/","title":"dockerå®¹å™¨é…ç½®ipv6"},{"content":"æå…‰é¢æ¿æ˜¯ä¸€ä¸ªå¤šæœåŠ¡å™¨ç«¯å£ç§Ÿç”¨ç®¡ç†é¢æ¿ï¼Œä½ å¯ä»¥æ·»åŠ å¤šå°æœåŠ¡å™¨åŠç«¯å£ï¼Œå¹¶å°†å…¶åˆ†é…ç»™ä»»æ„æ³¨å†Œç”¨æˆ·ï¼Œç§Ÿæˆ·åˆ™å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨è¢«åˆ†é…çš„ç«¯å£æ¥å®Œæˆå„ç§æ“ä½œã€‚æ”¯æŒIPv4ä»¥åŠIPv6ã€‚githubåœ°å€ï¼šæå…‰é¢æ¿ã€‚\nå‡†å¤‡å·¥ä½œ åœ¨æ­£å¼å®‰è£…æå…‰é¢æ¿ä¹‹å‰éœ€è¦åœ¨è¦å®‰è£…çš„æœºå™¨ä¸Šå‡†å¤‡ä»¥ä¸‹å·¥ä½œï¼š\nå®‰è£…dockerå’Œdocker-compose, å‚è€ƒï¼šdockerå®‰è£… ç”Ÿæˆsshå¯†é’¥ã€‚å¦‚æœä½¿ç”¨å¯†ç è¿æ¥å°±ä¸ç”¨ç”Ÿæˆ sshå¯†é’¥ç”Ÿæˆï¼š\n1 2 3 4 # å¦‚æœé¢æ¿æœåŠ¡å™¨å¹¶æ²¡æœ‰å·²ç»ç”Ÿæˆå¥½çš„ ssh å¯†é’¥ ssh-keygen -t rsa -b 4096 -C \u0026#34;your_email@example.com\u0026#34; # åé¢ä¸€ç›´å›è½¦ï¼Œè·³è¿‡è®¾ç½® passphase å³å¯ # ç„¶åè¿˜éœ€è¦å°†é¢æ¿æœåŠ¡å™¨ ~/.ssh/id_rsa.pub é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°æ¯ä¸€å°è¢«æ§æœºçš„ ~/.ssh/authorized_keys æ–‡ä»¶ä¸­å»ã€‚ å‡†å¤‡å·¥ä½œå¥½äº†ä»¥åå°±å¯ä»¥å®‰è£…äº†ã€‚\nå®‰è£… ä½¿ç”¨å®˜æ–¹çš„å®‰è£…å‘½ä»¤ï¼š\n1 2 3 mkdir -p ~/aurora \u0026amp;\u0026amp; cd ~/aurora \u0026amp;\u0026amp; wget https://raw.githubusercontent.com/Aurora-Admin-Panel/deploy/main/docker-compose.yml -O docker-compose.yml \u0026amp;\u0026amp; docker compose up -d # åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·ï¼ˆå¯†ç å¿…é¡»è®¾ç½®8ä½ä»¥ä¸Šï¼Œå¦åˆ™æ— æ³•ç™»é™†ï¼‰ docker-compose exec backend python app/initial_data.py é¦–å…ˆåˆ›å»ºauraraç›®å½•ï¼Œç„¶åæŠŠå®˜æ–¹çš„docker-compose.yamlæ–‡ä»¶ä¸‹è½½ä¸‹æ¥ï¼Œç›´æ¥å¯åŠ¨å°±å¯ä»¥äº†ã€‚\nä¹‹åå¯ä»¥è®¿é—®Â http://ä½ çš„IP:8000Â è¿›å…¥é¢æ¿ã€‚\nä¹‹åå°±æ˜¯æ·»åŠ æœºå™¨ä»¥åŠæ·»åŠ ç«¯å£è½¬å‘ã€‚\nè¿ç§» ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œæƒ³æŠŠé¢æ¿è¿ç§»åˆ°å¦ä¸€å°æœºå™¨ï¼Œå·²ç»é…ç½®å¥½çš„ç«¯å£è½¬å‘ä¸æƒ³å†é…ç½®ä¸€éï¼Œæ‰€ä»¥å°±éœ€è¦ä½¿ç”¨åˆ°è¿ç§»åŠŸèƒ½ã€‚è¿ç§»çš„æ­¥éª¤ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œé¦–å…ˆæ˜¯è¦æŠŠåŸé¢æ¿ä¸­çš„æ•°æ®å¯¼å‡ºæ¥ï¼Œæ‰§è¡Œå‘½ä»¤è¦åœ¨auroraç›®å½•ä¸‹è¿›è¡Œï¼š\n1 2 # docker-compose exec -T postgres pg_dump -d aurora -U [æ•°æ®åº“ç”¨æˆ·åï¼Œé»˜è®¤aurora] -c \u0026gt; data.sql docker compose exec -T postgres pg_dump -d aurora -U aurora -c \u0026gt; data.sql ç„¶åæŠŠå¯¼å‡ºçš„data.sqlä¼ åˆ°æ–°çš„è¦å®‰è£…é¢æ¿çš„æœºå™¨ä¸Šï¼Œåœ¨é‚£è¾¹ç”¨åŒæ ·çš„æ–¹æ³•å…ˆå®‰è£…é¢æ¿(æŠŠä¸Šè¾¹çš„å®‰è£…æ­¥éª¤å®Œæ•´çš„èµ°ä¸€é)ï¼Œç„¶åæ ¹æ®å®˜æ–¹çš„è¿ç§»æŒ‡å¼•ï¼Œåœ¨æ–°å®‰è£…é¢æ¿çš„æœºå™¨ä¸Šçš„auroraç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n1 2 3 4 5 6 7 8 # é¦–å…ˆå…ˆæŠŠæ‰€æœ‰æœåŠ¡åœä¸‹ docker compose down # åªå¯åŠ¨æ•°æ®åº“æœåŠ¡ docker compose up -d postgres # æ‰§è¡Œæ•°æ®æ¢å¤ docker compose exec -T postgres psql -d aurora -U [æ•°æ®åº“ç”¨æˆ·åï¼Œé»˜è®¤aurora] \u0026lt; data.sql # ç„¶åæ­£å¸¸å¯åŠ¨æ‰€æœ‰æœåŠ¡ docker compose up -d ç­‰åˆ°æ‰€æœ‰å®¹å™¨éƒ½èµ·æ¥çš„æ—¶å€™ï¼Œå¯ä»¥ç»§ç»­è®¿é—®Â http://ä½ çš„IP:8000 è¿›å…¥é¢æ¿ã€‚æŸ¥çœ‹ç›¸å…³çš„æ•°æ®æ˜¯å¦ä¹Ÿè¿ç§»è¿‡æ¥äº†ã€‚å®‰ç…§æ­¥éª¤æ¥æˆ‘æ˜¯å·²ç»å¯ä»¥æ­£å¸¸è¿ç§»çš„ã€‚\n","date":"2023-06-09T22:08:05Z","image":"https://images.iminling.com/app/hide.php?key=VE8yR2psZGRDY05xQlZsRmlJUzB5cTVjcERqTGZnTVNjNHFiU2g5SjJvazNMbUxNRjcrTFd3Si9PdDhTd3ViTGJBRHErTzg9","permalink":"https://konghanghang.github.io/iminling-pages/2023/jiguang-pannel-install-and-migrate/","title":"æå…‰é¢æ¿å®‰è£…åŠè¿ç§»"},{"content":"è®°å½•ä¸€ä¸‹å®‰è£…dockerçš„è¿‡ç¨‹ï¼Œå…·ä½“çš„å®‰è£…æ­¥éª¤éƒ½æ˜¯å‚è€ƒdockerçš„å®˜æ–¹ç½‘ç«™è¿›è¡Œçš„å®‰è£…ã€‚\nubuntuå®‰è£… å¸è½½æ—§ç‰ˆ æ‰§è¡Œä¸‹è¾¹çš„å‘½ä»¤\n1 2 3 4 5 ubuntu@VM-20-3-ubuntu:~$ sudo apt-get remove docker docker-engine docker.io containerd runc Reading package lists... Done Building dependency tree Reading state information... Done E: Unable to locate package docker-engine æ‰§è¡Œä¸Šè¾¹çš„å‘½ä»¤æ¸…é™¤ä»¥å‰çš„å®‰è£…ã€‚\nè®¾ç½®æº æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n1 2 3 4 5 6 7 8 ubuntu@VM-20-3-ubuntu:~$ sudo apt-get update ubuntu@VM-20-3-ubuntu:~$ sudo apt-get install \\ ca-certificates \\ curl \\ gnupg \\ lsb-release # æ·»åŠ dockerå®˜æ–¹GPG key ubuntu@VM-20-3-ubuntu:~$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc æ‰§è¡Œ 1 2 3 4 ubuntu@VM-20-3-ubuntu:~$ echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\ $(. /etc/os-release \u0026amp;\u0026amp; echo \u0026#34;$VERSION_CODENAME\u0026#34;) stable\u0026#34; | \\ sudo tee /etc/apt/sources.list.d/docker.list \u0026amp;gt; /dev/null è®¾ç½®å®‰è£…æºã€‚\nå®‰è£… å…ˆæ›´æ–°åˆšæ‰å®‰è£…çš„æºï¼Œç„¶åå°±å¯ä»¥æ‰§è¡Œå®‰è£…äº†ï¼š\n1 2 3 4 # æ›´æ–° sudo apt-get update # å®‰è£… sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin ä¸Šè¾¹çš„å®‰è£…æ˜¯å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå¦‚æœæƒ³å®‰è£…ç‰¹å®šç‰ˆæœ¬åˆ™éœ€è¦å…ˆæŸ¥çœ‹æœ‰å“ªäº›å¯ä»¥å®‰è£…çš„ç‰ˆæœ¬ï¼š\n1 2 3 4 5 ubuntu@VM-20-3-ubuntu:~$ apt-cache madison docker-ce docker-ce | 5:20.10.16~3-0~ubuntu-focal | https://download.docker.com/linux/ubuntu focal/stable amd64 Packages docker-ce | 5:20.10.15~3-0~ubuntu-focal | https://download.docker.com/linux/ubuntu focal/stable amd64 Packages docker-ce | 5:20.10.14~3-0~ubuntu-focal | https://download.docker.com/linux/ubuntu focal/stable amd64 Packages docker-ce | 5:20.10.13~3-0~ubuntu-focal | https://download.docker.com/linux/ubuntu focal/stable amd64 Packages æ‰¾åˆ°ç‰ˆæœ¬åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è¿›è¡Œå®‰è£…ï¼š\n1 2 # ç‰ˆæœ¬æ˜¯ä¸Šä¸ªå‘½ä»¤è¾“å‡ºçš„ç¬¬ä¸ªåˆ—5:20.10.16~3-0~ubuntu-focal sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin å®‰è£…åå°±å¯ä»¥ä½¿ç”¨äº†ã€‚\nä¸ä½¿ç”¨sudo ubuntuçš„ç³»ç»Ÿå¦‚æœä½¿ç”¨çš„ä¸æ˜¯rootå®‰è£…ï¼Œæ¯æ¬¡è¿è¡Œå‘½ä»¤éƒ½æ˜¯éœ€è¦ä½¿ç”¨sudo,ç›¸å¯¹æ¥è¯´æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨sudoï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥è§£å†³ï¼š\n1 2 3 4 5 6 ubuntu@VM-20-3-ubuntu:~$ sudo groupadd docker [sudo] password for root: groupadd: group \u0026#39;docker\u0026#39; already exists ubuntu@VM-20-3-ubuntu:~$ sudo gpasswd -a ${USER} docker Adding user ubuntu to group docker ubuntu@VM-20-3-ubuntu:~$ newgrp - docker è¿™æ ·å­ä½¿ç”¨èµ·æ¥å°±æ–¹ä¾¿äº†å¾ˆå¤šã€‚\ndebainå®‰è£… å‰ä¸¤æ­¥å’ŒubuntuåŸºæœ¬ä¸€æ ·ï¼Œåˆ é™¤æ—§ç‰ˆï¼Œç„¶åè®¾ç½®æºã€‚\nåˆ é™¤æ—§ç‰ˆä»¥åŠæ›´æ–°apt 1 2 3 4 # åˆ é™¤æ—§ç‰ˆ root@s9707 ~ # apt-get remove docker docker-engine docker.io containerd runc # æ›´æ–°aptåŒ…ç´¢å¼• root@s9707 ~ # apt-get update æ·»åŠ gpg æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ·»åŠ gpg\n1 2 root@s9707 ~ # mkdir -p /etc/apt/keyrings root@s9707 ~ # curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc å¦‚æœåœ¨æ·»åŠ gpgçš„æ—¶å€™æŠ¥é”™ï¼šgpg: command not found\nåˆ™å¯ä»¥å…ˆå®‰è£…gpgï¼š\n1 root@s9707:~# apt-get install gnupg gnupg2 è®¾ç½®ä»“åº“ é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ ä»“åº“\n1 2 3 4 root@s9707:~# echo \\ \u0026#34;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \\ $(. /etc/os-release \u0026amp;\u0026amp; echo \u0026#34;$VERSION_CODENAME\u0026#34;) stable\u0026#34; | \\ tee /etc/apt/sources.list.d/docker.list \u0026amp;gt; /dev/null ç„¶åå†æ¬¡æ›´æ–°aptåŒ…ç´¢å¼•ï¼š\n1 root@s9707 ~ # apt-get update å®‰è£…docker æ¥ä¸‹æ¥å°±æ˜¯å®‰è£…ï¼š\n1 apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin æ•´ä¸ªå®‰è£…è¿‡ç¨‹ä¹Ÿä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œè·Ÿç€å®˜æ–¹çš„æ­¥éª¤èµ°å°±å¯ä»¥äº†ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„å®‰è£…è¿‡ç¨‹ï¼Œæ–¹ä¾¿ä»¥åå¿«é€Ÿå®‰è£…ã€‚\n","date":"2023-06-09T21:49:42Z","image":"https://images.iminling.com/app/hide.php?key=dnp6YVlCOXUzcXZ3NHRyMlZGVEZDYUY3c3h6eW9ET21TY3YrWWwrZTZBcllvQU1ZQkIxWXlaQnRpRVR5cml3VDVIRUJUTFk9","permalink":"https://konghanghang.github.io/iminling-pages/2023/linux-install-docker/","title":"linuxæœåŠ¡å™¨å¿«é€Ÿå®‰è£…dockerå’Œdocker-compose"},{"content":"èµ·å›  æœ€è¿‘å·¥ä½œä¸­éœ€è¦ä½¿ç”¨åˆ°ftpå·¥å…·ï¼Œå°±åœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªjavaç¼–å†™çš„ftpå·¥å…·ç±»ï¼ŒåŠŸèƒ½ä¹Ÿæ˜¯æŒºé½å…¨çš„ï¼Œæˆ‘åœ¨æœ¬åœ°æµ‹è¯•çš„æ—¶å€™å¯¹æ–‡ä»¶çš„ä¸‹è½½å’Œä¸Šä¼ éƒ½æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œæ­£å¸¸ä½¿ç”¨ã€‚ç­‰åˆ°åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œéƒ¨ç½²åˆ°k8så°±å‡ºç°äº†æ— æ³•è¯»å–ftpæœåŠ¡å™¨çš„æ–‡ä»¶çš„æƒ…å†µï¼Œèµ·åˆä»¥ä¸ºæ˜¯ftpæœåŠ¡å™¨çš„é—®é¢˜ï¼Œå°±åˆé‡æ–°æ­å»ºäº†æ–°çš„ftpæœåŠ¡å™¨è¿˜æ˜¯åŒæ ·çš„é—®é¢˜ã€‚ä¸­é—´ä¹Ÿæƒ³è¿‡æ˜¯ä¸æ˜¯å·¥å…·ç±»çš„åŠŸèƒ½ï¼Œå°±åœ¨ç½‘ä¸ŠæŸ¥è¯¢äº†å¥½ä¹…ï¼Œå¤§å®¶åŸºæœ¬éƒ½æ˜¯ç”¨çš„commons-netè¿™ä¸ªåŒ…ï¼Œå…·ä½“çš„mavenä¾èµ–å¦‚ä¸‹ï¼š\n1 2 3 4 5 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;commons-net\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-net\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.6\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; ä»¥ä¸ºç½‘ä¸Šæ‰¾çš„å·¥å…·æœ‰é—®é¢˜ï¼Œåæ¥å°±å¼•ç”¨äº†hutoolå·¥å…·ç±»ä¸­çš„æ–¹æ³•ï¼Œè¿˜æ˜¯åŒæ ·çš„é—®é¢˜ï¼Œç™¾æ€ä¸å¾—å…¶è§£çš„æ—¶å€™ï¼Œçœ‹åˆ°hutoolå·¥å…·ç±»é‚£é‡Œæœ‰ä¸€ä¸ªæ ‡é¢˜ï¼šä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼ã€‚èµ·åˆæˆ‘ä¹Ÿæ²¡æ³¨æ„è¿™ä¸ªï¼Œæ¯•ç«Ÿæ˜¯ä¸€å †çš„ç†è®ºã€‚å®åœ¨æ˜¯è¢«è¿™ä¸ªé—®é¢˜è™çš„ä½“æ— å®Œè‚¤çš„æ—¶å€™ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹è¿™ä¸ªæ¦‚å¿µï¼Œæç„¶å¤§æ‚Ÿï¼Œä¸å°±æ˜¯å› ä¸ºè¿™ä¸ªåŸå› å—ï¼Ÿä¸‹é¢æˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹è¿™ä¸¤ä¸ªæ¨¡å¼\nPORTå’ŒPASV åœ¨è§£é‡Šå…·ä½“çš„æ¦‚å¿µå‰ï¼Œæˆ‘ä»¬å…ˆæ¥è¯´æ˜ä¸€ä¸‹ä¸»åŠ¨å’Œè¢«åŠ¨å®ƒé’ˆå¯¹çš„å¯¹è±¡æ˜¯è°ï¼Œå…¶å®ä¸»åŠ¨å’Œè¢«åŠ¨éƒ½æ˜¯é’ˆå¯¹ftpæœåŠ¡å™¨æ¥è¯´çš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è¯´æ˜ä¸€ä¸‹ä¸¤ä¸ªæ¨¡å¼\nå’Œ\nPORTï¼ˆä¸»åŠ¨æ¨¡å¼ï¼‰ FTPå®¢æˆ·ç«¯è¿æ¥åˆ°FTPæœåŠ¡å™¨çš„21ç«¯å£ï¼Œå‘é€ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼Œç™»å½•æˆåŠŸåè¦liståˆ—è¡¨æˆ–è€…è¯»å–æ•°æ®æ—¶\n_å®¢æˆ·ç«¯_éšæœºå¼€æ”¾ä¸€ä¸ªç«¯å£ï¼ˆ1024ä»¥ä¸Šï¼‰ï¼Œå‘é€ PORTå‘½ä»¤åˆ°FTPæœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å®¢æˆ·ç«¯é‡‡ç”¨ä¸»åŠ¨æ¨¡å¼å¹¶å¼€æ”¾ç«¯å£ï¼›\nFTPæœåŠ¡å™¨æ”¶åˆ°PORTä¸»åŠ¨æ¨¡å¼å‘½ä»¤å’Œç«¯å£å·åï¼Œé€šè¿‡æœåŠ¡å™¨çš„20ç«¯å£å’Œå®¢æˆ·ç«¯å¼€æ”¾çš„ç«¯å£è¿æ¥ï¼Œå‘é€æ•°æ®ã€‚\næ­¤æ¨¡å¼æ˜¯ftpæœåŠ¡å™¨ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„ä¸€ä¸ªç«¯å£ï¼Œå¹¶æä¾›æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æœåŠ¡ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯éœ€è¦å¼€å‘ç«¯å£çš„æƒé™å‡ºæ¥ï¼Œé˜²ç«å¢™è¿›è¡Œæ”¾è¡Œï¼Œè¿™æ ·å­ftpæœåŠ¡å™¨æ‰èƒ½è¿æ¥åˆ°_å®¢æˆ·ç«¯_è¿›è¡Œæ–‡ä»¶å¤„ç†ã€‚\nPASVï¼ˆè¢«åŠ¨æ¨¡å¼ï¼‰ FTPå®¢æˆ·ç«¯è¿æ¥åˆ°FTPæœåŠ¡å™¨çš„21ç«¯å£ï¼Œå‘é€ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼Œç™»å½•æˆåŠŸåè¦liståˆ—è¡¨æˆ–è€…è¯»å–æ•°æ®æ—¶ï¼Œ\nå®¢æˆ·ç«¯å‘é€PASVå‘½ä»¤åˆ°FTPæœåŠ¡å™¨ï¼Œ æœåŠ¡å™¨åœ¨æœ¬åœ°éšæœºå¼€æ”¾ä¸€ä¸ªç«¯å£ï¼ˆ1024ä»¥ä¸Šï¼‰ï¼Œç„¶åæŠŠå¼€æ”¾çš„ç«¯å£å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œ\nå®¢æˆ·ç«¯å†è¿æ¥åˆ°æœåŠ¡å™¨å¼€æ”¾çš„ç«¯å£è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚\næ­¤æ¨¡å¼æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å»è¿ftpæœåŠ¡ç«¯çš„ç«¯å£ï¼Œç„¶åå†è¿›è¡Œæ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ï¼Œå’Œæˆ‘ä»¬æ­£å¸¸æ€ç»´é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œæ­¤æ—¶å°±éœ€è¦ftpæœåŠ¡ç«¯å¼€æ”¾å…·ä½“çš„ç«¯å£å‡ºæ¥ï¼Œå¹¶åœ¨é˜²ç«å¢™ä¸­è¿›è¡Œæ”¾è¡Œï¼Œå®¢æˆ·ç«¯æ‰èƒ½è¿æ¥ä¸Šå»è¿›è¡Œæ–‡ä»¶å¤„ç†ã€‚\né—®é¢˜åŸå›  è¿™é‡Œæ¥è¯´æ˜ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜çš„åŸå› ï¼Œå› ä¸ºæˆ‘æ˜¯ç½‘ä¸Šæ‰¾çš„å®¢æˆ·ç«¯ï¼Œæˆ‘èµ·åˆä¹Ÿå¹¶ä¸æ¸…æ¥šå®ƒä½¿ç”¨çš„æ˜¯ä¸»åŠ¨æ¨¡å¼è¿˜æ˜¯è¢«åŠ¨æ¨¡å¼ï¼Œå°±ç›´æ¥å‘å¸ƒåˆ°k8sä¸­è¿›è¡Œä½¿ç”¨ï¼Œä»é‡åˆ°çš„æƒ…å†µæ¥çœ‹ï¼Œåº”è¯¥é»˜è®¤ä½¿ç”¨çš„æ˜¯ä¸»åŠ¨æ¨¡å¼:ç”±ftpæœåŠ¡å™¨ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„é«˜ä½ç«¯å£ï¼Œæ¥å®ç°æ–‡ä»¶çš„ä¸Šä¼ å’Œä¸‹è½½ã€‚ä½†æ˜¯å› ä¸ºæˆ‘çš„æœåŠ¡æ˜¯æ”¾åœ¨k8sä¸­ï¼Œå®¹å™¨çš„ç«¯å£éƒ½æ˜¯éœ€è¦å†™å‘½ä»¤æš´éœ²å‡ºæ¥çš„ï¼Œè€Œæˆ‘ä»¬ç³»ç»Ÿçš„å®¹å™¨éƒ½æ˜¯é»˜è®¤åªæš´éœ²äº†8080ç«¯å£æ¥è¿›è¡ŒæœåŠ¡çš„è®¿é—®ã€‚\næ‰€ä»¥åœ¨ä½¿ç”¨ä¸»åŠ¨æ¨¡å¼çš„æ—¶å€™ï¼ŒftpæœåŠ¡å™¨æƒ³é€šè¿‡é«˜ä½ç«¯å£æ¥è¿æ¥åˆ°å®¢æˆ·ç«¯æ˜¯æ²¡æœ‰åŠæ³•æˆåŠŸçš„ï¼Œæ‰€ä»¥åœ¨è·å–æ–‡ä»¶çš„æ—¶å€™å°±ä»€ä¹ˆä¹Ÿæ‹¿ä¸åˆ°ã€‚\nè§£å†³åŠæ³• æˆ‘ä»¬çŸ¥é“äº†å…·ä½“ä»€ä¹ˆé—®é¢˜é‚£å°±å¥½è§£å†³äº†ï¼Œè§£å†³åŠæ³•ä¹Ÿå°±æ˜¯æŒ‡å®šå½“å‰ftpå®¢æˆ·ç«¯æ˜¯ä½¿ç”¨ä¸»åŠ¨æ¨¡å¼è¿˜æ˜¯è¢«åŠ¨æ¨¡å¼ã€‚\nå› ä¸ºæˆ‘ä»¬çš„æœåŠ¡éƒ½æ˜¯éƒ¨ç½²åœ¨k8sä¸­çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©ä½¿ç”¨è¢«åŠ¨æ¨¡å¼æ¥è¿›è¡Œæ–‡ä»¶å¤„ç†ï¼Œè¿™æ ·å­k8sä¸­çš„å®¹å™¨å°±ä¸éœ€è¦åšä»€ä¹ˆå¤„ç†ã€‚è€ŒftpæœåŠ¡å™¨åˆ™éœ€è¦å¯¹é«˜ä½ç«¯å£è¿›è¡Œæ”¾è¡Œï¼Œä»¥ä¾¿å®¢æˆ·ç«¯å¯ä»¥è¿æ¥ä¸Šæ¥è¿›è¡ŒæœåŠ¡çš„ä¸Šä¼ å’Œä¸‹è½½ã€‚\nä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 FTPClient ftpClient = new FTPClient(); ftpClient.connect(url, port); ftpClient.enterLocalActiveMode(); //ä¸»åŠ¨æ¨¡å¼ // ftpClient.enterLocalPassiveMode(); è¢«åŠ¨æ¨¡å¼ ftpClient.setControlEncoding(\u0026#34;UTF-8\u0026#34;); ftpClient.changeWorkingDirectory(path); ","date":"2023-06-01T17:21:12Z","image":"https://images.iminling.com/app/hide.php?key=cStKcGRtRXppeGVqL01GdXRLaVRCbDlEN2JJSjZTaHBoL210b1ZaUW1xdDRSVU9ObzdzSGM4c3BqVHh1ZTNKc25nbEdvVk09","permalink":"https://konghanghang.github.io/iminling-pages/2023/java-ftp-cannot-read-file-in-k8s/","title":"javaè¿æ¥ftpéƒ¨ç½²åœ¨k8sä¸­æ— æ³•è¯»å–æ–‡ä»¶"},{"content":"å¼€å‘éœ€è¦ä½¿ç”¨ideaï¼Œä»¥å‰ä½¿ç”¨çš„æ˜¯ç ´è§£ç‰ˆï¼Œä½¿ç”¨èµ·æ¥æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œåè¾¹è§‰å¾—ç ´è§£å®åœ¨æ˜¯éº»çƒ¦ï¼Œå°±è½¬æ­£è´­ä¹°äº†æ­£å¼ç‰ˆï¼Œéšæ„å‡çº§çš„æ„Ÿè§‰è¿˜æ˜¯å¾ˆç¾å¥½çš„ï¼Œå“ˆå“ˆã€‚ç­‰åˆ°ç¬¬äºŒå¹´å¿«è¦ç»­è´¹çš„æ—¶å€™æ‰äº†è§£åˆ°å¯ä»¥ä½¿ç”¨å¼€æºé¡¹ç›®æ¥ç”³è¯·ideaå…¨å®¶æ¡¶çš„Licenseï¼Œäºæ˜¯å°±å¼€å§‹äº†æŠ˜è…¾ä¹‹è·¯ã€‚\nç”³è¯·å‡†å¤‡ æƒ³è¦ç”³è¯·å…è´¹çš„Licenseè¿˜æ˜¯éœ€è¦å‡†å¤‡ä¸€äº›äº‹æƒ…çš„ï¼š\næ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å¼€æºé¡¹ç›®ï¼š äº†è§£å¼€æºå®šä¹‰ã€‚ æ­£åœ¨ç§¯æå¼€å‘ï¼Œä¾‹å¦‚ï¼Œåœ¨è¿‡å» 3 ä¸ªæœˆå†…å®šæœŸæäº¤æ–°ä»£ç ã€‚ ä¸æä¾›å¼€æºè½¯ä»¶çš„ä»˜è´¹ç‰ˆæœ¬ï¼Œä¹Ÿä¸æä¾›ä¸å¼€æºé¡¹ç›®ç›¸å…³çš„ä»»ä½•å•†ä¸šæœåŠ¡ï¼ˆä¾‹å¦‚ä»˜è´¹æ”¯æŒã€å’¨è¯¢ç­‰ï¼‰ã€‚ æœªè·å¾—å•†ä¸šå…¬å¸æˆ–ç»„ç»‡ï¼ˆNGOã€æ•™è‚²ã€ç ”ç©¶æˆ–æ”¿åºœç»„ç»‡ï¼‰çš„èµ„åŠ©ã€‚ ä¸ä¸ºä»–ä»¬çš„æ ¸å¿ƒé¡¹ç›®å¼€å‘è€…æ”¯ä»˜å·¥èµ„ã€‚ æ”¯æŒæ¡æ¬¾ï¼š è®¸å¯è¯ä»…æä¾›ç»™é¡¹ç›®è´Ÿè´£äººå’Œæ ¸å¿ƒé¡¹ç›®æäº¤è€…ã€‚ è®¸å¯è¯æœ‰æ•ˆæœŸä¸ºä¸€å¹´ï¼Œä¹‹åå¦‚æœæ‚¨çš„é¡¹ç›®ä»ç¬¦åˆæ”¯æŒè®¡åˆ’è¦æ±‚ï¼Œä¹Ÿå¯ä»¥ç»­è®¢ã€‚ æ‚¨åªèƒ½å°†å…è´¹è®¸å¯è¯ç”¨äºå¼€å‘éå•†ä¸šå¼€æºé¡¹ç›®ã€‚ æ‚¨ä¸èƒ½ä¸ä»»ä½•ç¬¬ä¸‰æ–¹å…±äº«å…è´¹è®¸å¯è¯ã€‚ githubçš„é‚®ç®±è¦è®¾ç½®æˆå…¬å¼€çš„ï¼Œkeep my email addresses privateå»æ‰å‹¾é€‰ï¼š\nç„¶åå°±å¯ä»¥å¼€å§‹ç”³è¯·äº†ã€‚\nç”³è¯· ç”³è¯·åœ°å€ï¼šRequest for Open Source Development Licenseï¼Œé‡Œè¾¹å…±æœ‰ä¸‰å¤§é¡¹éœ€è¦å¡«å†™\næ–°ç”¨æˆ·è¿˜æ˜¯è€ç”¨æˆ· å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç”³è¯·ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯æ–°ç”¨æˆ·ï¼Œé€‰æ‹© **No, we are a new customer.**å¦‚æœæ˜¯åç»­é€šé“åˆ°æœŸç»­çš„è¯ï¼Œé‚£å°±æ˜¯ç¬¬äºŒä¸ªé€‰é¡¹äº†\né¡¹ç›®ä¿¡æ¯ å¡«å†™è‡ªå·±é¡¹ç›®çš„ä¸€äº›ä¿¡æ¯ï¼šé¡¹ç›®åç§°ï¼Œé¡¹ç›®ç½‘ç«™åœ°å€(å¦‚æœæ²¡æœ‰é¡¹ç›®ç½‘ç«™åœ°å€å¯ä»¥å’Œä»“åº“åœ°å€å¡«å†™åŒä¸€ä¸ªåœ°å€)ï¼Œä»“åº“åœ°å€ï¼ŒLicenseåœ°å€(ä»“åº“ä¸­çš„å¼€æºåè®®æ–‡ä»¶)ï¼Œä»¥åŠä¸€äº›é¡¹ç›®çš„ä¿¡æ¯ï¼Œå¦‚å®å¡«å†™å°±å¯ä»¥äº†ã€‚\nå…³äºæˆ‘ä»¬è‡ªå·± ä¸»è¦å°±æ˜¯é‚®ç®±ï¼Œgithubä¸ªäººä¸»é¡µï¼Œä»¥åŠå§“åï¼Œå¡«å†™å®Œæˆåå†å‹¾é€‰ä¸€äº›åè®®ä¿¡æ¯å°±å¯ä»¥æäº¤äº†ã€‚æ•´ä¸ªè¿‡ç¨‹è¿˜æ˜¯å¾ˆå¿«çš„ã€‚æäº¤åå°±ä¼šæ”¶åˆ°é‚®ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 Hello xxx, Thank you for your OSS development license request. We will evaluate your project, and weâ€™ll notify you of our decision by email. Please note that it could take up to one week to have your project reviewed. If you have any questions, please contact us atJetBrains Community Support. Kind regards, JetBrains Community Support Team www.jetbrains.com The Drive to Develop æç¤ºå·²ç»æ”¶åˆ°äº†æˆ‘ä»¬çš„ç”³è¯·ï¼Œéœ€è¦ä¸€ä¸ªæ˜ŸæœŸæ¥å®¡æ ¸æˆ‘ä»¬çš„ç”³è¯·ã€‚æ¥ä¸‹æ¥å°±æ˜¯è€å¿ƒç­‰å¾…äº†ã€‚\nå®¡æ ¸ç»“æœ å¤§æ¦‚å››äº”å¤©å°±ä¼šå‡ºå®¡æ ¸ç»“æœï¼Œå®¡æ ¸ä¸é€šè¿‡å°±æ˜¯ä¸‹è¾¹çš„é‚®ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 Hello xxx, Thank you for contacting us. Iâ€™ve checked if your open source project is still actively and regularly developed - it is one of the main requirements ofJetBrains Open Source Support Program. According to the project\u0026#39;s repository, it has not been actively developed, so Iâ€™m afraid that we cannot provide free licenses for your project at this point. Please feel free to contact us again atopensource@jetbrains.comonce you resume active work on your project. If you have any additional questions, I will be glad to help. Regards, Paige Rothmaller JetBrains Americas Phone: 609-714-7883 Fax: 866-838-6784 https://www.jetbrains.com The Drive to Develop å¦‚æœå®¡æ ¸é€šè¿‡åˆ™æ˜¯ä¸‹è¾¹çš„é‚®ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 Dear xxx, Congratulations, your request to JetBrains for Open Source development license(s) has been approved! The license certificate is attached to this message. Main facts about your license(s): They are valid for one year. You will receive an automatic email reminder shortly before the license expiration date. They should be used for developing your non-commercial open source projects only. If youâ€™ve received more than one license, please share them only with active contributors to your project. To redeem your license(s), please click the link below: Take me to my license(s) If you find that JetBrains software has been useful for your project, please consider mentioning JetBrains support on your projectâ€™s homepage. Feel free to use theJetBrains logoand a link to our website such ashttps://jb.gg/OpenSourceSupport. If you have any questions, please get in touch with us atopensource@jetbrains.com. Weâ€™ll be glad to help. Kind regards, JetBrains Community Support Team https://www.jetbrains.com The Drive to Develop ç»­æœŸ å…è´¹çš„licenseéœ€è¦ä¸€å¹´ä¸€ç»­çš„ï¼Œåœ¨åˆ°æœŸå‰ä¼šæœ‰é‚®ä»¶é€šçŸ¥æˆ‘ä»¬æ¥è¿›è¡Œç»­æœŸï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Hi xxx, Your JetBrains All Products Pack license(s) will expire in two weeks, on June 3, 2023. We hope that our products have been useful in the development of your open source project. If your project is still in active development, please consider applying for renewal. Donâ€™t hesitate to contact us if you have any questions or issues regarding our support program â€“ we\u0026#39;ll be glad to help. We would also appreciate any feedback on your experience with JetBrains products. Thank you! Kind regards, JetBrains Community Support Team https://www.jetbrains.com The Drive to Develop æˆ‘ä»¬å¯ä»¥ç›´æ¥ç‚¹å‡»é‚®ä»¶é‡Œçš„applying for renewalæ¥ç»­æœŸæˆ‘ä»¬çš„licenseã€‚\nå¡«å†™çš„ä¿¡æ¯å’Œç¬¬ä¸€æ¬¡ç”³è¯·åŸºæœ¬ä¸€æ ·ï¼Œåªæ˜¯åœ¨ç¬¬ä¸€é¡¹æ–°è€ç”¨æˆ·é€‰æ‹©çš„æ—¶å€™é€‰æ‹©è€ç”¨æˆ·ï¼Œç„¶åå¡«å†™ç¬¬ä¸€æ¬¡ç”³è¯·é€šè¿‡çš„license IDå°±å¯ä»¥äº†ã€‚\næäº¤ç”³è¯·åè¿˜æ˜¯ä¼šæœ‰é‚®ä»¶é€šçŸ¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Hello xx, We\u0026#39;re writing to you in regards to your OSS development license request. We\u0026#39;ve run an automated check of your GitHub repository to see if your open source project meets the requirements of our Open Source Support Program. Unfortunately, the check failed because the project has not been actively developed recently. We need to see regular code commits submitted for the past 3 months or more. Readme.md and other non-code commits do not count. If you continue working on your project for a few more months, you\u0026#39;re welcome to re-apply for support. If you believe that your application has been evaluated incorrectly, please email us back at opensource@jetbrains.com. Weâ€™ll be glad to look into your case and see how we can help you. Thank you! The Community Support team JetBrains https://www.jetbrains.com The Drive to Develop ç”±äºæˆ‘çš„é¡¹ç›®æœ€è¿‘ä¸‰ä¸ªæœˆæ²¡æœ‰æäº¤è¿‡è®°å½•ï¼Œå¾ˆå¿«å°±æ”¶åˆ°äº†æ‹’ç»çš„é‚®ä»¶ï¼Œæ‰€ä»¥å¦‚æœæƒ³ç»­æœŸï¼Œç»­æœŸå‰çš„ä¸‰ä¸ªæœˆæœ€å¥½æäº¤ä¸€ä¸‹commitï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 Hello xxx, Thank you for your OSS development license request. We will evaluate your project, and weâ€™ll notify you of our decision by email. Please allow up to 2 weeks for your application to be processed, as we\u0026#39;re currently experiencing a high volume of requests. We appreciate your patience. If you need assistance with an urgent license renewal request, please contact us at opensource@jetbrains.com. Kind regards, JetBrains Community Support Team www.jetbrains.com The Drive to Develop åç»­ ç»ˆäºç­‰åˆ°äº†3ä¸ªæœˆï¼Œ2023-07-01æ—¥é©¬ä¸Šåˆæäº¤äº†ç”³è¯·ï¼Œè¿™æ¬¡ç»ˆäºè¿‡äº†æ£€æŸ¥ï¼Œæœ‰å¼€å§‹äº†æ¼«é•¿çš„ç­‰å¾…ã€‚07-07å‡Œæ™¨æ”¶åˆ°äº†ä¸€å°é‚®ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 Dear xx, Thanks for your interest in our Open Source Program! Could you please provide more details about your OS project and its functionality? What tools are you interested in and how are you going to use them? Thanks, I look forward to your response! Kind Regards, xx Community Support Team JetBrains www.jetbrains.com The Drive to Develop æ—©ä¸Šå°±èµ¶ç´§å›å¤é‚®ä»¶ï¼Œä»‹ç»äº†ä¸€ä¸‹é¡¹ç›®æƒ…å†µï¼Œä»¥åŠå¯¹å“ªäº›å·¥å…·æ„Ÿå…´è¶£ï¼Œå½“å¤©æ™šä¸Šå°±æ”¶åˆ°äº†é€šè¿‡çš„é‚®ä»¶ï¼Œæ¯”åˆæ¬¡ç”³è¯·çš„æ—¶å€™ç¨å¾®éº»çƒ¦äº†ä¸€ç‚¹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Hi xx, Thank you for providing such detailed information. Weâ€™ve extended your free All Products Pack license for another year. Please check your inbox for the new license certificate. If you have any questions, please feel free to contact me. Have a nice day! Kind Regards, xx Community Support Team JetBrains www.jetbrains.com The Drive to Develop æœ€åç¥å¤§å®¶éƒ½å¯ä»¥æˆåŠŸçš„ç”³è¯·ä¸‹æ¥ã€‚\n","date":"2023-05-20T04:18:39Z","image":"https://images.iminling.com/app/hide.php?key=a3ZmSmVFVjBZbzZDQkpDKzNPQ0hCQ1p3VFpIYVVWU0tUSk54LzZVbjY3R0t1VXVzRThlcDdGOGFXYmtzREE3NW1rY3duQzg9","permalink":"https://konghanghang.github.io/iminling-pages/2023/apply-jetbrains-open-source-development-license/","title":"å¼€æºé¡¹ç›®ç”³è¯·JetBrains Open Source Development License"},{"content":"åœ¨iosç«¯è™½ç„¶æœ‰å¾ˆå¤šå¯ä»¥ç”¨æ¥ä»£ç†çš„è½¯ä»¶ï¼Œä½†æ˜¯å¤§å¤šçŸ¥åçš„è½¯ä»¶éƒ½æ²¡æ³•å®Œæ•´çš„æ”¯æŒreality, å°ç«ç®­(shadowrocket)æ˜¯æ”¯æŒæœ€å¥½çš„ä¸€ä¸ªè½¯ä»¶äº†ï¼Œæ”¯æŒåˆ°äº†xray1.7.5çš„ç‰ˆæœ¬ï¼Œå¯ä»¥æ¥é…ç½®rprx-vision,æˆªæ­¢å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™è¿˜æ²¡æœ‰æ”¯æŒrealityã€‚å…¶ä»–çš„åœˆX(Quantumult X)ã€Loonä»¥åŠStashéƒ½è¿˜æ²¡æœ‰å®Œæ•´çš„æ”¯æŒvision,æ‰€ä»¥åœ¨iosä¸Šä½¿ç”¨ä»£ç†è½¯ä»¶è¿˜æ˜¯æœ‰ä¸€äº›å°´å°¬çš„ã€‚å¥½åœ¨è¿˜æœ‰ä¸¤ä¸ªè½¯ä»¶æ˜¯æ”¯æŒrealityçš„ã€‚è€Œä¸”è¿˜éƒ½æ˜¯å…è´¹è½¯ä»¶ï¼Œä¸€ä¸ªæ˜¯sing-box for ios(SFI)ï¼Œå¦ä¸€ä¸ªå°±mate for iso(MFI)ã€‚ç°åœ¨éƒ½è¿˜åœ¨å†…æµ‹çš„é˜¶æ®µï¼Œä»Šå¤©æˆ‘ä»¬å°±ä¸»è¦ä»‹ç»SFIåœ¨iosä¸Šçš„å®‰è£…å’Œä½¿ç”¨ã€‚\nå®‰è£… å…ˆå®‰è£…TestFlightæ‰å¯ä»¥å®‰è£…ä½¿ç”¨ã€‚ç›´æ¥åœ¨è‹¹æœåº”ç”¨å•†åº—æœç´¢æœç´¢å°±å¯ä»¥äº†ã€‚å®‰è£…å®ŒTestFlightåå°±å¯ä»¥ä½¿ç”¨å®˜æ–¹çš„é‚€è¯·è¿æ¥åŠ å…¥å†…æµ‹äº†ï¼šSFIå®˜æ–¹å®‰è£…åœ°å€ã€‚\nTestFlightå®‰è£…åçš„ç•Œé¢ï¼š\nè½¯ä»¶ï¼š\nä½¿ç”¨ ç•Œé¢ ä¸‹é¢æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹è½¯ä»¶æ‰“å¼€åçš„ç•Œé¢ï¼š\nåˆæ¬¡æ‰“å¼€çš„æ—¶å€™ï¼ŒDashboardç•Œé¢ä¼šæœ‰æ‰€ä¸åŒï¼Œä¼šæç¤ºå®‰è£…ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ ¹æ®æç¤ºå®‰è£…å°±å¯ä»¥äº†ã€‚\næ–°å»ºé…ç½® é…ç½®æ–‡ä»¶æ˜¯åœ¨Profilesèœå•ä¸‹æ–°å»ºçš„ï¼Œç‚¹å‡»New Profileå°±å¯ä»¥äº†ï¼Œæœ‰ä¸‰ä¸ªå‚æ•°éœ€è¦å¡«å†™ï¼šName,Typeå’Œ(File,Pathæˆ–URL)ã€‚\nNameéšä¾¿èµ·ä¸€ä¸ªåå­—å°±å¯ä»¥äº†ï¼ŒTypeå¯ä»¥é€‰æ‹©local(æœ¬åœ°),icloudä»¥åŠRemoteã€‚\næˆ‘ä»¬å¯ä»¥å…ˆåœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ã€‚\nå…·ä½“çš„é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 { \u0026#34;log\u0026#34;: { \u0026#34;level\u0026#34;: \u0026#34;info\u0026#34;, \u0026#34;timestamp\u0026#34;: true }, \u0026#34;dns\u0026#34;: { \u0026#34;servers\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;cloudflare\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;https://1.1.1.1/dns-query\u0026#34; }, { \u0026#34;tag\u0026#34;: \u0026#34;dnspod\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;https://1.12.12.12/dns-query\u0026#34;, \u0026#34;detour\u0026#34;: \u0026#34;direct\u0026#34; }, { \u0026#34;tag\u0026#34;: \u0026#34;block\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;rcode://success\u0026#34; } ], \u0026#34;rules\u0026#34;: [ { \u0026#34;geosite\u0026#34;: \u0026#34;cn\u0026#34;, \u0026#34;server\u0026#34;: \u0026#34;dnspod\u0026#34; }, { \u0026#34;geosite\u0026#34;: \u0026#34;category-ads-all\u0026#34;, \u0026#34;server\u0026#34;: \u0026#34;block\u0026#34;, \u0026#34;disable_cache\u0026#34;: true } ] }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;tun\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;tun-in\u0026#34;, \u0026#34;interface_name\u0026#34;: \u0026#34;utun\u0026#34;, \u0026#34;inet4_address\u0026#34;: \u0026#34;172.19.0.1/30\u0026#34;, \u0026#34;auto_route\u0026#34;: true, \u0026#34;strict_route\u0026#34;: true, \u0026#34;stack\u0026#34;: \u0026#34;gvisor\u0026#34;, \u0026#34;sniff\u0026#34;: true } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;: \u0026#34;bwg\u0026#34;, # tagå’Œä¸‹è¾¹routeä¸­çš„è¦ä¸€è‡´ \u0026#34;type\u0026#34;: \u0026#34;vless\u0026#34;, \u0026#34;server\u0026#34;: \u0026#34;è‡ªå·±çš„IP\u0026#34;, \u0026#34;server_port\u0026#34;: è‡ªå·±çš„ç«¯å£, \u0026#34;uuid\u0026#34;: \u0026#34;è‡ªå·±çš„UUID\u0026#34;, \u0026#34;flow\u0026#34;: \u0026#34;xtls-rprx-vision\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;packet_encoding\u0026#34;: \u0026#34;xudp\u0026#34;, \u0026#34;tls\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;server_name\u0026#34;: \u0026#34;www.microsoft.com\u0026#34;, # æ ¹æ®éœ€è¦æ”¹æˆè‡ªå·±çš„ \u0026#34;utls\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;fingerprint\u0026#34;: \u0026#34;chrome\u0026#34; }, \u0026#34;reality\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;public_key\u0026#34;: \u0026#34;è‡ªå·±çš„Public_key\u0026#34;, \u0026#34;short_id\u0026#34;: \u0026#34;è‡ªå·±çš„short_id\u0026#34; } } }, { \u0026#34;type\u0026#34;: \u0026#34;direct\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;direct\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;block\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;block\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;dns\u0026#34;, \u0026#34;tag\u0026#34;: \u0026#34;dns\u0026#34; } ], \u0026#34;route\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;dns\u0026#34;, \u0026#34;outbound\u0026#34;: \u0026#34;dns\u0026#34; }, { \u0026#34;geosite\u0026#34;: \u0026#34;cn\u0026#34;, \u0026#34;geoip\u0026#34;: [ \u0026#34;cn\u0026#34;, \u0026#34;private\u0026#34; ], \u0026#34;outbound\u0026#34;: \u0026#34;direct\u0026#34; }, { \u0026#34;geosite\u0026#34;: \u0026#34;category-ads-all\u0026#34;, \u0026#34;outbound\u0026#34;: \u0026#34;block\u0026#34; } ], \u0026#34;auto_detect_interface\u0026#34;: true, \u0026#34;final\u0026#34;: \u0026#34;bwg\u0026#34; } } å°†ä¸Šè¾¹çš„ç›¸å…³é…ç½®æ”¹æˆè‡ªå·±çš„æ·»åŠ æˆåŠŸå°±å¯ä»¥äº†ã€‚\nä½¿ç”¨ é€šè¿‡ä¸Šè¾¹çš„å‡†å¤‡ï¼Œç°åœ¨å·²ç»å¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼Œåœ¨DashBoardç•Œé¢ï¼Œå¯åŠ¨å°±å¯ä»¥äº†ã€‚ä¹Ÿå¯ä»¥åœ¨LogsæŸ¥çœ‹å½“å‰çš„è¿æ¥æƒ…å†µï¼Œä»¥åŠåˆ†æµæƒ…å†µã€‚\næ€»ç»“ ä»¥ä¸Šå°±æ˜¯realityçš„ç®€å•é…ç½®ï¼Œsing-boxæ”¯æŒå¤šç§åè®®ï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒï¼šå®˜æ–¹æ–‡æ¡£ã€‚\n","date":"2023-05-18T16:52:19Z","image":"https://images.iminling.com/app/hide.php?key=MWZYT1hrOWxrOW0xcmZhcEF6WUNnUGo2ZWJEb0E0dFlvZnJtYU9ydnZZRERsRkZGcElubXpMaVUwZ0ZWVDVqdldVL1J4KzQ9","permalink":"https://konghanghang.github.io/iminling-pages/2023/sing-box-for-ios-configuration-xray-reality/","title":"sing-box for ios é…ç½®xray reality"},{"content":"å®½å¸¦ç»™äº†å…¬ç½‘ipï¼Œæ‰€ä»¥æƒ³åœ¨è‡ªå·±å®¶æ­å»ºä¸€ä¸ªfrpçš„æœåŠ¡ç«¯ï¼Œè¿™æ ·å­å°±å¯ä»¥å½“åšä¸€å°æœåŠ¡å™¨ï¼Œæ¥è¿›è¡Œå†…ç½‘ç©¿é€ä½¿ç”¨äº†ã€‚\nfrpsé…ç½® æˆ‘å®¶é‡Œæ˜¯ä½¿ç”¨çš„r2såˆ·çš„openwrtç³»ç»Ÿï¼Œæ‰€ä»¥å¯ä»¥åœ¨r2sä¸­è¿›è¡Œfrpsçš„æ­å»ºï¼Œæ‰¾åˆ°å¯¹åº”çš„èœå•ï¼š\nç«¯å£ç»‘å®šé»˜è®¤7000ï¼Œç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦æ˜¯ä½¿ç”¨httpå’ŒhttpsæœåŠ¡ï¼Œæ‰€ä»¥å¡«å†™å¯¹åº”çš„httpå’Œhttpsç»‘å®šç«¯å£å°±å¯ä»¥äº†ï¼Œå¯ä»¥å’Œç«¯å£ç»‘å®šè®¾ç½®æˆåŒä¸€ä¸ªç«¯å£ã€‚\nå­åŸŸåè®¾ç½® åœ¨é«˜çº§é€‰é¡¹ä¸­æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå­åŸŸåï¼Œè¿™æ ·å­æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ”¹åŸŸåçš„å­åŸŸåæ¥è¿›è¡Œè®¿é—®ä¸åŒçš„å†…ç½‘ç©¿é€æœåŠ¡ã€‚å¯¹åº”çš„å­åŸŸåä¸‹ä¹Ÿæœ‰ä¸€è¡Œæç¤ºï¼š\nå¦‚æœsubdomain_hostä¸ä¸ºç©ºï¼Œå¯ä»¥åœ¨frpcé…ç½®æ–‡ä»¶ä¸­è®¾ç½®ç±»å‹ä¸ºhttp(s)çš„subdomainï¼›subdomainä¸ºtestï¼Œè·¯ç”±å°†ä½¿ç”¨test.frps.com\nç®¡ç†é¢æ¿è®¾ç½® æˆ‘ä»¬å¯ä»¥åœ¨ç®¡ç†é¢æ¿æŸ¥çœ‹åˆ°å½“å‰å·²ç»è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œä»¥åŠæ¯ä¸ªå®¢æˆ·ç«¯çš„æµé‡ä½¿ç”¨æƒ…å†µï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦è¿›è¡Œä¸€ä¸‹è®¾ç½®ã€‚\né¢æ¿ç»‘å®šç«¯å£7500ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨openwrtçš„ç®¡ç†ip:7500æ¥ç™»å½•åˆ°frpsçš„ç®¡ç†ç•Œé¢ã€‚\nç«¯å£è½¬å‘é…ç½® ç®¡ç†ç•Œé¢ç«¯å£é…ç½® æˆ‘ä»¬åœ¨å®¶é‡Œçš„æ—¶å€™å¯ä»¥ä½¿ç”¨å†…ç½‘ip:7500æ¥è®¿é—®ï¼Œä½†æ˜¯ä¸åœ¨å®¶çš„æ—¶å€™å°±æ²¡åŠæ³•äº†ã€‚ä¸æ…Œï¼Œå› ä¸ºæˆ‘æœ‰å…¬ç½‘ipï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥é€šè¿‡ç«¯å£è½¬å‘ï¼Œä½¿ç”¨çš„åŸŸå+ç‰¹å®šç«¯å£æ¥è®¿é—®åˆ°å†…ç½‘çš„7500ç«¯å£ã€‚é€šè¿‡ç½‘ç»œé˜²ç«å¢™è¿›è¡Œç«¯å£è½¬å‘é…ç½®ã€‚\né…ç½®ç®¡ç†ç•Œé¢çš„ç«¯å£è½¬å‘ï¼Œé€šè¿‡åŸŸå:7500è®¿é—®åˆ°å†…ç½‘openwrtç³»ç»Ÿçš„7500ç«¯å£ã€‚\nç»‘å®šç«¯å£é…ç½® æˆ‘ä»¬çš„frpsç»‘å®šçš„ç«¯å£æ˜¯7000ï¼Œæ‰€ä»¥éœ€è¦æŠŠ7000ç«¯å£ä¹Ÿæš´éœ²å‡ºå»å®¢æˆ·ç«¯æ‰èƒ½æ­£å¸¸è¿æ¥æ³¨å†Œä¸Šæ¥ï¼ŒåŒæ ·éœ€è¦åœ¨ç«¯å£è½¬å‘ä¸­è¿›è¡Œé…ç½®ã€‚\né€šè¿‡åŸŸå:7000è®¿é—®åˆ°å†…ç½‘openwrtç³»ç»Ÿçš„7000ç«¯å£ã€‚\nå‚è€ƒä¸Šè¾¹çš„ç®¡ç†ç•Œé¢çš„ç«¯å£è½¬å‘é…ç½®ã€‚\nåˆ°è¿™é‡Œæˆ‘ä»¬çš„frpsæœåŠ¡ç«¯å°±æ­å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥é…ç½®å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ã€‚\nå®¢æˆ·ç«¯è¿æ¥ æˆ‘ä»¬ä¸»è¦å…ˆåœ¨éœ€è¦å†…ç½‘ç©¿é€çš„æœºå™¨ä¸Šå®‰è£…frpçš„å®¢æˆ·ç«¯ï¼Œæˆ‘è¿™é‡Œæ˜¯ä¸€ä¸ªè·¯ç”±å™¨åˆ·çš„openwrtç³»ç»Ÿï¼Œæ‰€ä»¥å®‰è£…frpcå°±å¯ä»¥äº†ï¼š\næœåŠ¡å™¨ï¼šå…¶å®å°±æ˜¯æˆ‘ä»¬frpsæœåŠ¡ç«¯çš„ipï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯å®½å¸¦çš„åŠ¨æ€ipï¼Œæ‰€ä»¥ipæ˜¯ä¼šå˜çš„ï¼Œæˆ‘ä¸èƒ½ç›´æ¥ä½¿ç”¨ipï¼Œä½†æ˜¯æˆ‘åœ¨å®¶é‡Œçš„openwrtä¸­é…ç½®äº†DDNSï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥ä½¿ç”¨ddnsçš„åŸŸåæ¥ä½œä¸ºæœåŠ¡å™¨ï¼Œå¡«å…¥ddnsä¸­çš„åŸŸåã€‚\nç«¯å£ï¼š7000ï¼Œå’Œfrpsçš„ç»‘å®šç«¯å£ä¸€è‡´ã€‚\nä»¤ç‰Œï¼šå’Œfrpsä¸­çš„ä»¤ç‰Œä¸€è‡´ã€‚\nhttpå’Œhttpsç©¿é€æœåŠ¡ç«¯å£ï¼š7000ï¼Œå’ŒæœåŠ¡ç«¯ä¸€è‡´ã€‚\nç»è¿‡ä¸Šè¾¹çš„é…ç½®æˆ‘ä»¬å°±å¯ä»¥å’ŒæœåŠ¡ç«¯è¿ä¸Šäº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡åŠæ³•é€šè¿‡å…¬ç½‘æ¥è®¿é—®æˆ‘ä»¬å…¶ä»–éœ€è¦ç©¿é€çš„æœåŠ¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å»ºä¸€æ¡è§„åˆ™ã€‚åœ¨ä¸‹æ–¹frp settingé¡µé¢çš„ä¸‹æ–¹ç‚¹å‡»æ·»åŠ ï¼Œæ–°å»ºä¸€ä¸ªæœåŠ¡ï¼š\nå¼€å¯çŠ¶æ€ï¼šå¼€å¯ã€‚\nfrpåè®®ç±»å‹ï¼šé€‰æ‹©httpå°±å¯ä»¥äº†ã€‚\nåŸŸåç±»å‹ï¼šæˆ‘ä»¬åœ¨frpsæœåŠ¡ç«¯é…ç½®çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯å­åŸŸåå½¢å¼ï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿéœ€è¦å¡«å­åŸŸåã€‚\nå­åŸŸåï¼šæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„è®¿é—®åŸŸåã€‚\nå†…ç½‘ä¸»æœºåœ°å€ï¼šæˆ‘ä»¬éœ€è¦è®¿é—®çš„æ˜¯openwrtçš„ç®¡ç†ç•Œé¢ï¼Œæ‰€ä»¥é€‰æ‹©openwrtçš„åœ°å€å°±å¯ä»¥äº†ã€‚\nå†…ç½‘ä¸»æœºç«¯å£ï¼šæˆ‘ä»¬è®¿é—®çš„æ˜¯ç®¡ç†ç•Œé¢ï¼Œé»˜è®¤80ç«¯å£ã€‚\næœåŠ¡å¤‡æ³¨åï¼šè‡ªå®šä¹‰çš„ä¸€ä¸ªåç§°ã€‚\nå…¶ä»–çš„é»˜è®¤å°±å¯ä»¥äº†ã€‚ç„¶åç‚¹å‡»ä¿å­˜å¹¶åº”ç”¨ã€‚å®Œæˆåå¦‚ä¸‹å›¾ï¼š\nå¦‚ä¸Šå›¾æˆ‘æ·»åŠ çš„å­åŸŸåæ˜¯gzax6,é‚£ä¹ˆæˆ‘è¿˜éœ€è¦å»æ·»åŠ ä¸€æ¡è§£ææ‰èƒ½ä½¿ç”¨gzax6.frps.com:7000æ¥è®¿é—®æˆ‘çš„ax6è¿™ä¸ªè·¯ç”±å™¨çš„ç®¡ç†ç•Œé¢ã€‚\næˆ‘ä»¬æ·»åŠ ä¸€æ¡CNAMEçš„è®°å½•ï¼Œå› ä¸ºipåœ°å€æ˜¯ä¸€ç›´åœ¨å˜åŒ–çš„ï¼Œæˆ‘ä»¬å”¯ä¸€ä¸å˜çš„å°±æ˜¯ddnsä½¿ç”¨çš„åŸŸåï¼Œæˆ‘ä»¬è§£æä¸€æ¡CNAMEè®°å½•åˆ°æˆ‘ä»¬ddnsä½¿ç”¨çš„åŸŸåï¼Œè¿™æ ·å­å°±å¯ä»¥æ­£ç¡®çš„è§£æåˆ°æˆ‘çš„openwrté‡Œçš„frpsæœåŠ¡ç«¯äº†ã€‚\næ€»ç»“ ç»è¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŸŸå:7000ç«¯å£æ¥åœ¨å¤–ç½‘è®¿é—®æˆ‘ä»¬å†…ç½‘çš„è·¯ç”±å™¨ç®¡ç†ç•Œé¢äº†ã€‚\n","date":"2023-04-09T06:23:58Z","image":"https://images.iminling.com/app/hide.php?key=Z1BQTnU0azJ3OUdjSkc0Sm9FS0JsaWgwTmU3MTNabHFNUDBVV2YyalBiWlcyNEV2NGljaSt0cTFteWZjWDhEVTl5R0xreW89","permalink":"https://konghanghang.github.io/iminling-pages/2023/openwrt-frps-configuration/","title":"openwrtç³»ç»Ÿfrpsé…ç½®ä½¿ç”¨"},{"content":"æƒ³è¦åœ¨å¤–è¾¹è®¿é—®å®¶é‡Œçš„ç½‘ç»œï¼Œå¯ä»¥ä½¿ç”¨è¿è¥å•†åˆ†é…çš„ipï¼Œä½†æ˜¯ipå¯èƒ½ä¼šç»å¸¸å˜åŠ¨ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œddnsé…ç½®ï¼Œé…ç½®DDNSçš„å‰ææ¡ä»¶æ˜¯å®¶é‡Œçš„å®½å¸¦éœ€è¦æœ‰å…¬ç½‘ipã€‚ä¸‹é¢æˆ‘ä»¬å¼€å§‹ä½¿ç”¨cloudflareæ¥è¿›è¡ŒDDNSçš„é…ç½®ã€‚\næ·»åŠ ddnsé…ç½® é€‰æ‹©openwrté‡Œçš„åŠ¨æ€DNSåŠŸèƒ½ï¼Œç„¶ååœ¨é‡Œè¾¹æ·»åŠ ä¸€ä¸ªè‡ªå·±çš„é…ç½®ï¼Œåç§°éšä¾¿ï¼Œå¦‚æˆ‘æ·»åŠ çš„MYDDNS`ã€‚\næ·»åŠ åå°±è·³è½¬åˆ°äº†é…ç½®ç•Œé¢ï¼Œé¦–å…ˆæˆ‘ä»¬è¦é€‰æ‹©ddnsçš„æä¾›å•†ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©cloudflare:\nåˆ‡æ¢åå¦‚ä¸‹å›¾ï¼š\næŸ¥è¯¢ä¸»æœºå è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„åŸŸåï¼Œé€šè¿‡è¿™ä¸ªåŸŸåè®¿é—®åˆ°æˆ‘ä»¬çš„openwrtç®¡ç†åå°ï¼Œé…ç½®ä¸€ä¸ªè‡ªå·±çš„ä¸‰çº§åŸŸåï¼Œæ¯”å¦‚è´­ä¹°çš„åŸŸåçš„openwrt.com`ã€‚è¿™é‡Œåˆ™å¡«å†™admin.openwrt.com`ã€‚\nåŸŸå åŸŸåè¿™ä¸ªé€‰é¡¹å…¶å®å°±ä¸Šå°†æŸ¥è¯¢ä¸»æœºåä¿®æ”¹ä¸ºadmin@openwrt.comã€‚\nç”¨æˆ·åå’Œå¯†ç  ç”¨æˆ·åæ˜¯cloudflareçš„ç™»å½•é‚®ç®±ï¼Œå¯†ç æ˜¯cloudflareçš„global api keyã€‚å¦‚ä¸‹å›¾ï¼Œç‚¹å‡»åè¾¹çš„viewå°±å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„keyäº†ã€‚\næˆªæ­¢ä¸Šè¾¹openwrté‡Œçš„é…ç½®å°±å·²ç»å®Œæˆäº†ã€‚ç‚¹å‡»ä¿å­˜å¹¶åº”ç”¨å°±å¯ä»¥äº†ã€‚\nåŸŸåè§£æ æˆ‘ä»¬åœ¨ä¸Šè¾¹ä½¿ç”¨åˆ°äº†admin.openwrt.comã€‚ç„¶åæˆ‘ä»¬éœ€è¦åœ¨cloudflareçš„åå°å»é…ç½®è¿™ä¸ªåŸŸåçš„è§£æã€‚æ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œè®°å½•å€¼ä¸º`admin`,ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡admin.è‡ªå·±çš„äºŒçº§åŸŸåæ¥è®¿é—®æˆ‘ä»¬è½¯è·¯ç”±ç³»ç»Ÿäº†ã€‚IPv4åœ°å€å¯ä»¥å…ˆéšä¾¿å¡«ä¸€ä¸ªï¼Œç­‰å¾…ddnsç¨‹åºè‡ªåŠ¨è¿›è¡Œæ›´æ–°ã€‚\nå¼€æ”¾openwrtç«¯å£ åœ¨openwrtåå°ç³»ç»Ÿä¸­æ‰¾åˆ°ç½‘ç»œ-é˜²ç«å¢™-ç«¯å£è½¬å‘`ï¼Œè¿›è¡Œç«¯å£è½¬å‘é…ç½®\nå…·ä½“é…ç½®è¯´æ˜ï¼š\nåç§°ï¼šéšä¾¿å¡«ä¸€ä¸ªæ ‡è¯†ã€‚\nä¼ è¾“åè®®ï¼šé€‰åˆ™TCP+UDPã€‚\nå¤–éƒ¨åŒºåŸŸï¼šé€‰wanå£\nå¤–éƒ¨ç«¯å£ï¼šddnsä¸­çš„åŸŸå+å¤–éƒ¨ç«¯å£è®¿é—®åˆ°ä½ è¿™ä¸ªæœºå™¨ã€‚ç«¯å£ä¸€èˆ¬åœ¨1024~65535ä¸­é€‰æ‹©ã€‚\nå†…éƒ¨åŒºåŸŸï¼šé€‰lanå£\nå†…éƒ¨ipåœ°å€ï¼šé€‰openwrtçš„ç®¡ç†åå°ip,ä¾‹å¦‚æˆ‘è¿™é‡Œæ˜¯192.168.6.1ã€‚\nå†…éƒ¨ç«¯å£ï¼šopenwrtçš„ç®¡ç†åå°ä¸€èˆ¬éƒ½æ˜¯è¾“å…¥ipå°±å¯ä»¥è®¿é—®ï¼Œæ‰€ä»¥ç«¯å£æ˜¯80.\næ·»åŠ ï¼Œç„¶åä¿å­˜å¹¶åº”ç”¨ï¼Œå°±å¯ä»¥é€šè¿‡ddnsé‡Œçš„é…ç½®çš„æŸ¥è¯¢åŸŸå:å¤–éƒ¨ç«¯å£è®¿é—®åˆ°ç®¡ç†åå°ï¼Œæœ¬æ–‡ä¸­çš„å°±æ˜¯admin.openwrt.com:8080ã€‚8080ç«¯å£æ˜¯æˆ‘éšä¾¿å†™çš„ï¼Œæ ¹æ®è‡ªå·±æƒ…å†µé€‰æ‹©ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„ç«¯å£ï¼Œ1024~65535ä¹‹é—´çš„éƒ½å¯ä»¥ã€‚\n","date":"2023-04-08T18:12:20Z","image":"https://images.iminling.com/app/hide.php?key=N3NkMDdwS3dld0x2Q1I2a09HUW9SZU5Fb2g1SEV5Z1FBaU9QcjNwbzE3ZFZLNWlLdVBFZC9Uai9hS0VLdCtDMUFEcVVsZ1E9","permalink":"https://konghanghang.github.io/iminling-pages/2023/openwrt-configuration-cf-ddns/","title":"openwrté…ç½®Cloudflare DDNS"},{"content":"æœ€è¿‘åœ¨ç ”ç©¶å›½å¤–ä¿¡ç”¨å¡ï¼Œåœ¨æœ‹å‹çš„å¸®åŠ©ä¸‹ç”³è¯·äº†ä¸€å¼ ç¾å›½ç¬¬ä¸€èµ„æœ¬çš„ä¿¡ç”¨å¡(C1ä¿¡ç”¨å¡)ï¼Œåœ¨æ¬¡åˆ†äº«ä¸€ä¸‹ç”³è¯·ç»å†ã€‚\nè¦ç”³è¯·ä¿¡ç”¨å¡ä¹‹å‰ï¼Œéœ€è¦å…ˆè·å–åˆ°ä¸€ä¸ªç¾å›½çš„åœ°å€ä»¥åŠè·å–ç¾å›½çš„ITINå·ï¼Œè¿™ä¸¤ä¸ªä¼šåœ¨åç»­çš„åˆ†äº«ä¸­ä»‹ç»ç»™å¤§å®¶å¦‚ä½•è¿›è¡Œç”³è¯·ã€‚ä»Šå¤©æˆ‘ä»¬å°±ä¸»è¦æ¥ä»‹ç»capital oneçš„ä¿¡ç”¨å¡ç”³è¯·è¿‡ç¨‹ã€‚\nå‡†å¤‡ è·å–åˆ°ITINå·ï¼Œæˆ‘ä»¬è·å–åˆ°çš„åº”è¯¥æ˜¯ä¸€ä¸ªpdfçš„æ–‡ä»¶ï¼Œé‡Œè¾¹è®°å½•äº†æˆ‘ä»¬çš„ç¨å·ï¼Œæ˜¯9ä½çš„æ•°å­—ã€‚\nå¤„ç†ITINå·ä¹‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£capital oneä¿¡ç”¨å¡çš„ç±»åˆ«ï¼Œé¦–å…ˆæˆ‘ä»¬è¿›å…¥åˆ°åœ°å€ï¼šcapition one,åœ¨æ­¤é¡µé¢æˆ‘ä»¬ä¼šçœ‹åˆ°å‡ å¼ ä¿¡ç”¨å¡ï¼Œæˆ‘ä»¬è¦ç”³è¯·çš„æ˜¯æœ€åä¸€å¼ ï¼Œç”¨äºé‡å»ºä¿¡ç”¨(REBUILDINGÂ CREDIT)ã€‚\nç”³è¯· é¦–å…ˆæ˜¯å¡«å†™è‡ªå·±çš„åŸºç¡€ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾ï¼Œå¡«å†™è‡ªå·±çš„å§“åï¼Œç”Ÿæ—¥ï¼Œitinä»¥åŠå¦å¤–ä¸¤ä¸ªnoï¼Œç„¶åé€‰è‡ªå·±çš„å›½ç±ï¼š\nç„¶åæ˜¯è‡ªå·±çš„è”ç³»ä¿¡æ¯ï¼ŒåŒ…æ‹¬åœ°å€æ‰‹æœºå·ä»¥åŠè´¢åŠ¡ä¿¡æ¯ï¼š\næ¥ä¸‹æ¥å°±æ˜¯åŒæ„ä¸€äº›åè®®å¹¶æäº¤äº†ã€‚\næ¥ä¸‹æ¥å°±ä¼šçœ‹åˆ°ä»¥ä¸‹ç•Œé¢ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç­‰å¾…å®¡æ‰¹äº†ã€‚\nå®¡æ‰¹ å› ä¸ºæˆ‘æ˜¯æ™šä¸Šç”³è¯·çš„ï¼Œå¤„ç†é€Ÿåº¦ç‰¹åˆ«çš„å¿«ï¼Œæäº¤åä¸åˆ°10åˆ†é’Ÿå°±æ”¶åˆ°äº†é‚®ä»¶ï¼Œè®©è¡¥å……èµ„æ–™ï¼Œä¹Ÿå°±æ˜¯è®©è¡¥å……ITINä¿¡ä»¶ä»¥åŠæŠ¤ç…§ã€‚\nç„¶åå°±æ˜¯ä¸Šä¼ ç»§ç»­ç­‰é€šçŸ¥äº†ã€‚\né€šè¿‡ æŠŠæŠ¤ç…§å’ŒITINä¸Šä¼ åï¼Œä¸åˆ°3åˆ†é’Ÿï¼Œå°±ç«‹é©¬æ”¶åˆ°äº†å®¡æ‰¹é€šé“çš„é‚®ä»¶ï¼Œæ˜¯çœŸçš„æ•ˆç‡é«˜ã€‚\næŠ¼é‡‘ å¦‚ä¸Šå›¾ï¼Œæˆ‘åªéœ€è¦æœ€å°‘äº¤49åˆ€å°±å¯ä»¥äº†ï¼Œç„¶åå°±æ˜¯é€šè¿‡wiseçš„è´¦æˆ·æ¥è¿›è¡Œæ‰£é™¤ã€‚æäº¤æ‰£è´¹è¯·æ±‚åéš”å¤©å°±å¯¹è´¹ç”¨è¿›è¡Œäº†æ‰£é™¤ã€‚æ¥ä¸‹æ¥å°±æ˜¯è€å¿ƒçš„ç­‰å¾…äº†ã€‚\ncapital one è´¦å· ç­‰äº†å‡ å¤©åï¼Œæˆ‘å°è¯•äº†å»æ³¨å†Œcapital oneçš„è´¦å·ï¼Œé€šè¿‡æ‰¾å›ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œæ“ä½œï¼Œå†™çš„æ˜¯Last Nameï¼Œå®é™…éœ€è¦è¾“å…¥è‡ªå·±çš„å+å§“çš„å…¨æ‹¼ï¼Œç„¶åæ ¹æ®æç¤ºå°±å¯ä»¥æ‰¾å›è´¦å·å¹¶è®¾ç½®å¯†ç å’Œæ‰‹æœºå·ï¼Œå†éªŒè¯ä¸€ä¸‹æ‰‹æœºå·å°±å¯ä»¥æ³¨å†Œè´¦å·æˆåŠŸå¹¶è¿›å…¥ç³»ç»Ÿã€‚\nåœ¨ç³»ç»Ÿä¸­å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„å¡ç‰‡è¿›åº¦ï¼Œæ¯”å¦‚æˆ‘æŸ¥çœ‹çš„æ—¶å€™å¡åœ¨å¤„ç†ä¸­ï¼š\nä»¥ä¸Šå°±æ˜¯æˆªå›¾åˆ°å†™è¿™ç¯‡æ–‡ç« æ—¶ä¿¡ç”¨å¡çš„ç”³è¯·æƒ…å†µï¼Œåç»­å¦‚æœæœ‰å˜æ›´ç»§ç»­æ›´æ–°ã€‚\næ•´ä¸ªç”³è¯·è¿‡ç¨‹è¿˜æ˜¯æŒºé¡ºåˆ©çš„ã€‚\næ›´æ–° 2023-04-04 æ”¶åˆ°äº†å¡ç‰‡é‚®å¯„çš„é€šçŸ¥ï¼Œæ•´ä¸ªä»æ‰£æ¬¾æˆåŠŸæ—¥æœŸ(2023-03-23)åˆ°4æœˆ4æ—¥ï¼Œå†æ—¶12å¤©ã€‚\n2023-04-06 ç§Ÿç”¨çš„åœ°å€æ”¶åˆ°äº†ä¿¡ç”¨å¡çš„ä¿¡ä»¶ï¼Œé€Ÿåº¦è¿˜æ˜¯å¾ˆå¿«çš„ã€‚\n2023-04-13 ç”³è¯·è½¬è¿ï¼Œanytimemailboxç”³è¯·è½¬è¿ï¼Œå¹¶æ‰£æ¬¾ï¼Œå½“å¤©DHLå¿«é€’å°±å‘å‡ºäº†ã€‚\n2023-04-18 DHLé€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ï¼Œç»å†äº†5å¤©ç»ˆäºæ‹¿åˆ°äº†å®ä½“å¡ã€‚\nå¿«é€’æŸ¥è¯¢å•ï¼š\nå®ä½“å¡ï¼š\næ¿€æ´» ç›´æ¥ä¸‹è½½captialoneçš„appæ¿€æ´»æ˜¯ä¸è¡Œçš„ï¼Œæç¤ºæ— æ³•æ¿€æ´»éœ€è¦æ‰“ç”µè¯æ¿€æ´»ï¼Œç„¶åå°±æ‰“äº†ç”µè¯ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯google voice,æ ¹æ®æç¤ºè¾“å…¥å¡å·ï¼Œitinåå››ä½ï¼Œç„¶ååœ¨è¾“å…¥cvvå°±ä¼šæç¤ºæ¿€æ´»æˆåŠŸï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚\nåç»­ é€€æŠ¼é‡‘ åœ¨æ­£å¸¸ä½¿ç”¨äº†å‡ ä¸ªæœˆåï¼Œåœ¨9.15æ—¥ï¼Œæˆ‘æ”¶åˆ°äº†ä¸€å°é‚®ä»¶ï¼Œé‡Œè¾¹æç¤ºæˆ‘æŠ¼é‡‘å·²ç»é€€å›ï¼Œå¹¶å‡çº§äº†æˆ‘çš„å¡ç‰‡ï¼Œæˆ‘ç™»å½•appæŸ¥çœ‹ï¼Œçš„ç¡®æŠ¼é‡‘æ—©å‡ å¤©å°±å·²ç»é€€å›äº†ï¼Œå…·ä½“çš„é‚®ä»¶å¦‚ä¸‹ï¼š\né¢åº¦æå‡ åœ¨æ”¶åˆ°æŠ¼é‡‘é€€å›çš„é‚®ä»¶å‡ å¤©åï¼Œ9.19æ—¥æˆ‘åˆæ”¶åˆ°captial oneçš„ä¸€ä»½é‚®ä»¶ï¼Œé¢åº¦æå‡äº†ï¼ŒæƒŠå–œï¼Œä»200åˆ°3200ï¼ŒçœŸçš„æ˜¯å¤ªç»™åŠ›ï¼Œç»§ç»­å¥½å¥½ä½¿ç”¨äº†ã€‚\näº§ç”Ÿé€¾æœŸè´¹ç”¨ æˆ‘ä¸€ç›´ä½¿ç”¨çš„æ˜¯wiseçš„è´¦æˆ·åœ¨è¿˜æ¬¾ï¼Œ2023å¹´10æœˆ14æ—¥wiseé€šçŸ¥è´¦æˆ·è¿›è¡Œäº†å˜æ›´ï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´åœ¨appæ·»åŠ äº†è´¦æˆ·ï¼Œä½†æ˜¯å´æ¼äº†ä¸€ä¸ªé‡è¦çš„æ“ä½œï¼šè‡ªåŠ¨æ‰£æ¬¾æ›¿æ¢ã€‚æˆ‘ä»¥ä¸ºæ·»åŠ äº†æ‰£æ¬¾è´¦æˆ·è¿›å»å°±okäº†ã€‚ç›´åˆ°11æœˆ15æ—¥wiseçš„appå¼¹å‡ºæ¶ˆæ¯è¯´æ‰£æ¬¾å¤±è´¥ï¼Œè®©æˆ‘ç”¨æ–°çš„è´¦æˆ·æ‰£æ¬¾ï¼Œæˆ‘æ‰å¤§äº‹ä¸å¦™ï¼Œè¿™æ—¶å€™æˆ‘è¿›äº†appæ‰å‘ç°éœ€è¦å…ˆå–æ¶ˆä¸Šä¸€ä¸ªè®¾ç½®çš„è‡ªåŠ¨æ‰£æ¬¾ï¼Œç„¶åé‡æ–°è®¾ç½®æ–°çš„è‡ªåŠ¨æ‰£æ¬¾è´¦æˆ·ã€‚è®¾ç½®æ˜¯è®¾ç½®æˆåŠŸäº†ï¼Œä½†æ˜¯æ€ä¹ˆæŠŠè¿™æœŸçš„è´¦å•ç»™è¿˜ä¸Šå‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘å°±æ‰‹åŠ¨çš„å»æ“ä½œäº†æ‰£æ¬¾ï¼Œ15æ—¥æ“ä½œï¼Œ18æ—¥wiseé€šçŸ¥æ‰£æ¬¾ã€‚18æ—¥æ™šä¸Šæˆ‘ç™»å½•äº†C1ç½‘é¡µç‰ˆï¼ŒæŸ¥çœ‹è´¦å•å‘ç°å¤šäº†ä¸€ç¬”é€¾æœŸè´¹ç”¨ï¼š$25ï¼Œå¤ªç‹ äº†ã€‚å¸Œæœ›å¤§å®¶å¼•ä»¥ä¸ºæˆ’ã€‚\nä½¿ç”¨ç»éªŒ æ‹¿åˆ°å¡åï¼Œæˆ‘çš„ä½¿ç”¨æ–¹å¼ä¹Ÿæ¯”è¾ƒå•ä¸€ï¼Œç»™T-Mobileçš„æ‰‹æœºå¡å……å€¼äº†ä¸€æ¬¡å¤§æ¦‚$10ï¼Œç„¶åå°±æ˜¯ç»‘å®šäº†appleIdï¼Œæ¯ä¸ªæœˆæ­£å¸¸ä»˜æ¬¾Apple Oneè®¢é˜…ï¼Œå°±è¿™æ ·å­ä½¿ç”¨äº†å‡ ä¸ªæœˆåå°±æŠŠæŠ¼é‡‘ç»™é€€äº†å›æ¥ï¼Œç„¶åè¿˜æŠŠé¢åº¦ä»200æå‡åˆ°äº†3200ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘çš„ä½¿ç”¨ç»éªŒï¼Œçš„ç¡®æ˜¯å¾ˆå•è°ƒçš„ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚\nä½¿ç”¨äº†å‡ ä¸ªæœˆåï¼Œæˆ‘åˆç”³è¯·äº†AEçš„å¡ç‰‡ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒï¼šä½¿ç”¨ITINç”³è¯·American Express(ç¾å›½è¿é€š)ä¿¡ç”¨å¡\n","date":"2023-04-03T07:35:05Z","image":"https://images.iminling.com/app/hide.php?key=VW9RWWpMZis0VVQxVVZ3ZWtyTzVNc2JVb05oVWVCWE1kR1dFNXZoQ2R6V3RyaWdlK1JiZkJ3RmhxZ3h4eEJZWE0vc2syNEk9","permalink":"https://konghanghang.github.io/iminling-pages/2023/itin-apply-capital-one-credit-card/","title":"ä½¿ç”¨ITINç”³è¯·capital oneä¿¡ç”¨å¡"},{"content":"å®‰è£…å“ªå’é¢æ¿çš„æœºå™¨æ˜¯RNçš„ä¸€å°å°é¸¡ï¼Œæœ¬æ¥å®‰è£…çš„æ˜¯ubuntuç³»ç»Ÿï¼Œæƒ³æ¢æˆdebianç³»ç»Ÿï¼Œæ‰€ä»¥éœ€è¦å¯¹å“ªå’é¢æ¿çš„æ•°æ®è¿›è¡Œè¿ç§»ï¼Œæ‰€ä»¥å†™æ­¤ç¯‡æ–‡ç« è®°å½•è¿ç§»è¿‡ç¨‹ã€‚\nè¿ç§»å‡†å¤‡ å‚è€ƒå“ªå’é¢æ¿å®˜æ–¹çš„wikiï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜æ”¾åœ¨/opt/nezhaç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦å¤‡ä»½ä¸€ä¸‹æ­¤ç›®å½•ï¼Œä¸‹è½½åˆ°æœ¬åœ°ã€‚\nå¦‚ä½•è¿›è¡Œæ•°æ®è¿ç§»ã€å¤‡ä»½æ¢å¤ï¼Ÿ\nå…ˆè¿è¡Œä¸€é”®è„šæœ¬ï¼Œé€‰æ‹©åœæ­¢é¢æ¿ åœ¨æ—§æœåŠ¡å™¨ä¸­æ‰“åŒ…/opt/nezhaæ–‡ä»¶å¤¹ï¼Œå¤åˆ¶åˆ°æ–°ç¯å¢ƒç›¸åŒä½ç½®è§£å‹ åœ¨æ–°ç¯å¢ƒä¸­è¿è¡Œä¸€é”®è„šæœ¬ï¼Œé€‰æ‹©å¯åŠ¨é¢æ¿ è¿ç§» å°†å¤‡ä»½æ•°æ®ä¸Šä¼ åˆ°æ–°çš„æœåŠ¡å™¨ï¼Œè§£å‹åˆ°/opt/nezhaç›®å½•ä¸‹ã€‚é€šè¿‡nezha.shå¯åŠ¨é¢æ¿ã€‚\né…ç½®é€šè¿‡åŸŸåè®¿é—®é¢æ¿ï¼š\nnginxé…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 server { listen 80; server_name dashboard.baidu.com,tz.baidu.me; # wsé…ç½® location /ws { proxy_pass http://dashboard-dashboard-1:80; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; proxy_set_header Host $host; } # è®¿é—®é…ç½® location / { proxy_pass http://dashboard-dashboard-1:80; } } æ•´ä¸ªè¿ç§»è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé€šè¿‡å¤‡ä»½æ•°æ®ï¼Œæ•´ä½“è¿ç§»å¯åŠ¨ã€‚è®°å½•ä¸€ä¸‹ã€‚\n","date":"2023-03-28T06:48:18Z","image":"https://images.iminling.com/app/hide.php?key=M05ad0RZN21FSGFHQWRWZlBhRjdJejRteTdYV1dUUml0eWRmbTExY1Ntc2lHcXIrSmlLVmF1VHc1NnJqQzVkKytPZFJNWVE9","permalink":"https://konghanghang.github.io/iminling-pages/2023/nezha-pannel-migrate/","title":"å“ªå’é¢æ¿è¿ç§»"},{"content":"ä»Šå¤©æˆ‘ä»¬ä¸»è¦æ¥ä»‹ç»ä¸€ä¸‹x-uiçš„å®‰è£…ä½¿ç”¨ã€‚\nx-uiåœ¨åŸåœ°å€æ˜¯ï¼šx-ui\nä½†æ˜¯ç”±äºåŸä»“åº“å¤ªä¹…æ²¡æ›´æ–°ï¼Œæˆ‘ä»¬ä»Šå¤©ä½¿ç”¨çš„æ˜¯æ”¹ç‰ˆçš„FranzKafkaYu/x-ui,æ”¯æŒå•ä¸ªç«¯å£å¤šç”¨æˆ·ï¼Œè¿˜èƒ½åˆ†åˆ«ç»Ÿè®¡æµé‡ï¼Œæ¯”åŸç‰ˆè¾ƒå®Œå–„ã€‚\næœ¬æ–‡ä½¿ç”¨æ”¹ç‰ˆMHSanaei/3x-uiè¿›è¡Œé…ç½®ã€‚\nå®‰è£… ä½¿ç”¨githubä»“åº“ä¸­çš„ä¸€é”®å®‰è£…è„šæœ¬å¾ˆå®¹æ˜“å°±å¯ä»¥å®‰è£…å®Œæˆå®‰è£…ï¼š\nbash \u003c(curl -Ls https://raw.githubusercontent.com/mhsanaei/3x-ui/master/install.sh) å®‰è£…å®Œæˆå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 Saving to: â€˜/usr/local/x-ui-linux-amd64.tar.gzâ€™ /usr/local/x-ui-linux- 100%[=========================\u0026gt;] 27.95M 124MB/s in 0.2s 2023-03-26 08:10:51 (124 MB/s) - â€˜/usr/local/x-ui-linux-amd64.tar.gzâ€™ saved [29309974/29309974] x-ui/ x-ui/x-ui.sh x-ui/bin/ x-ui/bin/README.md x-ui/bin/LICENSE x-ui/bin/geosite.dat x-ui/bin/geoip.dat x-ui/bin/xray-linux-amd64 x-ui/x-ui x-ui/x-ui.service --2023-03-26 08:10:52-- https://raw.githubusercontent.com/FranzKafkaYu/x-ui/main/x-ui.sh Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.109.133, 185.199.110.133, 185.199.108.133, ... Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.109.133|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 25694 (25K) [text/plain] Saving to: â€˜/usr/bin/x-uiâ€™ /usr/bin/x-ui 100%[=========================\u0026gt;] 25.09K --.-KB/s in 0.001s 2023-03-26 08:10:52 (34.8 MB/s) - â€˜/usr/bin/x-uiâ€™ saved [25694/25694] å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå®‰è£…/æ›´æ–°å®Œæˆåéœ€è¦å¼ºåˆ¶ä¿®æ”¹ç«¯å£ä¸è´¦æˆ·å¯†ç  ç¡®è®¤æ˜¯å¦ç»§ç»­,å¦‚é€‰æ‹©nåˆ™è·³è¿‡æœ¬æ¬¡ç«¯å£ä¸è´¦æˆ·å¯†ç è®¾å®š[y/n]:y è¯·è®¾ç½®æ‚¨çš„è´¦æˆ·å:admin æ‚¨çš„è´¦æˆ·åå°†è®¾å®šä¸º:admin è¯·è®¾ç½®æ‚¨çš„è´¦æˆ·å¯†ç :admin æ‚¨çš„è´¦æˆ·å¯†ç å°†è®¾å®šä¸º:admin è¯·è®¾ç½®é¢æ¿è®¿é—®ç«¯å£:8080 æ‚¨çš„é¢æ¿è®¿é—®ç«¯å£å°†è®¾å®šä¸º:8080 ç¡®è®¤è®¾å®š,è®¾å®šä¸­ set username and password success è´¦æˆ·å¯†ç è®¾å®šå®Œæˆ set port 11000 successé¢æ¿ç«¯å£è®¾å®šå®Œæˆ Created symlink /etc/systemd/system/multi-user.target.wants/x-ui.service â†’ /etc/systemd/system/x-ui.service. x-ui v0.3.4.1 å®‰è£…å®Œæˆï¼Œé¢æ¿å·²å¯åŠ¨ å®‰è£…å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œç™»å½•äº†ï¼Œä½¿ç”¨æˆ‘ä»¬vpsçš„ipåœ°å€åŠ ä¸Šå®‰è£…çš„æ—¶å€™è®¾ç½®çš„ç«¯å£å°±å¯ä»¥æ­£å¸¸ç™»å½•äº†ã€‚\né…ç½®åŸŸåè®¿é—® ä½¿ç”¨ipåŠ ç«¯å£çš„å½¢å¼å¤šå°‘æœ‰ç‚¹ä¸æ€ä¹ˆæ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®nginxæ¥è¿›è¡Œåå‘ä»£ç†ï¼Œä½¿ç”¨åŸŸåæ¥è®¿é—®æˆ‘ä»¬çš„x-uiçš„ç•Œé¢ã€‚\nx-uié…ç½® ç¬¬ä¸€æ¬¡éœ€è¦ä½¿ç”¨ip+ç«¯å£çš„å½¢å¼è¿›è¡Œç™»å½•ï¼Œç™»å½•x-uiåæˆ‘ä»¬è¿›å…¥é¢æ¿è®¾ç½®-é¢æ¿urlæ ¹è·¯å¾„é…ç½®ï¼Œé»˜è®¤æ˜¯/,æˆ‘ä»¬å°†å®ƒæ”¹ä¸ºæˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„è·¯å¾„ï¼Œæˆ‘è¿™é‡Œæ”¹ä¸º/ui.\nnginxé…ç½® é…ç½®nginxçš„é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è½¬å‘é…ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 server { listen 80; server_name _; #access_log /var/log/nginx/host.access.log main; location /ui { proxy_set_header X-Real-IP $remote_addr; proxy_set_header Host $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_ignore_client_abort on; proxy_pass http://172.17.0.1:8080; } } å¦‚æœä¸é™åˆ¶åŸŸåserver_nameé…ç½®ä¸º_å°±å¯ä»¥äº†ï¼Œå¦‚æœè¦é™åˆ¶åŸŸåï¼Œåˆ™é…ç½®ä¸ºå¯¹åº”çš„åŸŸåã€‚\nå°±å¯ä»¥é€šè¿‡åŸŸåç›´æ¥è¿›è¡Œè®¿é—®äº†ã€‚\nèŠ‚ç‚¹æ·»åŠ  ç°åœ¨æœ€å¸¸ç”¨çš„èŠ‚ç‚¹è¿˜æ˜¯vlessèŠ‚ç‚¹ï¼Œä¸‹è¾¹å°±æ·»åŠ ä¸€ä¸ªvlessèŠ‚ç‚¹æ¥ä½¿ç”¨ï¼š\nç”¨æˆ·å°±ä½¿ç”¨xuiè‡ªå·±ç”Ÿæˆçš„ç”¨æˆ·ä¿¡æ¯å°±å¯ä»¥äº†ã€‚\nflowéœ€è¦æ”¹æˆxtls-rprx-vision,\nå®‰å…¨é€‰é¡¹ä½¿ç”¨Realityï¼Œç„¶åä¸‹è¾¹çš„éƒ½å¯ä»¥è‡ªåŠ¨ç”Ÿæˆï¼Œ\nserverNameså¯ä»¥ä½¿ç”¨xuiè‡ªå·±ç”Ÿæˆçš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘ä»¬è‡ªå·±æ‰¾çš„ã€‚\nç„¶åå°±æ˜¯ä¿å­˜ï¼Œå»ç›¸å…³çš„å®¢æˆ·ç«¯é‡ŒæŒ‰ç…§æˆ‘ä»¬çš„é…ç½®è¿›è¡Œå¡«å†™ï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä¸Šç½‘äº†ã€‚\nè¿™é‡Œæ¼”ç¤ºä¸€ä¸‹openwrtä¸­çš„é…ç½®ï¼š\nåŸºæœ¬å°±æ˜¯å¯¹ç€xuié‡Œçš„è¿›è¡ŒæŠ„å°±è¡Œäº†ï¼Œåœ°å€å°±æ˜¯è‡ªå·±çš„vpsåœ°å€ï¼Œç«¯å£åœ¨xuiçš„æˆªå›¾é‡Œæ²¡æœ‰æˆªå–åˆ°ï¼ŒæŒ‰è‡ªå·±æ·»åŠ çš„ç«¯å£è¿›è¡Œå¡«å†™å°±è¡Œäº†ã€‚ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ä¸Šç½‘äº†ã€‚\n","date":"2023-03-26T01:39:01Z","image":"https://images.iminling.com/app/hide.php?key=dmRweU41MERsbjlVeVBxMUJOMzZSN0VyRE15VzhId1FsY3JiWHBtL1FKWXEyUzczTXMzemFCc2twSDMvOWU0dEFyNGpqOFU9","permalink":"https://konghanghang.github.io/iminling-pages/2023/x-ui-configuration-and-use/","title":"x-uiå®‰è£…é…ç½®ä½¿ç”¨"},{"content":"æœ€è¿‘xrayæ–°ç‰ˆæœ¬1.8å‘å¸ƒäº†ï¼Œå¤‡å—æœŸå¾…çš„realityä¹Ÿéšä¹‹è€Œæ¥ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹æˆ‘æŠ˜è…¾realityçš„è¿‡ç¨‹ã€‚\né¦–å…ˆæ˜¯å»realityçš„å®˜æ–¹ä»“åº“æŸ¥çœ‹ä¸€ä¸‹Rä½¬å†™çš„æ¨¡æ¿,gitåœ°å€ï¼šREALITY æ¨¡æ¿æ–‡ä»¶ ä¸‹é¢å¼€å§‹é…ç½®realityæœåŠ¡å™¨ç«¯ï¼Œé…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 { \u0026#34;inbounds\u0026#34;: [ // æœåŠ¡ç«¯å…¥ç«™é…ç½® { \u0026#34;listen\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;port\u0026#34;: 443, \u0026#34;protocol\u0026#34;: \u0026#34;vless\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;\u0026#34;, // å¿…å¡«ï¼Œæ‰§è¡Œ ./xray uuid ç”Ÿæˆï¼Œæˆ– 1-30 å­—èŠ‚çš„å­—ç¬¦ä¸² \u0026#34;flow\u0026#34;: \u0026#34;xtls-rprx-vision\u0026#34; // é€‰å¡«ï¼Œè‹¥æœ‰ï¼Œå®¢æˆ·ç«¯å¿…é¡»å¯ç”¨ XTLS } ], \u0026#34;decryption\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;reality\u0026#34;, \u0026#34;realitySettings\u0026#34;: { \u0026#34;show\u0026#34;: false, // é€‰å¡«ï¼Œè‹¥ä¸º trueï¼Œè¾“å‡ºè°ƒè¯•ä¿¡æ¯ \u0026#34;dest\u0026#34;: \u0026#34;example.com:443\u0026#34;, // å¿…å¡«ï¼Œæ ¼å¼åŒ VLESS fallbacks çš„ dest \u0026#34;xver\u0026#34;: 0, // é€‰å¡«ï¼Œæ ¼å¼åŒ VLESS fallbacks çš„ xver \u0026#34;serverNames\u0026#34;: [ // å¿…å¡«ï¼Œå®¢æˆ·ç«¯å¯ç”¨çš„ serverName åˆ—è¡¨ï¼Œæš‚ä¸æ”¯æŒ * é€šé…ç¬¦ \u0026#34;example.com\u0026#34;, \u0026#34;www.example.com\u0026#34; ], \u0026#34;privateKey\u0026#34;: \u0026#34;\u0026#34;, // å¿…å¡«ï¼Œæ‰§è¡Œ ./xray x25519 ç”Ÿæˆ \u0026#34;minClientVer\u0026#34;: \u0026#34;\u0026#34;, // é€‰å¡«ï¼Œå®¢æˆ·ç«¯ Xray æœ€ä½ç‰ˆæœ¬ï¼Œæ ¼å¼ä¸º x.y.z \u0026#34;maxClientVer\u0026#34;: \u0026#34;\u0026#34;, // é€‰å¡«ï¼Œå®¢æˆ·ç«¯ Xray æœ€é«˜ç‰ˆæœ¬ï¼Œæ ¼å¼ä¸º x.y.z \u0026#34;maxTimeDiff\u0026#34;: 0, // é€‰å¡«ï¼Œå…è®¸çš„æœ€å¤§æ—¶é—´å·®ï¼Œå•ä½ä¸ºæ¯«ç§’ \u0026#34;shortIds\u0026#34;: [ // å¿…å¡«ï¼Œå®¢æˆ·ç«¯å¯ç”¨çš„ shortId åˆ—è¡¨ï¼Œå¯ç”¨äºåŒºåˆ†ä¸åŒçš„å®¢æˆ·ç«¯ \u0026#34;\u0026#34; // è‹¥æœ‰æ­¤é¡¹ï¼Œå®¢æˆ·ç«¯ shortId å¯ä¸ºç©º \u0026#34;0123456789abcdef\u0026#34; // 0 åˆ° fï¼Œé•¿åº¦ä¸º 2 çš„å€æ•°ï¼Œé•¿åº¦ä¸Šé™ä¸º 16 ] } } } ] } clientså‚æ•° clientsçš„é…ç½®å’Œä»¥å‰çš„vlessé…ç½®ä¸€æ ·ï¼Œidå¯ä»¥ä½¿ç”¨xrayæ ¸å¿ƒç¨‹åºæ¥ç”Ÿæˆï¼š\n1 2 root@r-6c5317:~/xray# ./xray uuid 94281a1a-33bc-445a-ace9-0fdd56a0c14a stramSettings æœ€é‡è¦çš„é…ç½®æ˜¯streamSettingsçš„é…ç½®ï¼Œsecurityè¦é…ç½®æˆreality ,destå®˜æ–¹å»ºè®®å¦‚ä¸‹ï¼š\né€šå¸¸ä»£ç†ç”¨é€”ï¼Œç›®æ ‡ç½‘ç«™æœ€ä½æ ‡å‡†ï¼š**å›½å¤–ç½‘ç«™ï¼Œæ”¯æŒ TLSv1.3 ä¸ H2ï¼ŒåŸŸåéè·³è½¬ç”¨**ï¼ˆä¸»åŸŸåå¯èƒ½è¢«ç”¨äºè·³è½¬åˆ° wwwï¼‰\nåŠ åˆ†é¡¹ï¼šIP ç›¸è¿‘ï¼ˆæ›´åƒï¼Œä¸”å»¶è¿Ÿä½ï¼‰ï¼ŒServer Hello åçš„æ¡æ‰‹æ¶ˆæ¯ä¸€èµ·åŠ å¯†ï¼ˆå¦‚ dl.google.comï¼‰ï¼Œæœ‰ OCSP Stapling\né…ç½®åŠ åˆ†é¡¹ï¼š**ç¦å›å›½æµé‡ï¼ŒTCP/80ã€UDP/443 ä¹Ÿè½¬å‘**ï¼ˆREALITY å¯¹å¤–è¡¨ç°å³ä¸ºç«¯å£è½¬å‘ï¼Œç›®æ ‡ IP å†·é—¨æˆ–è®¸æ›´å¥½ï¼‰ å½“æˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªdest åŸŸååï¼Œå¯ä»¥ä½¿ç”¨xrayæ ¸å¿ƒæ¥ç¡®å®šserverNameså¦‚ä½•å¡«ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹xrayæ ¸å¿ƒæœ‰é‚£äº›å‘½ä»¤å¯ä»¥ä½¿ç”¨ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@r-6c5317:~/xray# ./xray -h Xray is a platform for building proxies. Usage: xray \u0026lt;command\u0026gt; [arguments] The commands are: run Run Xray with config, the default command version Show current version of Xray api Call an API in an Xray process tls TLS tools uuid Generate UUIDv4 or UUIDv5 x25519 Generate key pair for x25519 key exchange Use \u0026#34;xray help \u0026lt;command\u0026gt;\u0026#34; for more information about a command. serverNames æœ‰ä¸€ä¸ªtls toolsï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥ç¡®å®šserverNamesï¼Œæ‰§è¡Œ xray tls ping ç›®æ ‡ç½‘ç«™ç½‘å€ï¼Œå¡« \u0026ldquo;Allowed domains\u0026rdquo; çš„å€¼ã€‚æˆ‘è¿™é‡Œä½¿ç”¨å¾®è½¯çš„åŸŸåï¼Œæ‰€ä»¥æƒ…å†µå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 root@r-6c5317:~/xray# ./xray tls ping www.microsoft.com Tls ping: www.microsoft.com Using IP: 23.3.85.234 ------------------- Pinging without SNI Handshake succeeded Allowed domains: [wwwqa.microsoft.com www.microsoft.com staticview.microsoft.com i.s-microsoft.com microsoft.com c.s-microsoft.com privacy.microsoft.com] ------------------- Pinging with SNI handshake succeeded Allowed domains: [wwwqa.microsoft.com www.microsoft.com staticview.microsoft.com i.s-microsoft.com microsoft.com c.s-microsoft.com privacy.microsoft.com] Tls ping finished å¯ä»¥æŠŠä¸Šé¢çš„åŸŸåå¡«å†™åˆ°serverNamesä¸­ï¼Œå®¢æˆ·ç«¯åœ¨ä½¿ç”¨çš„æ—¶å€™æ‰¾ä¸€ä¸ªåŸŸåæ¥å¡«å†™ã€‚\nprivateKey ä¸‹è¾¹è¯´ä¸€ä¸‹privateKeyå‚æ•°ï¼Œä¹Ÿæ˜¯è¦ä½¿ç”¨xrayæ ¸å¿ƒç¨‹åºæ¥ç”Ÿæˆçš„ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬æŸ¥çœ‹xray -hçš„æ—¶å€™æœ‰ä¸€ä¸ªx25519çš„å‘½ä»¤ï¼Œç”Ÿæˆå¦‚ä¸‹ï¼š 1 2 3 root@r-6c5317:~/xray# ./xray x25519 Private key: YIHyZpW1NJLck_XTCG8IYMMqq1JG7w2Vm95HMAbB51g Public key: Xh_hBw4E5SBFjreeAQQjnUMlvLvFPeELy2Xdvur6XwU æœåŠ¡å™¨ç«¯å°±ä½¿ç”¨ privateKeyï¼Œå®¢æˆ·ç«¯åœ¨ä½¿ç”¨çš„æ—¶å€™å°±ç”¨publicKeyã€‚\nå®Œæ•´æœåŠ¡ç«¯é…ç½® æ‰€ä»¥å®Œæ•´çš„xrayæœåŠ¡ç«¯çš„é…ç½®config.jsonå¦‚ä¸‹ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 { \u0026#34;log\u0026#34;: { \u0026#34;loglevel\u0026#34;: \u0026#34;warning\u0026#34;, \u0026#34;access\u0026#34;: \u0026#34;/var/log/xray/access.log\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;/var/log/xray/error.log\u0026#34; }, \u0026#34;api\u0026#34;: { \u0026#34;services\u0026#34;: [ \u0026#34;HandlerService\u0026#34;, \u0026#34;LoggerService\u0026#34;, \u0026#34;StatsService\u0026#34; ], \u0026#34;tag\u0026#34;: \u0026#34;api\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;listen\u0026#34;: null, \u0026#34;port\u0026#34;: 13100, \u0026#34;protocol\u0026#34;: \u0026#34;vless\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;0c41318a-32b6-4017-9938-4033bf26b111\u0026#34;, \u0026#34;flow\u0026#34;: \u0026#34;xtls-rprx-vision\u0026#34; } ], \u0026#34;decryption\u0026#34;: \u0026#34;none\u0026#34; }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;tcp\u0026#34;, \u0026#34;security\u0026#34;: \u0026#34;reality\u0026#34;, \u0026#34;realitySettings\u0026#34;: { \u0026#34;show\u0026#34;: false, \u0026#34;dest\u0026#34;: \u0026#34;www.microsoft.com:443\u0026#34;, \u0026#34;xver\u0026#34;: 0, \u0026#34;serverNames\u0026#34;: [ \u0026#34;www.microsoft.com\u0026#34; ], \u0026#34;privateKey\u0026#34;: \u0026#34;YIHyZpW1NJLck_XTCG8IYMMqq1JG7w2Vm95HMAbB51g\u0026#34;, \u0026#34;shortIds\u0026#34;: [ \u0026#34;6ba85179e30d4fc2\u0026#34; ] } }, \u0026#34;sniffing\u0026#34;: { \u0026#34;enabled\u0026#34;: true, \u0026#34;destOverride\u0026#34;: [ \u0026#34;http\u0026#34;, \u0026#34;tls\u0026#34; ] } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;tag\u0026#34;:\u0026#34;common\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34; }, { \u0026#34;protocol\u0026#34;: \u0026#34;blackhole\u0026#34;, \u0026#34;settings\u0026#34;: {}, \u0026#34;tag\u0026#34;: \u0026#34;blocked\u0026#34; } ], \u0026#34;routing\u0026#34;: { \u0026#34;rules\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;common\u0026#34;, \u0026#34;network\u0026#34;: \u0026#34;udp,tcp\u0026#34; }, { \u0026#34;type\u0026#34;: \u0026#34;field\u0026#34;, \u0026#34;outboundTag\u0026#34;: \u0026#34;blocked\u0026#34;, \u0026#34;ip\u0026#34;: [ \u0026#34;geoip:cn\u0026#34;, \u0026#34;geoip:private\u0026#34; ] } ] }, \u0026#34;policy\u0026#34;: { \u0026#34;statsInboundUplink\u0026#34;: true, \u0026#34;statsInboundDownlink\u0026#34;: true, \u0026#34;statsOutboundUplink\u0026#34;: true, \u0026#34;statsOutboundDownlink\u0026#34;: true }, \u0026#34;dns\u0026#34;: null, \u0026#34;transport\u0026#34;: null, \u0026#34;stats\u0026#34;: null, \u0026#34;reverse\u0026#34;: null, \u0026#34;fakeDns\u0026#34;: null } å®¢æˆ·ç«¯é…ç½® å®¢æˆ·ç«¯æˆ‘ä½¿ç”¨çš„æ˜¯v2rayNï¼Œé…ç½®å¦‚ä¸‹ï¼š\nä»¥ä¸Šå°±æ˜¯æŠ˜è…¾çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå®Œç¾ä¸Šç½‘ã€‚\n","date":"2023-03-11T18:30:56Z","image":"https://images.iminling.com/app/hide.php?key=TUVLUjRhOHdSS21VVjh4dDdmbElGUVhHZHRFRlR3c3h1R2F2Qi8wOEg0V3V6cGZReGx5NUs1Z3FQYjRhVXdCdm14WWVma2c9","permalink":"https://konghanghang.github.io/iminling-pages/2023/xray-configutaion-reality/","title":"xrayé…ç½®ä½¿ç”¨reality"},{"content":"æœ€è¿‘åœ¨å°è¯•æ­å»ºspringboot+dubbo+shiroåŸºäºæ³¨è§£çš„ä¸€ä¸ªé¡¹ç›®,çªå‘å¥‡æƒ³æƒ³æŠŠæ¶ˆæ¯è½¬æ¢å™¨ä»jacksonæ¢æˆfastjson,äºæ˜¯å°±å¼€å§‹äº†æŠ˜è…¾ä¹‹è·¯.\nè½»è½¦ç†Ÿè·¯çš„å»è‡ªå®šäº†ä¸€ä¸ªSpringMvcConfigureå»ç»§æ‰¿WebMvcConfigurerAdapter,ç„¶åå°±å‘ç°è¿™ä¸ªWebMvcConfigurerAdapterç«Ÿç„¶è¿‡æ—¶äº†?what?ç‚¹è¿›å»çœ‹æºç :\n1 2 3 4 5 6 7 8 9 10 11 12 /** * An implementation of {@link WebMvcConfigurer} with empty methods allowing * subclasses to override only the methods they\u0026#39;re interested in. * * @author Rossen Stoyanchev * @since 3.1 * @deprecated as of 5.0 {@link WebMvcConfigurer} has default methods (made * possible by a Java 8 baseline) and can be implemented directly without the * need for this adapter */ @Deprecated public abstract class WebMvcConfigurerAdapter implements WebMvcConfigurer {} å¯ä»¥çœ‹åˆ°ä»spring5.0å¼€å§‹å°±è¢«@Deprecated,åŸæ¥æ˜¯java8ä¸­æ”¯æŒæ¥å£ä¸­æœ‰é»˜è®¤æ–¹æ³•,æ‰€ä»¥æˆ‘ä»¬ç°åœ¨å¯ä»¥ç›´æ¥å®ç°WebMvcConfigurer,ç„¶åé€‰æ‹©æ€§çš„å»é‡å†™æŸä¸ªæ–¹æ³•,è€Œä¸ç”¨å®ç°å®ƒçš„æ‰€æœ‰æ–¹æ³•.\näºæ˜¯å°±å®ç°äº†WebMvcConfigurer:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @Configuration public class SpringMvcConfigure implements WebMvcConfigurer { /** * é…ç½®æ¶ˆæ¯è½¬æ¢å™¨ * @param converters */ @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { FastJsonHttpMessageConverter fastJsonHttpMessageConverter = new FastJsonHttpMessageConverter(); //è‡ªå®šä¹‰é…ç½®... FastJsonConfig config = new FastJsonConfig(); config.setSerializerFeatures(SerializerFeature.QuoteFieldNames, SerializerFeature.WriteEnumUsingToString, /*SerializerFeature.WriteMapNullValue,*/ SerializerFeature.WriteDateUseDateFormat, SerializerFeature.DisableCircularReferenceDetect); fastJsonHttpMessageConverter.setFastJsonConfig(config); converters.add(fastJsonHttpMessageConverter); } } æœ¬ä»¥ä¸ºè¿™æ ·å­é…ç½®å°±å¯ä»¥å®Œäº‹å„¿,ä½†æ˜¯è¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿäº†,æˆ‘æ˜æ˜æ³¨é‡Šäº†SerializerFeature.WriteMapNullValue,å¯æ˜¯è¿”å›çš„jsonä¸­ä»ç„¶æœ‰ä¸ºnullçš„å­—æ®µ,ç„¶åæˆ‘å°±å»com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverterä¸­çš„writeå’ŒwriteInternalæ‰“äº†æ–­ç‚¹,å†æ¬¡æ‰§è¡Œ,ç«Ÿç„¶ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿ,æ ¹æœ¬æ²¡æœ‰èµ°è¿™ä¸¤ä¸ªæ–¹æ³•,äºæ˜¯åœ¨è‡ªå®šä¹‰çš„SpringMvcConfigureä¸­configureMessageConvertersæ–¹æ³•å†…æ‰“äº†æ–­ç‚¹,æƒ³çœ‹çœ‹è¿™ä¸ªæ–¹æ³•å‚æ•°convertersé‡Œè¾¹åˆ°åº•æœ‰ä»€ä¹ˆ:\nçœ‹åˆ°è¿™é‡Œå°±æƒ³åˆ°,è‚¯å®šæ˜¯æˆ‘è‡ªå·±æ·»åŠ çš„fastjsonåœ¨åè¾¹,æ‰€ä»¥æ²¡æœ‰ç”Ÿæ•ˆ,æ‰€ä»¥å°±åŠ äº†ä»¥ä¸‹ä»£ç :\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { converters = converters.stream() .filter((converter)-\u0026gt; !(converter instanceof MappingJackson2HttpMessageConverter)) .collect(Collectors.toList()); FastJsonHttpMessageConverter fastJsonHttpMessageConverter = new FastJsonHttpMessageConverter(); //è‡ªå®šä¹‰é…ç½®... FastJsonConfig config = new FastJsonConfig(); config.setSerializerFeatures(SerializerFeature.QuoteFieldNames, SerializerFeature.WriteEnumUsingToString, /*SerializerFeature.WriteMapNullValue,*/ SerializerFeature.WriteDateUseDateFormat, SerializerFeature.DisableCircularReferenceDetect); fastJsonHttpMessageConverter.setFastJsonConfig(config); converters.add(fastJsonHttpMessageConverter); } ç«Ÿç„¶è¿˜æ²¡æœ‰ç”Ÿæ•ˆ,åæ¥å¼€å§‹è¿½è¸ª,å¼€å§‹æ–¹æ³•æ˜¯ä»org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupportç±»ä¸­çš„ä¸€ä¸ªbeané…ç½®:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 @Bean public RequestMappingHandlerAdapter requestMappingHandlerAdapter() { RequestMappingHandlerAdapter adapter = createRequestMappingHandlerAdapter(); adapter.setContentNegotiationManager(mvcContentNegotiationManager()); //å°±æ˜¯ä»è¿™é‡Œå¼€å§‹è®¾ç½®convertersçš„,ç„¶åä»è¿™é‡Œä¸€è·¯è¿½è¸ªä¸‹å». adapter.setMessageConverters(getMessageConverters()); adapter.setWebBindingInitializer(getConfigurableWebBindingInitializer()); adapter.setCustomArgumentResolvers(getArgumentResolvers()); adapter.setCustomReturnValueHandlers(getReturnValueHandlers()); if (jackson2Present) { adapter.setRequestBodyAdvice(Collections.singletonList(new JsonViewRequestBodyAdvice())); adapter.setResponseBodyAdvice(Collections.singletonList(new JsonViewResponseBodyAdvice())); } AsyncSupportConfigurer configurer = new AsyncSupportConfigurer(); configureAsyncSupport(configurer); if (configurer.getTaskExecutor() != null) { adapter.setTaskExecutor(configurer.getTaskExecutor()); } if (configurer.getTimeout() != null) { adapter.setAsyncRequestTimeout(configurer.getTimeout()); } adapter.setCallableInterceptors(configurer.getCallableInterceptors()); adapter.setDeferredResultInterceptors(configurer.getDeferredResultInterceptors()); return adapter; } getMessageConverters()æ–¹æ³•:\n1 2 3 4 5 6 7 8 9 10 11 protected final List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; getMessageConverters() { if (this.messageConverters == null) { this.messageConverters = new ArrayList\u0026lt;\u0026gt;(); configureMessageConverters(this.messageConverters);//è¿›å…¥è¿™ä¸€æ­¥ if (this.messageConverters.isEmpty()) { addDefaultHttpMessageConverters(this.messageConverters); } extendMessageConverters(this.messageConverters); } return this.messageConverters; } org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration:\n1 2 3 4 5 6 7 8 9 10 @Override protected void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { this.configurers.configureMessageConverters(converters); } @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { for (WebMvcConfigurer delegate : this.delegates) { delegate.configureMessageConverters(converters); } } this.delegatesåŒ…å«äº†springbootçš„ä¸€ä¸ªé»˜è®¤é…ç½®ç±»ç±»:org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfigurationé‡Œè¾¹æœ‰ä¸€ä¸ªå‚æ•°\n1 private final HttpMessageConverters messageConverters; forå¾ªç¯é‡Œçš„delegate.configureMessageConverters(converters)è°ƒç”¨äº†WebMvcAutoConfigurationä¸­çš„configureMessageConvertersæ–¹æ³•:\n1 2 3 4 @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { converters.addAll(this.messageConverters.getConverters()); } æ‰§è¡Œå®Œè¿™ä¸ªå,å°±ç»™convertersä¸­æ·»åŠ äº†10ä¸ªè½¬æ¢å™¨äº†,å°±æ˜¯ä¸Šå›¾ä¸­çš„10ä¸ª. this.delegatesä¸­è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„é‚£ä¸ª,æ‰§è¡Œå®Œå,åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„é‚£ä¸ªSpringMvcConfigureå‘ç°æˆ‘æ·»åŠ çš„fastjsonæ·»åŠ è¿›å»äº†,ä½†æ˜¯org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getMessageConverters(),å‘ç°converterså¹¶æ²¡æœ‰å‘ç°æˆ‘ä»¬æ·»åŠ è¿›å»çš„FastJsonHttpMessageConverter,è¿™æ—¶çªç„¶åˆæƒ³èµ·æ¥:java8çš„stream apiæ¯æ¬¡éƒ½æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡,æ‰€ä»¥å¯¼è‡´converterså·²ç»ä¸æ˜¯ä¼ é€’è¿‡æ¥çš„é‚£ä¸ªconvertersçš„å¼•ç”¨äº†(è¿™é‡Œä¹Ÿè¯æ˜äº†javaæ˜¯å€¼ä¼ é€’,ä¸æ˜¯å¼•ç”¨ä¼ é€’).\näºæ˜¯å†æ¬¡æ”¹å˜é‚£ä¸ªlambdaè¡¨è¾¾å¼ä¸ºæ™®é€šçš„å¢å¼ºforå¾ªç¯:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { /*converters = converters.stream(). filter((converter)-\u0026gt; !(converter instanceof MappingJackson2HttpMessageConverter)) .collect(Collectors.toList());*/ for (HttpMessageConverter\u0026lt;?\u0026gt; converter : converters) { if (converter instanceof MappingJackson2HttpMessageConverter){ converters.remove(converter); } } FastJsonHttpMessageConverter fastJsonHttpMessageConverter = new FastJsonHttpMessageConverter(); //è‡ªå®šä¹‰é…ç½®... FastJsonConfig config = new FastJsonConfig(); config.setSerializerFeatures(SerializerFeature.QuoteFieldNames, SerializerFeature.WriteEnumUsingToString, /*SerializerFeature.WriteMapNullValue,*/ SerializerFeature.WriteDateUseDateFormat, SerializerFeature.DisableCircularReferenceDetect); fastJsonHttpMessageConverter.setFastJsonConfig(config); converters.add(fastJsonHttpMessageConverter); } å†æ¬¡è¿è¡Œ,wtf?æŠ¥é”™äº†:ConcurrentModificationException,åŸæ¥ä½¿ç”¨forå¾ªç¯éå†è¿‡ç¨‹ä¸­ä¸èƒ½è¿›è¡Œremoveæ“ä½œ,äºæ˜¯æ¢æˆIterator:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 @Override public void configureMessageConverters(List\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; converters) { /*converters = converters.stream() .filter((converter)-\u0026gt; !(converter instanceof MappingJackson2HttpMessageConverter)) .collect(Collectors.toList()); for (HttpMessageConverter\u0026lt;?\u0026gt; converter : converters) { if (converter instanceof MappingJackson2HttpMessageConverter){ converters.remove(converter); } }*/ Iterator\u0026lt;HttpMessageConverter\u0026lt;?\u0026gt;\u0026gt; iterator = converters.iterator(); while(iterator.hasNext()){ HttpMessageConverter\u0026lt;?\u0026gt; converter = iterator.next(); if(converter instanceof MappingJackson2HttpMessageConverter){ iterator.remove(); } } FastJsonHttpMessageConverter fastJsonHttpMessageConverter = new FastJsonHttpMessageConverter(); //è‡ªå®šä¹‰é…ç½®... FastJsonConfig config = new FastJsonConfig(); config.setSerializerFeatures(SerializerFeature.QuoteFieldNames, SerializerFeature.WriteEnumUsingToString, /*SerializerFeature.WriteMapNullValue,*/ SerializerFeature.WriteDateUseDateFormat, SerializerFeature.DisableCircularReferenceDetect); fastJsonHttpMessageConverter.setFastJsonConfig(config); converters.add(fastJsonHttpMessageConverter); } å†æ¬¡è¿è¡Œ,æˆ‘å»,ç»ˆäºè§£å†³äº†,å…ˆæ˜¯åˆ é™¤MappingJackson2HttpMessageConverter,ç„¶åæ·»åŠ FastJsonHttpMessageConverter,ä½†æ˜¯ä¸æ˜¯åˆ°ä¸ºä»€ä¹ˆè¿›è¿‡ä¸€ç³»åˆ—æ“ä½œå,MappingJackson2HttpMessageConverterè¿˜æ˜¯æ·»åŠ è¿›å»äº†,ä½†æ˜¯ç”±äºFastJsonHttpMessageConverteråœ¨MappingJackson2HttpMessageConverterä¹‹å‰æ·»åŠ ,æ‰€ä»¥å¯¹ç»“æœä¸å½±å“.è‡³æ­¤,è§£å†³äº†è¿™ä¸ªé—®é¢˜.\næ€»ç»“ æœ€é‡è¦çš„è¿˜æ˜¯è§£å†³äº†springboot2.0.2é…ç½®fastjsonä¸ç”Ÿæ•ˆçš„é—®é¢˜ æ›´åŠ æ˜ç™½stream apiè¿”å›çš„éƒ½æ˜¯å…¨æ–°çš„å¯¹è±¡ æ›´ç†è§£javaæ˜¯å€¼ä¼ é€’è€Œä¸æ˜¯å¼•ç”¨ä¼ é€’ äº†è§£åˆ°æƒ³è¦åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å¯¹é›†åˆè¿›è¡Œæ“ä½œè¦ç”¨Iterator,è€Œä¸æ˜¯ç›´æ¥ç®€å•çš„forå¾ªç¯æˆ–è€…å¢å¼ºforå¾ªç¯ å¦‚æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹è¿˜è¯·æŒ‡å‡º,è°¢è°¢.\n","date":"2023-03-08T06:50:58Z","image":"https://images.iminling.com/app/hide.php?key=SmJabnJsdTlXbDExYlljU3RzemUyTVRlcHFScHFZRUJYSTR1c1BoYkhrZHE3L2RpK05qbkpLQlprcTFPY2QvY3lJaVB3Y3M9","permalink":"https://konghanghang.github.io/iminling-pages/2023/springboot-fastjson-doesnot-work/","title":"è®°ä¸€æ¬¡è¸©å‘:springboot2.0.2é…ç½®fastjsonä¸ç”Ÿæ•ˆ"},{"content":"æ­å»ºä¸€ä¸ªwordpressç½‘ç«™ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»ä½¿ç”¨dockeræ­å»ºä¸€ä¸ªå®Œæ•´çš„wordpressç½‘ç«™ã€‚\nå®‰è£…dockerå°±ä¸åšå¤šä»‹ç»äº†.\nå‡†å¤‡wordpressçš„docker-compose.yamlæ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 version: \u0026#39;3.9\u0026#39; networks: mynet: external: true services: wordpress: # default port 9000 (FastCGI) image: wordpress:6.1.0-fpm container_name: wordpress env_file: - .env restart: unless-stopped networks: - mynet volumes: - ${WORDPRESS_LOCAL_HOME}:/var/www/html - ${WORDPRESS_UPLOADS_CONFIG}:/usr/local/etc/php/conf.d/uploads.ini # - /path/to/repo/myTheme/:/var/www/html/wp-content/themes/myTheme environment: - WORDPRESS_DB_HOST=${WORDPRESS_DB_HOST} - WORDPRESS_DB_NAME=${WORDPRESS_DB_NAME} - WORDPRESS_DB_USER=${WORDPRESS_DB_USER} - WORDPRESS_DB_PASSWORD=${WORDPRESS_DB_PASSWORD} nginx: image: nginx:1.22.0 container_name: nginx env_file: - .env restart: unless-stopped networks: - mynet depends_on: - wordpress ports: - \u0026#34;80:80\u0026#34; # http volumes: - ${WORDPRESS_LOCAL_HOME}:/var/www/html - ./nginx/default.conf:/etc/nginx/conf.d/default.conf - ./logs:/var/log/nginx ä½¿ç”¨å®˜æ–¹çš„6.1.0ç‰ˆæœ¬çš„é•œåƒï¼ŒæŠŠæ–‡ä»¶ä¸­çš„æ•°æ®åº“çš„ä¿¡æ¯æ”¹æˆè‡ªå·±çš„å°±å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ã€‚ ç«¯å£è¿™é‡Œæ²¡æœ‰æš´éœ²å‡ºæ¥ï¼Œå› ä¸ºæˆ‘æƒ³ä½¿ç”¨nginxæ¥å¤„ç†æ‰€æœ‰è¯·æ±‚ï¼Œæ‰€ä»¥è¿˜éœ€è¦é…ç½®ä¸€ä¸‹nginxçš„ä»£ç†è§„åˆ™ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 server { listen 80; listen [::]:80; server_name ${HOST}; index index.php index.html index.htm; root /var/www/html; server_tokens off; client_max_body_size 75M; # update ssl files as required by your deployment #ssl_certificate /etc/ssl/fullchain.pem; #ssl_certificate_key /etc/ssl/privkey.pem; # logging access_log /var/log/nginx/wordpress.access.log; error_log /var/log/nginx/wordpress.error.log; # some security headers ( optional ) add_header X-Frame-Options \u0026#34;SAMEORIGIN\u0026#34; always; add_header X-XSS-Protection \u0026#34;1; mode=block\u0026#34; always; add_header X-Content-Type-Options \u0026#34;nosniff\u0026#34; always; add_header Referrer-Policy \u0026#34;no-referrer-when-downgrade\u0026#34; always; add_header Content-Security-Policy \u0026#34;default-src * data: \u0026#39;unsafe-eval\u0026#39; \u0026#39;unsafe-inline\u0026#39;\u0026#34; always; location / { try_files $uri $uri/ /index.php$is_args$args; } location ~ \\.php$ { try_files $uri = 404; fastcgi_split_path_info ^(.+\\.php)(/.+)$; fastcgi_pass wordpress:9000; fastcgi_index index.php; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; } location ~ /\\.ht { deny all; } location = /favicon.ico { log_not_found off; access_log off; } location = /favicon.svg { log_not_found off; access_log off; } location = /robots.txt { log_not_found off; access_log off; allow all; } location ~* \\.(css|gif|ico|jpeg|jpg|js|png)$ { expires max; log_not_found off; } } å®Œæˆåå°±å¯ä»¥ä½¿ç”¨åŸŸåæ¥è®¿é—®äº†ã€‚\nä¹Ÿå¯ä»¥å‚è€ƒæˆ‘çš„githubä»“åº“ä¸­çš„docker-compose.yamlæ–‡ä»¶ï¼šwordpress\n","date":"2023-03-07T06:59:39Z","image":"https://images.iminling.com/app/hide.php?key=U3grOTJQSUZnQ1N0T2hlU0gydlRwbGdXalNiNmdMSGl4Rk1XNTF2dE0ydlpydmFkZXA0WFhsUEZ5d0o5MnZ4c2tHTkEzSm89","permalink":"https://konghanghang.github.io/iminling-pages/2023/docker-install-wordpress/","title":"dockeræ­å»ºwordpressæ•™ç¨‹"}]